(self.modernJsonp=self.modernJsonp||[]).push([["9326"],{880192(e,l,a){a.d(l,{A:()=>n});var t=a(834961),i=a(484645);function n(e,l){(0,i.A)(2,arguments);var a=(0,t.A)(e),n=(0,t.A)(l);return a.getTime()===n.getTime()}},834961(e,l,a){a.d(l,{A:()=>n});var t=a(491553),i=a(484645);function n(e){(0,i.A)(1,arguments);var l=(0,t.A)(e);return l.setHours(0,0,0,0),l}},222542(e,l,a){a.d(l,{A:()=>n});var t=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,l){if(e.length!==l.length)return!1;for(var a,i,n=0;n<e.length;n++)if(!((a=e[n])===(i=l[n])||t(a)&&t(i))&&1)return!1;return!0}let n=function(e,l){void 0===l&&(l=i);var a,t,n=[],s=!1;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return s&&a===this&&l(i,n)||(t=e.apply(this,i),s=!0,a=this,n=i),t}}},134727(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AuthDesktopWebCloseupMainPinImpression_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="cc72e00dad8d20ff5e78b580bc4b3428";let i=t},799593(e,l,a){var t;a.r(l),a.d(l,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AuthDesktopWebCloseupRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};i.hash="e14ca1f7206af247fd92152e908713dc";let n=i},961821(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AuthDesktopWebCloseupVideoWithVisibility_pin",selections:[{args:null,kind:"FragmentSpread",name:"AuthDesktopWebCloseupVideoNonDuplo_pin"}],type:"Pin",abstractKey:null};t.hash="ce07acf2409b70d391c02aa34c238945";let i=t},824490(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"BasicsCategoriesMetadata_keyValueBlocks",selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"StoryPinKeyValueBlock",abstractKey:null};t.hash="e023b848702237b2810d4b43b4e59115";let i=t},454362(e,l,a){var t,i,n,s,r,o,d,u,c,p,g,m,h,y,_,v,k,f,b,x,S,P,w,A,C,F,I,T,K,L,j,M,R,z,D,E,B,V,O,U,N,W,H,G,$,Q,X,q,J,Y,Z,ee,el,ea,et,ei,en,es,er,eo,ed,eu,ec,ep,eg,em,eh,ey,e_,ev,ek,ef,eb,ex,eS,eP,ew,eA,eC,eF,eI,eT,eK,eL;a.r(l),a.d(l,{default:()=>eM});let ej=(t={defaultValue:null,kind:"LocalArgument",name:"isAuth"},i={defaultValue:!1,kind:"LocalArgument",name:"isCloseupRelatedModulesFeedQuery"},n={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},s={defaultValue:null,kind:"LocalArgument",name:"pinId"},r={defaultValue:!1,kind:"LocalArgument",name:"shouldPrefetchCloseupPreviewFragment"},o=[{kind:"Variable",name:"pin",variableName:"pinId"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},k=[{kind:"Literal",name:"spec",value:"236x"}],x=[y={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],S={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},T=[f,b,p,d],L=[f,K={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},p,b],j={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},z=[f,p,b],E=[D={alias:null,args:null,kind:"ScalarField",name:"blockId",storageKey:null},f,K,b,p],B=[{kind:"Literal",name:"spec",value:"474x"}],V=[{kind:"Literal",name:"spec",value:"564x"}],O=[{kind:"Literal",name:"spec",value:"736x"}],U={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},W={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:N=[d],storageKey:null}],storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},G=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],$={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},q={alias:"images_236x",args:k,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:N,storageKey:'additionalImagesPerSpec(spec:"236x")'},J={alias:"images_474x",args:B,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:N,storageKey:'additionalImagesPerSpec(spec:"474x")'},Y={alias:"images_564x",args:V,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:N,storageKey:'additionalImagesPerSpec(spec:"564x")'},Z={alias:"images_736x",args:O,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:N,storageKey:'additionalImagesPerSpec(spec:"736x")'},ee={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},ea={alias:"image_236x",args:k,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:el=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:z,storageKey:null},_],storageKey:'additionalImagesPerSpec(spec:"236x")'},et={alias:"image_474x",args:B,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:el,storageKey:'additionalImagesPerSpec(spec:"474x")'},ei={alias:"image_564x",args:V,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:el,storageKey:'additionalImagesPerSpec(spec:"564x")'},en={alias:"image_736x",args:O,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:el,storageKey:'additionalImagesPerSpec(spec:"736x")'},es={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null},d],storageKey:null},er={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},eo=[f,p,b,y],ed=[p],eu={alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},ec=[m,g,w,A,C,F],ep={alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},eh={kind:"InlineFragment",selections:em=[H,eg={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ParagraphBlock",abstractKey:null},ey={kind:"InlineFragment",selections:em,type:"HeadingBlock",abstractKey:null},e_={kind:"InlineFragment",selections:em,type:"TextBlock",abstractKey:null},ev=[K,p,b,f,j],eb={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null}],storageKey:null}],storageKey:null},ex=[ek={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},I,ef={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null}],eS={alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},eP={alias:null,args:null,kind:"ScalarField",name:"showFewerWeightLossAds",storageKey:null},ew={alias:null,args:null,kind:"ScalarField",name:"showAdReasons",storageKey:null},eT=[eA={alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},eC={alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},eF={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},eI={alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},M,er,p],eK={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},eL={alias:null,args:null,concreteType:"ActionOptions",kind:"LinkedField",name:"actionOptions",plural:!1,selections:[eA,{alias:null,args:null,kind:"ScalarField",name:"interestId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interestList",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"complaintReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedbackType",storageKey:null},eu,{alias:null,args:null,kind:"ScalarField",name:"pinType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recommendationReasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"undo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newsId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"throughId",storageKey:null},{alias:null,args:null,concreteType:"ThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[Q,$],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null},X],storageKey:null},{fragment:{argumentDefinitions:[t,i,n,s,r],kind:"Fragment",metadata:null,name:"BreadcrumbsUnifiedPinRepPinQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRep_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,t,n,i,r],kind:"Operation",name:"BreadcrumbsUnifiedPinRepPinQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[u,c,p,g,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"featuredIn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}]},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[m,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},_,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},v,{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nearDupSig",storageKey:null},{alias:"images_236x",args:k,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[d,g,S,P,m,w,A,C,F,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"GenAIInterestData",kind:"LinkedField",name:"genAiTopics",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"interestIdStr",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},g,F,w,m,P,S,d,C,I,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[d,g,m,w,F,A,C],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[m,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:T,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[f,b,p,d,K],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:T,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T1V2",plural:!1,selections:L,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T2V2",plural:!1,selections:L,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T3V2",plural:!1,selections:L,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T4V2",plural:!1,selections:L,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T5V2",plural:!1,selections:L,storageKey:null},d],storageKey:null},g,d,j],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[M,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},v,R,{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},_,{alias:"images_236x",args:k,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[m,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:E,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:E,storageKey:null}],storageKey:null},g],storageKey:null},d,{alias:"images_474x",args:B,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:V,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"564x")'},{alias:"images_736x",args:O,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"736x")'},U],storageKey:null},g,d,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[d,U,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:z,storageKey:null},v],storageKey:null},W]},g,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},{alias:null,args:null,concreteType:"AggregatedStats",kind:"LinkedField",name:"aggregatedStats",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"saves",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},g,{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,{kind:"InlineFragment",selections:[H,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:G,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[D,f,K,b,p,d],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},d],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},m,{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[d,g,c,p,m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[$,Q],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isWeightLossAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creativeType",storageKey:null},{alias:null,args:null,concreteType:"ThirdPartyAdClientData",kind:"LinkedField",name:"thirdParty",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"adPayload",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},X,{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[R,{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},q,J,Y,Z,ee,ea,et,ei,en,d,es,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[c],storageKey:null},c,{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},p],storageKey:null},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[d,f,p,b,y],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},er],storageKey:null},{alias:"images_474x",args:B,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eo,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:V,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"564x")'},{alias:"images_736x",args:O,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eo,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},M,{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"300x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[f,b,p],storageKey:'images(spec:"300x")'},{alias:"images_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"136x136")'},{alias:"images_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"170x")'},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[er],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"gridAttribution",plural:!1,selections:[w,g,m,A,C,F,P,S],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[w,g,A],storageKey:null},g,d],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[w,g],storageKey:null},g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasBeenBoostPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotableByPinner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafeForComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnGridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnPageDescription",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[M],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLocalInventoryAdsMatched",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttributionReasons",kind:"LinkedField",name:"adTargetingAttributionReasons",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinterestContext",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:"images_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ed,storageKey:'images(spec:"60x60")'},{alias:"images_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ed,storageKey:'images(spec:"600x315")'},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},g,{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[u,c,p,g,m,d],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[c,p],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[d,eu,{alias:"images_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[p,b,f],storageKey:'images(spec:"750x")'},v,{alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:N,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:N,storageKey:null}],storageKey:null},q,J,Y,Z,ee,ea,et,ei,en,c,es,{alias:"additionalImageSpec_236x",args:k,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:N,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:B,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:N,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:V,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:N,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:O,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:N,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:N,storageKey:null}],storageKey:null},h,{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:N,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},g,m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[w,g,m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seeMoreUserFeedback",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:ec,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:ec,storageKey:null},d],storageKey:null},ep,W,{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showRecipeCta",storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[m,M,g],storageKey:null}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[H,{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,eh,ey,e_,{kind:"InlineFragment",selections:[H],type:"IngredientBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[eh,ey,e_,{kind:"InlineFragment",selections:[eg,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:"videoListMobile",args:G,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:ev,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:ev,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:ev,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:ev,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:ev,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:ev,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:ev,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[ek,ef],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[eb]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ex,storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[eb,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"gridAttribution",plural:!1,selections:ex,storageKey:null}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{kind:"ClientExtension",selections:[eS,eP]}]},{kind:"ClientExtension",selections:[eS,ew,eP]}]},{kind:"ClientExtension",selections:[eS,{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[eA,eC,d,p,eF,eI,M,er],storageKey:null},ew,eP,{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:eT,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:eT,storageKey:null},{alias:null,args:null,concreteType:"FeedbackText",kind:"LinkedField",name:"feedbackText",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},M,{alias:null,args:null,concreteType:"Unfollow",kind:"LinkedField",name:"unfollow",plural:!1,selections:[eK,eL],storageKey:null},{alias:null,args:null,concreteType:"UndoCallbackProps",kind:"LinkedField",name:"undoCallbackProps",plural:!1,selections:[eK,eL,{alias:null,args:null,kind:"ScalarField",name:"viewType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewParameter",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedback",storageKey:null}]},{condition:"shouldPrefetchCloseupPreviewFragment",kind:"Condition",passingValue:!0,selections:[ep,{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:N,storageKey:null}]}]}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"0ed1f6aebb04e31fe1ac371a5a4a47b2e21518e1b49f3a93d71cbb78108c695c",metadata:{},name:"BreadcrumbsUnifiedPinRepPinQuery",operationKind:"query",text:null}});ej.hash="c2ed8f214ee25fd6e2c205816b07c9b9";let eM=ej},184679(e,l,a){var t,i,n;a.r(l),a.d(l,{default:()=>r});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CardSourceDescriptionText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[i,{kind:"InlineFragment",selections:n=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DescriptionBrokenByLineBreaks_pin"},{args:null,kind:"FragmentSpread",name:"DescriptionWithLinksAndMentions_pin"}],type:"Pin",abstractKey:null};s.hash="c6b0de206743312221bd0e0b89d2f0aa";let r=s},528217(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselVideoItem_pin",selections:[{args:null,kind:"FragmentSpread",name:"AuthDesktopWebCloseupVideoNonDuplo_pin"}],type:"Pin",abstractKey:null};t.hash="c84e7534f0992d53c815b4ab599ad3eb";let i=t},58482(e,l,a){var t,i,n;a.r(l),a.d(l,{default:()=>r});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupAttributionAndDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},t,i,{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},n],storageKey:null},{args:null,kind:"FragmentSpread",name:"Description_pin"}],type:"Pin",abstractKey:null};s.hash="7142df6a7a3c1aee54267c5441d3d50b";let r=s},380112(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselVideoItem_pin"}],type:"Pin",abstractKey:null};t.hash="83e61e6fc89222c2a0b03276839f44a5";let i=t},244053(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModuleOneTapConfiguration_pin"}],type:"Pin",abstractKey:null};t.hash="971b4142368a9c9c2539396c3d46601d";let i=t},399433(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModulesContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"AuthDesktopWebCloseupRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModule_pin"}],type:"Pin",abstractKey:null};t.hash="6e9df46eeb81bd3bc9e029d3803080bf";let i=t},516877(e,l,a){var t,i,n;a.r(l),a.d(l,{default:()=>r});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CreatorCard_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},t,i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i,n],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:"creatorId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[{alias:"sponsorId",args:null,kind:"ScalarField",name:"id",storageKey:null},i,n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:[t,{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"root",plural:!1,selections:[t,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t,i,{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCreatorRecsPrevStateCloseup_pin"}],type:"Pin",abstractKey:null};s.hash="b9153608b049d96c1b0e782ae6ac204a";let r=s},863415(e,l,a){var t,i,n,s;a.r(l),a.d(l,{default:()=>o});let r=(t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},n=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],s=[t],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultMetadata_pin",selections:[t,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:n,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDescription_pin"},{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasBeenBoostPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotableByPinner",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"originPin",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:n,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showRecipeCta",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"BasicsCategoriesMetadata_keyValueBlocks"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"useStructuredDescription_pin"},{args:null,kind:"FragmentSpread",name:"DescriptionBrokenByLineBreaks_pin"},{args:null,kind:"FragmentSpread",name:"useHandleTitleClick_pin"},{args:null,kind:"FragmentSpread",name:"useCloseupBodyUtils_pin"},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"TitleDesktop_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"CreatorCard_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupAttributionAndDescription_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"},{args:null,kind:"FragmentSpread",name:"useGetInstagramRedirectLink_pin"}],type:"Pin",abstractKey:null});r.hash="19864f13d0ad393727951335dc8d6bdd";let o=r},96831(e,l,a){var t;a.r(l),a.d(l,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DescriptionBrokenByLineBreaks_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:t,storageKey:null},{args:null,kind:"FragmentSpread",name:"DescriptionWithLinksAndMentions_pin"}],type:"Pin",abstractKey:null};i.hash="7968de6cea93e071c3555836067ea32b";let n=i},984073(e,l,a){var t,i,n;a.r(l),a.d(l,{default:()=>r});let s=(t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],n=[i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Description_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:t,storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:n,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CardSourceDescriptionText_pin"}],type:"Pin",abstractKey:null});s.hash="d6d83b429981e4bc762e3872608eedbd";let r=s},438060(e,l,a){var t;a.r(l),a.d(l,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButtonWrapper_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"DomainLinkButton_pin"},{args:null,kind:"FragmentSpread",name:"useGetInstagramRedirectLink_pin"}],type:"Pin",abstractKey:null};i.hash="e0f426cc8e54a0150382bbe8a7d76024";let n=i},438581(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"showRecipeCta",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};t.hash="f8426bd32c5531bed724a11f1f7d3b94";let i=t},908392(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EndCard_pin",selections:[{args:null,kind:"FragmentSpread",name:"IdeaPinSecondarySendButton_pin"}],type:"Pin",abstractKey:null};t.hash="8ad2e699556c5cc82f96a8800796d777";let i=t},55879(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IdeaPinSecondarySendButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}]}],type:"Pin",abstractKey:null};t.hash="06fe8d9d3c50cfa5c040fbb0e9a14675";let i=t},841202(e,l,a){var t,i,n;a.r(l),a.d(l,{default:()=>r});let s=(t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinTitle_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},i,{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinFormattedLink_pin"}],type:"Pin",abstractKey:null});s.hash="0c35ccfc446230dc7adcb41b1c88c83f";let r=s},332033(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};t.hash="fb9c133d2a86e090538a92171d6d3f63";let i=t},390106(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModules_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedModule_pin"}],type:"Pin",abstractKey:null};t.hash="85ae0703574c2bc161bc13206c3184f8";let i=t},1501(e,l,a){var t;a.r(l),a.d(l,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};i.hash="86cb4963f4714e2184c01e13236c3616";let n=i},902531(e,l,a){var t,i,n,s,r,o,d,u,c,p,g,m,h,y,_,v,k,f,b,x,S,P,w,A,C,F,I,T,K,L,j,M,R,z,D,E,B,V,O,U,N,W,H,G,$,Q,X,q,J,Y,Z,ee,el,ea,et,ei,en,es,er,eo,ed,eu,ec,ep,eg,em,eh,ey,e_,ev,ek,ef,eb,ex,eS,eP,ew,eA,eC,eF,eI,eT,eK,eL,ej,eM,eR,ez,eD,eE,eB,eV,eO,eU,eN,eW,eH,eG;a.r(l),a.d(l,{default:()=>eQ});let e$=(t={defaultValue:null,kind:"LocalArgument",name:"isAuth"},i={defaultValue:!1,kind:"LocalArgument",name:"isCloseupRelatedModulesFeedQuery"},n={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},s={defaultValue:null,kind:"LocalArgument",name:"pinId"},r={defaultValue:!1,kind:"LocalArgument",name:"shouldPrefetchCloseupPreviewFragment"},o=[{kind:"Variable",name:"pin",variableName:"pinId"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},p={alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},m=[g={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},_=[{kind:"Literal",name:"spec",value:"236x"}],v={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},A=[y={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],C={alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},j={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[L={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},O=[k,f,u,d],N=[k,U={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},u,f],W={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},G=[k,u,f],Q=[$={alias:null,args:null,kind:"ScalarField",name:"blockId",storageKey:null},k,U,f,u],X=[{kind:"Literal",name:"spec",value:"474x"}],q=[{kind:"Literal",name:"spec",value:"564x"}],J=[{kind:"Literal",name:"spec",value:"736x"}],Y={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},ee={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:Z=[d],storageKey:null}],storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},ea=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],et={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},en={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},es={alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},er={alias:"images_236x",args:_,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:Z,storageKey:'additionalImagesPerSpec(spec:"236x")'},eo={alias:"images_474x",args:X,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:Z,storageKey:'additionalImagesPerSpec(spec:"474x")'},ed={alias:"images_564x",args:q,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:Z,storageKey:'additionalImagesPerSpec(spec:"564x")'},eu={alias:"images_736x",args:J,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:Z,storageKey:'additionalImagesPerSpec(spec:"736x")'},ec={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},eg={alias:"image_236x",args:_,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ep=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:G,storageKey:null},T],storageKey:'additionalImagesPerSpec(spec:"236x")'},em={alias:"image_474x",args:X,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ep,storageKey:'additionalImagesPerSpec(spec:"474x")'},eh={alias:"image_564x",args:q,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ep,storageKey:'additionalImagesPerSpec(spec:"564x")'},ey={alias:"image_736x",args:J,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ep,storageKey:'additionalImagesPerSpec(spec:"736x")'},e_={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null},d],storageKey:null},ev={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},ek=[k,u,f,v],ef=[v,k,u,f],eb=[{kind:"Literal",name:"spec",value:"170x"}],ex=[u],eS={alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},eP=[y,P,R,z,D,E],ew={alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},eC={kind:"InlineFragment",selections:eA=[el,c],type:"ParagraphBlock",abstractKey:null},eF={kind:"InlineFragment",selections:eA,type:"HeadingBlock",abstractKey:null},eI={kind:"InlineFragment",selections:eA,type:"TextBlock",abstractKey:null},eT=[U,u,f,k,W],eK={alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},eM={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null}],storageKey:null}],storageKey:null},eR=[eL={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},B,ej={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null}],ez={alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},eD={alias:null,args:null,kind:"ScalarField",name:"showFewerWeightLossAds",storageKey:null},eE={alias:null,args:null,kind:"ScalarField",name:"showAdReasons",storageKey:null},eN={alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},eW=[eB={alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},eV={alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},eO={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},eU={alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},h,ev,u],eH={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},eG={alias:null,args:null,concreteType:"ActionOptions",kind:"LinkedField",name:"actionOptions",plural:!1,selections:[eB,{alias:null,args:null,kind:"ScalarField",name:"interestId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interestList",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"complaintReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedbackType",storageKey:null},eS,{alias:null,args:null,kind:"ScalarField",name:"pinType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recommendationReasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"undo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newsId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"throughId",storageKey:null},{alias:null,args:null,concreteType:"ThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[en,ei],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null},es],storageKey:null},{fragment:{argumentDefinitions:[t,i,n,s,r],kind:"Fragment",metadata:null,name:"ShoppingModuleQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ShoppingModule_v3GetStelaShoppingCarousel"}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,n,t,i,r],kind:"Operation",name:"ShoppingModuleQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[d,{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinsDisplay",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoPlayMode",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWash",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionWeight",storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDynamicContentSpan",kind:"LinkedField",name:"dynamicHeaderContentSpan",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null},{alias:null,args:null,concreteType:"StoryPaddingDisplay",kind:"LinkedField",name:"padding",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"left",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null}],storageKey:null},p,{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[d,g,c],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[d,{kind:"InlineFragment",selections:[h,y,{alias:"images_236x",args:_,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[u,v,k,f],storageKey:'images(spec:"236x")'},b,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[x,S,u,P,w,{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"featuredIn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}]},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:A,storageKey:null},C,y,F,{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},v,{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},T,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},K,{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nearDupSig",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[d,P,j,M,y,R,z,D,E,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"GenAIInterestData",kind:"LinkedField",name:"genAiTopics",plural:!0,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"interestIdStr",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},P,E,R,y,M,j,d,D,B,V],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[d,P,y,R,E,z,D],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[y,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:O,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[k,f,u,d,U],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:O,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T1V2",plural:!1,selections:N,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T2V2",plural:!1,selections:N,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T3V2",plural:!1,selections:N,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T4V2",plural:!1,selections:N,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T5V2",plural:!1,selections:N,storageKey:null},d],storageKey:null},P,d,W],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},K,H,{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},T,{alias:"images_236x",args:_,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[y,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:Q,storageKey:null}],storageKey:null},P],storageKey:null},d,{alias:"images_474x",args:X,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:q,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"564x")'},{alias:"images_736x",args:J,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"736x")'},Y],storageKey:null},P,d,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[d,Y,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:G,storageKey:null},K],storageKey:null},ee]},P,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},{alias:null,args:null,concreteType:"AggregatedStats",kind:"LinkedField",name:"aggregatedStats",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"saves",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},P,{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,{kind:"InlineFragment",selections:[el,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:ea,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[$,k,U,f,u,d],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},d],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},y,{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[d,P,S,u,y],storageKey:null},et,{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[ei,en],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isWeightLossAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creativeType",storageKey:null},{alias:null,args:null,concreteType:"ThirdPartyAdClientData",kind:"LinkedField",name:"thirdParty",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"adPayload",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},es,{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[H,{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},er,eo,ed,eu,ec,eg,em,eh,ey,d,e_,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[S],storageKey:null},S,{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},u],storageKey:null},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[d,k,u,f,v],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},ev],storageKey:null},{alias:"images_474x",args:X,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ek,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:q,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"564x")'},{alias:"images_736x",args:J,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ek,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"300x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[k,f,u],storageKey:'images(spec:"300x")'},{alias:"images_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ef,storageKey:'images(spec:"136x136")'},{alias:"images_170x",args:eb,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ef,storageKey:'images(spec:"170x")'},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[ev],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"gridAttribution",plural:!1,selections:[R,P,y,z,D,E,M,j],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[R,P,z],storageKey:null},P,d],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[R,P],storageKey:null},P],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasBeenBoostPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotableByPinner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafeForComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnGridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnPageDescription",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[h],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLocalInventoryAdsMatched",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttributionReasons",kind:"LinkedField",name:"adTargetingAttributionReasons",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinterestContext",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:"images_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ex,storageKey:'images(spec:"60x60")'},{alias:"images_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ex,storageKey:'images(spec:"600x315")'},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[x,S,u,P,y,d],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[S,u],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[d,eS,{alias:"images_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[u,f,k],storageKey:'images(spec:"750x")'},K,{alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:Z,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:Z,storageKey:null}],storageKey:null},er,eo,ed,eu,ec,eg,em,eh,ey,S,e_,{alias:"additionalImageSpec_236x",args:_,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:Z,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:X,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:Z,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:q,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:Z,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:J,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:Z,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:Z,storageKey:null}],storageKey:null},I,{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:Z,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},P],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},P,y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[R,P,y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seeMoreUserFeedback",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:eP,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:eP,storageKey:null},d],storageKey:null},ew,ee,{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showRecipeCta",storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[y,h,P],storageKey:null}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[el,{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,eC,eF,eI,{kind:"InlineFragment",selections:[el],type:"IngredientBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[x,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[eC,eF,eI,{kind:"InlineFragment",selections:[c,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:"videoListMobile",args:ea,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:eT,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:eT,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:eT,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:eT,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:eT,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:eT,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:eT,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},eK],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[eL,ej],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[eM]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:eR,storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[eM,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"gridAttribution",plural:!1,selections:eR,storageKey:null}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{kind:"ClientExtension",selections:[ez,eD]}]},{kind:"ClientExtension",selections:[ez,eE,eD]}]},{kind:"ClientExtension",selections:[ez,{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[eB,eV,d,u,eO,eU,h,ev],storageKey:null},eE,eD,{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},eN,{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:eW,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:eW,storageKey:null},{alias:null,args:null,concreteType:"FeedbackText",kind:"LinkedField",name:"feedbackText",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},h,{alias:null,args:null,concreteType:"Unfollow",kind:"LinkedField",name:"unfollow",plural:!1,selections:[eH,eG],storageKey:null},{alias:null,args:null,concreteType:"UndoCallbackProps",kind:"LinkedField",name:"undoCallbackProps",plural:!1,selections:[eH,eG,{alias:null,args:null,kind:"ScalarField",name:"viewType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewParameter",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedback",storageKey:null}]},{condition:"shouldPrefetchCloseupPreviewFragment",kind:"Condition",passingValue:!0,selections:[ew,{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:Z,storageKey:null}]}]}],type:"Pin",abstractKey:null},{kind:"InlineFragment",selections:[p,{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:m,storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[y,S,{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:A,storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},eN],storageKey:null},w,{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:eb,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:ex,storageKey:'images(spec:"170x")'},{alias:"images236x",args:_,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:ex,storageKey:'images(spec:"236x")'},C,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[y,P,V,R,M,E,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[S,L],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[R,E,j,M,P],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null},P],storageKey:null},I,u,eK,{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},F,{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[et,{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},ev,{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:ex,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:ex,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:ex,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null}],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardMoreIdeasFeedUpsellId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"boardMoreIdeasFeedUpsellName",args:null,kind:"ScalarField",name:"boardName",storageKey:null}],type:"BoardMoreIdeasFeedUpsell",abstractKey:null},{kind:"InlineFragment",selections:[y,E],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[y,{alias:"exploreArticleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:m,storageKey:null}],type:"ExploreArticle",abstractKey:null},{kind:"InlineFragment",selections:[S,{alias:"image_236x",args:_,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:ex,storageKey:'image(spec:"236x")'},{alias:"image_474x",args:X,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:ex,storageKey:'image(spec:"474x")'},{alias:"klpUrl",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"SeoRelatedInterestsData",abstractKey:null},{kind:"InlineFragment",selections:[P],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[M,j,E,z,P,d],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:m,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shopSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},b],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}]},params:{id:"4d75f050b2bbcd4e6a9352728c03b0659f75f79f2c9def3a2a2a09d2d957eee1",metadata:{},name:"ShoppingModuleQuery",operationKind:"query",text:null}});e$.hash="4bfa11c5e4686f2db2c0dcfe5802bd45";let eQ=e$},553721(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CSSCarouselModule_parentPin"},{args:null,kind:"FragmentSpread",name:"DeprecatedCarouselModule_parentPin"}],type:"Pin",abstractKey:null};t.hash="d26e3ac796a31f48dbe9ccd4f7da5852";let i=t},381123(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};t.hash="967fc795bbfb9844686a21d73abf35e0";let i=t},62918(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"ShoppingModule_v3GetStelaShoppingCarousel",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DeprecatedCarouselModule_story"},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"CSSCarouselModule_story"},{args:null,kind:"FragmentSpread",name:"ShoppingModule_story"}],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null};t.hash="fa557ac735f6f302b9043df97457e701";let i=t},919879(e,l,a){var t,i,n;a.r(l),a.d(l,{default:()=>r});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TitleDesktop_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n=[i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null},t,{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},t,{args:null,kind:"FragmentSpread",name:"PinTitle_pin"},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null};s.hash="e440739f7cb30d6d4eac0c8c9852d9a7";let r=s},292705(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoContent_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"},{args:null,kind:"FragmentSpread",name:"AuthDesktopWebCloseupVideoWithVisibility_pin"}],type:"Pin",abstractKey:null};t.hash="7ba89eba255cb97040287ec468d973ed";let i=t},315792(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildCloseupImageOverlayProps_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};t.hash="759d6577be9e10b82394f48ee87daf24";let i=t},272434(e,l,a){var t,i,n,s,r;a.r(l),a.d(l,{default:()=>d});let o=(t={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCloseupBodyUtils_pin",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[s,t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null});o.hash="63a66a6b195a0e9cef298ab368edb058";let d=o},412788(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCreatorRecsPrevStateCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"showSuggestedCreatorRecs",storageKey:null}]}],type:"Pin",abstractKey:null};t.hash="a1f87ab2b8198cdc7fd8fc3cdaa872f0";let i=t},826420(e,l,a){var t;a.r(l),a.d(l,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetInstagramRedirectLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"igOwner",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,concreteType:"UserInstagramData",kind:"LinkedField",name:"instagramData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null},{alias:null,args:null,concreteType:"DirectToSiteConfig",kind:"LinkedField",name:"igDirectToSiteConfigs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"directToSiteLinkWithScheme",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="b2f13a948eb09a6fe3cf984633c352f0";let n=i},451407(e,l,a){var t;a.r(l),a.d(l,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleBackButtonClick_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="efee9cd30f69b524ed9920746ed65ceb";let n=i},907012(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleTitleClick_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null}],type:"Pin",abstractKey:null};t.hash="d38a7b9f18791089cd1df852e3863570";let i=t},407714(e,l,a){var t;a.r(l),a.d(l,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsBoardOwnerOrCollaborator_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};i.hash="120c47eff2cf4911de716b514608718f";let n=i},55087(e,l,a){var t;a.r(l),a.d(l,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMediaContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:t,storageKey:null},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null}],type:"Pin",abstractKey:null};i.hash="6d07d6f4226aa8095d2c36e8662982e3";let n=i},20847(e,l,a){var t,i;a.r(l),a.d(l,{default:()=>s});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinAnalyticsStatus_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:t,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="977a37f1bef6ecfbe279db65075e1520";let s=n},177069(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinFormattedLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null};t.hash="b694b913cbcf66451260d78ec78bcccd";let i=t},294025(e,l,a){a.r(l),a.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinHasProducts_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="e1f413e0ba2f9031ea605d85baa14a4b";let i=t},566288(e,l,a){a.d(l,{Ac:()=>i,WX:()=>t,zQ:()=>n});let t=({orbacSubjectId:e,pinIsRepin:l,pinPinnerId:a,viewerId:t,viewerIsPartner:i})=>!l&&!!i&&[t,e].includes(a),i=e=>!!(e&&!e.insufficient_data_response&&e.results&&e.results.length>0),n=(e,l)=>{if(!e)return e;let a=[...e].filter(e=>!!e.mom_change?.roundedPercentChange&&e.mom_change.roundedPercentChange>0);return a.length<=l?a:Array(l).fill(1).map(()=>{let e=Math.floor(Math.random()*a.length);return a.splice(e,1)[0]})}},899464(e,l,a){a.r(l),a.d(l,{default:()=>E});var t,i,n=a(859471),s=a(106386);a(825193);var r=a(150880),o=a(586733),d=a(693154),u=a(224989),c=a(104088);let p=function(e,l,a){switch((0,c.z)(e)){case"SingularLegacy":case"PluralLegacy":case"PaginationLegacyData":return l;case"GraphQL":{let e=(0,u.useRelayEnvironment)();return l=>(0,u.commitLocalUpdate)(e,e=>a(e,l))}default:throw Error("Unexpected case")}};var g=a(535273),m=a(538329),h=a(843730),y=a(61163),_=a(430705),v=a(542975),k=a(168079),f=a(989457),b=a(653472),x=a(60754),S=a(610593),P=a(562615);let w=({creatorData:e,onTap:l,onUserFollow:a})=>{(0,n.useEffect)(()=>{(0,y.A)("SuggestedCreatorRep","/app/www/CreatorCard/SuggestedCreatorRecs/SuggestedCreatorRep.tsx")},[]);let t=(0,m.A)(),i=(0,d.A)(),{explicitly_followed_by_me:s,follower_count:o=0,full_name:u,id:c,image_medium_url:p,username:g,verified_identity:h,avatar_color_index:_,is_verified_merchant:k}=e||{},w=`/${g}/`;return(0,P.jsx)(r.VP,{span:4,children:(0,P.jsxs)(r.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},direction:"column",display:"flex",marginBottom:1,children:[(0,P.jsx)(r.$A,{href:w,onTap:()=>l(c),children:(0,P.jsxs)(r.so,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,P.jsx)(r.az,{height:60,width:60,children:(0,P.jsx)(f.eu,{color:_,name:u??"",size:"fit",src:p??"",verified:!1})}),(0,P.jsxs)(r.az,{marginBottom:1,paddingY:2,children:[(0,P.jsx)(r.az,{marginBottom:1,children:(0,P.jsx)(r.KJ,{align:"center",lineClamp:1,size:"100",weight:"bold",children:h||k?(0,P.jsx)(S.A,{badgeSize:"xs",badgeSpacing:2,fullName:u??"",isVerifiedIdentity:h?.verified,isVerifiedMerchant:k}):u})}),(0,P.jsx)(r.KJ,{align:"center",size:"100",children:(0,v.vQ)(t.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', o, 'suggestedCreatorRep.creator.followerCount', 'the number of followers the user has'),{followerCount:(0,P.jsx)(b.A,{shortform:!0,shortformMaximumFractionDigits:1,value:o},o)})})]})]})}),(0,P.jsx)(x.A,{fullName:u,id:c,imageUrl:p,isOwnProfile:i.isAuth&&i.id===c,isSecondaryButton:!0,onUserFollow:e=>a({userIsNowFollowing:e,creatorId:c}),profileUrl:`/${g}/`,shouldStopEventPropagation:!0,size:"sm",userFollowed:s,viewParameter:156,viewType:3})]})})},A=({creatorRecs:e,fullName:l,pinId:a,viewParameter:t,viewType:i})=>{(0,n.useEffect)(()=>{(0,y.A)("SuggestedCreatorRecs","/app/www/CreatorCard/SuggestedCreatorRecs/SuggestedCreatorRecs.tsx")},[]);let{logContextEvent:s}=(0,o.o)(),d=(0,m.A)();(0,k.A)(()=>{s({event_type:13,component:13891,view_parameter:t,view_type:i,aux_data:{...a?{pin_id:a}:{}}})});let u=e=>{s({event_type:101,component:13891,view_parameter:t,view_type:i,object_id_str:e,aux_data:{...a?{pin_id:a}:{}}})},c=({userIsNowFollowing:e,creatorId:l})=>{e?s({event_type:45,component:13891,object_id_str:l,view_parameter:t,view_type:i,aux_data:{...a?{pin_id:a}:{}}}):s({event_type:46,component:13891,object_id_str:l,view_parameter:t,view_type:i,aux_data:{...a?{pin_id:a}:{}}})};return(0,P.jsx)(r.az,{minWidth:432,paddingY:4,children:(0,P.jsxs)(r.az,{elevation:"shadowFloating",paddingX:5,paddingY:4,rounding:400,children:[l&&(0,P.jsx)(r._Y,{align:"center",size:"300",children:(0,v.vQ)(d._('More like {{creatorName}}', 'suggestedCreatorRecs.title', 'Users like the one just followed. creatorName: the creator\'s name'),{creatorName:l})}),(0,P.jsx)(r.az,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:e.map(e=>(0,P.jsx)(w,{creatorData:e.user,onTap:u,onUserFollow:c},e.user_id))})]})})},C=3,F=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity","user.is_verified_merchant"],I=({fullName:e,id:l,numCreatorsToShow:a=C,pinId:t,viewParameter:i,viewType:s})=>{(0,n.useEffect)(()=>{(0,y.A)("SuggestedCreatorRecsWrapper","/app/www/CreatorCard/SuggestedCreatorRecs/SuggestedCreatorRecsWrapper.tsx")},[]);let r=(0,_.A)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:F.join(","),page_size:a,referrer:4,target_user:l}}});if(!r.isLoaded||!(r.data&&r.data.length===a))return null;let o=r.data||[];return(0,P.jsx)(A,{creatorRecs:o,fullName:e,pinId:t,viewParameter:i,viewType:s})};var T=a(662449);let K=(void 0!==t||(t=a(412788)).hash&&"a1f87ab2b8198cdc7fd8fc3cdaa872f0"!==t.hash&&console.error("The definition of 'useCreatorRecsPrevStateCloseup_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),L=function(e){let l=function(){let{forward:e}=(0,T.qD)(),l=e&&e.length>0&&e[0].matchedPath?e[0].matchedPath:null;return!!(l&&l.includes("/:username"))}(),a=(0,g.A)(K,e);if(!l||!a)return{creatorRecsPrevState:!1};{let e=!!a.promotedIsLeadAd,l=a.richSummary?.typeName==="product";return{creatorRecsPrevState:!!a&&!e&&!l&&!!a.showSuggestedCreatorRecs}}};var j=a(659965),M=a(96897);function R(e,l,a){var t;return(l="symbol"==typeof(t=function(e,l){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,l||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}(l,"string"))?t:t+"")in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}let z=(void 0!==i||(i=a(516877)).hash&&"b9153608b049d96c1b0e782ae6ac204a"!==i.hash&&console.error("The definition of 'CreatorCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);class D extends n.PureComponent{constructor(...e){super(...e),R(this,"state",{shouldShowCreatorRecs:this.props.suggestedCreatorRecsPrevState,user:this.props.officialUser}),R(this,"handleNavigateAndLog",(e,l)=>{let{pin:a}=this.props,t=!!a.storyPinDataId;e===l?this.props.logContextEvent({event_type:101,element:13382,view_type:this.viewType,view_parameter:this.viewParameter,...t?{component:230}:Object.freeze({}),object_id_str:a.entityId,aux_data:{pin_id:a.entityId,creator_id:a.sponsorship?.creator?.creatorId,aop_origin:"CreatorCard",...t?{story_pin_template_type:a.storyPinData?.metadata?.templateType}:{}}}):this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...t?{component:230}:Object.freeze({}),object_id_str:a.entityId,aux_data:{pin_id:a.entityId,creator_id:a.sponsorship?.creator?.creatorId,...t?{story_pin_template_type:a.storyPinData?.metadata?.templateType}:{}}})}),R(this,"handleNavigateAndLogSponsorClick",()=>{let{pin:e}=this.props,l=e.entityId,a=e.sponsorship?.creator?.creatorId,t=e.sponsorship?.sponsor?.sponsorId,i=!!e.storyPinDataId;a&&t&&this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...i?{component:230}:Object.freeze({}),object_id_str:l,aux_data:{pin_id:l,creator_id:a,sponsor_id:t}})})}static getDerivedStateFromProps(e,l){let a=e.officialUser;if(a&&a!==l.user)return{...l,user:a};let t=e.suggestedCreatorRecsPrevState;return t&&!l.shouldShowCreatorRecs?{...l,shouldShowCreatorRecs:t}:null}get viewType(){return this.props.viewType||3}get viewParameter(){return this.props.viewParameter||156}render(){let{user:e}=this.state;if(!e)return(0,P.jsx)(r.az,{});let{pin:l,usernameAccessibilityLevel:a}=this.props,{full_name:t,id:i,image_medium_url:n,is_verified_merchant:s,username:o,verified_identity:d}=e,{fullName:u,imageMediumUrl:c,profileUrl:p}=l.shuffle?.root?.user??{},g=!!d?.verified,m=!!l.promotedIsLeadAd,h=l.richSummary?.typeName==="product",y=!!(!m&&!h&&this.state.shouldShowCreatorRecs),_=l.pinner?.isAdsOnlyProfile&&l.pinner.adsOnlyProfileSite?l.pinner?.adsOnlyProfileSite:`/${o}/`;return(0,P.jsx)(r.az,{position:"relative",children:(0,P.jsxs)(r.az,{children:[(0,P.jsx)(r.so,{alignItems:"center",justifyContent:"start",children:(0,P.jsx)(r.az,{flex:"grow",children:(0,P.jsx)(j.A,{accessibilityLevel:a,fullName:t,imageUrl:n,isCollage:!!l.shuffle?.entityId,isPromoted:!!(l.promoter&&l.isPromoted),isRemixed:!!l.shuffle?.entityId&&!!l.shuffle?.root?.entityId,isVerifiedIdentity:g,isVerifiedMerchant:s,onNavigateClick:()=>this.handleNavigateAndLog(_,l.pinner?.adsOnlyProfileSite),onNavigateSponsorClick:this.handleNavigateAndLogSponsorClick,openNewTab:_===l.pinner?.adsOnlyProfileSite,profileUrl:_,rootCreator:{fullName:u??"",imageUrl:c??"",profileUrl:p??""},sponsorName:l.sponsorship?.sponsor?.fullName??"",sponsorshipStatus:l.sponsorship?.status,sponsorUsername:l.sponsorship?.sponsor?.username??""})})}),y&&(0,P.jsx)(r.az,{marginEnd:1,marginStart:1,children:(0,P.jsx)(I,{fullName:t,id:i,pinId:l.entityId,viewParameter:this.viewParameter,viewType:this.viewType})})]})})}}let E=(0,h.A)(function(e){let{logContextEvent:l}=(0,o.o)(),a=(0,m.A)(),t=(0,g.A)(z,e.input),i=(0,s.wA)(),n=p(e.input,()=>{i((0,M.qJ)(t.entityId))},e=>{let l=e.get(t.entityId);l&&l.setValue(!0,"showSuggestedCreatorRecs")}),r=(0,d.A)(),{creatorRecsPrevState:u}=L(t);return(0,P.jsx)(D,{...e,i18n:a,logContextEvent:l,pin:t,setShowSuggestedCreatorRecs:n,suggestedCreatorRecsPrevState:u,viewerUserId:r.isAuth?r.id:null})})},856881(e,l,a){a.d(l,{A:()=>b});var t=a(61163),i=a(859471),n=a(106386),s=a(979638),r=a(727667),o=a(858537),d=a(949613),u=a(693154),c=a(662449),p=a(601185),g=a(844255),m=a(870540),h=a(847753),y=a(48180),_=a(816964),v=a(699613),k=a(562615);function f(e){return(0,i.useEffect)(()=>{(0,t.A)("ProductDetailPageContainer","/app/common/react/components/ProductDetailPage/ProductDetailPageContainer.tsx")},[]),(0,k.jsx)(d.A,{id:"CloseupContainerCommon-2",children:(0,k.jsx)(r.Ws,{...e,closeupComponentToRender:"ProductDetailPage"})})}function b(e){(0,i.useEffect)(()=>{(0,t.A)("ProductDetailPageContainer","/app/common/react/components/ProductDetailPage/ProductDetailPageContainer.tsx")},[]);let l=(0,n.wA)(),a=(0,u.A)(),r=(0,s.g)(),b=(0,c.V)(),x=(0,s.zy)(),S=(0,v.HR)()(r.id||""),P=(0,y.A)((x?.state||{}).trackingParams,S?.tracking_params),w={...e,navigate:(0,s.Zp)(),location:x,clientTrackingParams:P,params:r,requestContext:(0,g._8)(),searchPinCloseupViewed:(e,a)=>l((0,_.Fm)(e,a)),viewer:a},{checkExperiment:A}=(0,p.A)();return(0,k.jsx)(o.A,{orbacSubjectId:(0,h.H7)(a,(0,m.A)()),pinId:r.id||"",children:({pinResource:e})=>(0,k.jsx)(d.A,{id:"ProductDetailPageContainer",children:(0,i.createElement)(f,{...w,key:r.id,checkExperiment:A,clientTrackingParams:P,currentHistoryStack:b,pinResource:e})})})}},493385(e,l,a){a.d(l,{L:()=>k,U:()=>f});var t=a(61163),i=a(859471),n=a(979638),s=a(150880),r=a(589244),o=a(838880),d=a(79906),u=a(538329),c=a(562615);let p="/collage-creation-tool/";function g({i18n:e,onDismiss:l}){return(0,c.jsxs)(s.so,{alignItems:"center",children:[(0,c.jsx)(s.az,{flex:"none",width:40,children:(0,c.jsx)(s.K0,{accessibilityLabel:e._('Dismiss', 'closeup.addToCollageModal.dismiss', 'Accessibility label for dismiss button'),icon:"close",iconColor:"default",onClick:l,size:"md"})}),(0,c.jsx)(s.az,{flex:"grow",minWidth:0,children:(0,c.jsx)(s._Y,{align:"center",size:"400",children:e._('Add to collage', 'closeup.addToCollageModal.header', 'Heading for add to collage modal')})}),(0,c.jsx)(s.az,{flex:"none",width:40})]})}function m({shuffle:e,i18n:l,onTap:a}){let t=function(e){let{images:l}=e;if(null!=l)return l["750x"]?.url??l["736x"]?.url??l["474x"]?.url??l["236x"]?.url??l.orig?.url??void 0}(e)??"",i=e.id??"";return(0,c.jsx)(s.Rp,{accessibilityLabel:l._('Add to this collage draft', 'closeup.addToCollageModal.draftTapArea', 'Accessibility label for selecting a collage draft to add the Pin to'),onTap:()=>a(i),children:(0,c.jsx)(s.az,{padding:1,children:(0,c.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{aspectRatio:"157/279"}},width:"100%",children:(0,c.jsx)(s.n1,{height:"100%",rounding:r.EW,wash:!0,width:"100%",children:(0,c.jsx)(s._V,{alt:l._('Collage draft', 'closeup.addToCollageModal.draftAlt', 'Alt text for collage draft thumbnail'),color:"gray",naturalHeight:279,naturalWidth:157,src:t})})})})})}function h({i18n:e,onTap:l}){return(0,c.jsx)(s.Rp,{accessibilityLabel:e._('Create a new collage label', 'closeup.addToCollageModal.createNewCollageLabel', 'Footer action to create a new collage label'),fullWidth:!0,onTap:l,children:(0,c.jsxs)(s.so,{alignItems:"center",gap:3,children:[(0,c.jsx)(s.az,{alignItems:"center",color:"secondary",display:"flex",height:48,justifyContent:"center",rounding:400,width:48,children:(0,c.jsx)(s.In,{accessibilityLabel:"",color:"dark",icon:"plus",size:24})}),(0,c.jsx)(s.KJ,{children:e._('Create a new collage', 'closeup.addToCollageModal.createNewCollage', 'Footer action to create a new collage')})]})})}function y({onDismiss:e,onCreateNewCollage:l,pinId:a}){let y;(0,i.useEffect)(()=>{(0,t.A)("AddToCollageModal","/app/common/react/components/auth-desktop-web-closeup/AddToCollageModal.tsx")},[]);let _=(0,u.A)(),v=(0,n.Zp)(),k=(0,i.useRef)(null),{shuffles:f,isFetching:b,fetchMore:x}=(0,o.A)(),S=null!=f,P=S&&f.length>0,w=l=>{let t=new URLSearchParams({draftId:l,pinId:a});v(`${p}?${t.toString()}`),e()};return y=S?P?(0,c.jsx)(s.az,{ref:k,maxHeight:400,overflow:"auto",width:"100%",children:(0,c.jsx)(s.a,{columnWidth:r.S$,gutterWidth:16,items:f,layout:"flexible",loadItems:x,minCols:2,renderItem:({data:e,itemIdx:l})=>(0,c.jsx)(m,{i18n:_,onTap:w,shuffle:e},e.id??`draft-${l}`),scrollContainer:()=>k.current??window})}):(0,c.jsx)(s.KJ,{align:"center",children:_._('You have no collage drafts yet. Create one to add this Pin.', 'closeup.addToCollageModal.emptyDrafts', 'Empty state when user has no collage drafts')}):(0,c.jsx)(s.so,{alignItems:"center",justifyContent:"center",minHeight:120,children:(0,c.jsx)(s.y$,{show:b})}),(0,c.jsx)(s.Wd,{children:(0,c.jsx)(d.Ay,{accessibilityModalLabel:_._('Add to collage', 'closeup.addToCollageModal.modalLabel', 'Accessibility label for add to collage modal'),footer:(0,c.jsx)(h,{i18n:_,onTap:()=>{let t=new URLSearchParams({pinId:a});v(`${p}?${t.toString()}`),l?.(),e()}}),heading:(0,c.jsx)(g,{i18n:_,onDismiss:e}),onDismiss:e,size:"lg",children:y})})}var _=a(618243);let v=(0,i.createContext)(null);function k(){return(0,i.use)(v)}function f({children:e,pinId:l}){(0,i.useEffect)(()=>{(0,t.A)("AddToCollageModalContext","/app/common/react/components/auth-desktop-web-closeup/AddToCollageModalContext.tsx")},[]);let[a,n]=(0,i.useState)(!1),s=(0,i.useCallback)(()=>{n(!0)},[]),r=(0,i.useCallback)(()=>{n(!1)},[]),o=(0,i.useMemo)(()=>({openAddToCollageModal:s}),[s]);return(0,c.jsxs)(v.Provider,{value:o,children:[e,a&&(0,c.jsx)(_.A,{children:(0,c.jsx)(y,{onDismiss:r,pinId:l})})]})}},620556(e,l,a){a.d(l,{A:()=>_});var t,i=a(61163),n=a(859471);a(825193);var s=a(150880),r=a(535273),o=a(538329),d=a(542975),u=a(131321),c=a(284247),p=a(562615);function g({minutes:e}){let l=(0,o.A)(),a=e%60,t=Math.floor(e/60),i=a>0?(0,d.vQ)(l._('{{ mins }}min', 'closeup.storyPin.basicsLayout.cookTimeUnit', 'Minutes label indicating the cooking time of this Story Pin'),{mins:a}).join(""):"",n=t>0?(0,d.vQ)(l._('{{ hours }}hr', 'closeup.storyPin.basicsLayout.cookTimeUnit', 'Hours label indicating the cooking time of this Story Pin'),{hours:t}).join(""):"";return(0,p.jsx)(s.az,{display:"inlineBlock",marginEnd:1,children:(0,p.jsx)(s.KJ,{inline:!0,size:"300",children:(0,d.vQ)(l._('{{ hoursText }} {{ minsText }}', 'closeup.storyPin.basicsLayout.cookTime', 'Combined label for story pin cooktime (ex: "1hr 13min")'),{hoursText:n,minsText:i})})})}function m({servingSize:e}){let l=(0,o.A)(),a=(0,c.A)(l.ngettext('{{servingSize}} serving', '{{servingSize}} servings', e, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:e});return(0,p.jsx)(s.az,{display:"inlineBlock",marginEnd:1,children:(0,p.jsx)(s.KJ,{inline:!0,size:"300",children:(0,d.vQ)(l._('{{ servingText }}', 'closeup.storyPin.basicsLayout.servings', 'Combined label for story pin servings (ex: "Servings: 10 servings")'),{servingText:a})})})}function h({difficulty:e}){let l=(0,o.A)(),a={1:l._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:l._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:l._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},t=e&&(0,u.A)(a,e)?a[e]:null;if(!t)return null;let i=l._('Difficulty:', 'closeup.storyPin.basicsLayout.difficultyLevelLabel', 'Label indicating the difficulty level of this Story Pin');return(0,p.jsx)(s.az,{display:"inlineBlock",marginEnd:1,children:(0,p.jsx)(s.KJ,{inline:!0,size:"300",children:(0,d.vQ)(l._('{{ label }} {{ difficultyLevel }}', 'closeup.storyPin.basicsLayout.difficulty', 'Combined label for story pin difficulty (ex: "Difficulty: Intermediate")'),{label:i,difficultyLevel:t})})})}let y=(void 0!==t||(t=a(824490)).hash&&"e023b848702237b2810d4b43b4e59115"!==t.hash&&console.error("The definition of 'BasicsCategoriesMetadata_keyValueBlocks' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function _({keyValueBlocks:e,hasMetadataTemplateType:l}){(0,n.useEffect)(()=>{(0,i.A)("BasicsCategoriesMetadata","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/BasicsCategoriesMetadata.tsx")},[]);let a=(0,r.A)(y,e)||[];return l?(0,p.jsx)(s.az,{"data-test-id":"categories-metadata",children:(a||[]).map((e,l)=>{let t=`kv-${l}`,i=function(e){let l="category_type"in e?e.category_type:e.categoryType,{value:a}=e;if(2===l)return(0,p.jsx)(h,{difficulty:a});if(!a)return null;let t=parseInt(a,10);return 1===l?(0,p.jsx)(m,{servingSize:t}):0===l&&t?(0,p.jsx)(g,{minutes:t}):null}(e);return i?l<a.length-1?(0,p.jsxs)(n.Fragment,{children:[i,(0,p.jsx)(s.az,{display:"inlineBlock",marginEnd:1,children:(0,p.jsx)(s.KJ,{inline:!0,size:"300",children:"  "})})]},t):(0,p.jsx)(n.Fragment,{children:i},t):null}).filter(e=>null!=e)}):null}},701972(e,l,a){a.d(l,{A:()=>d});var t=a(61163),i=a(859471),n=a(150880),s=a(538329),r=a(508425),o=a(562615);function d({digitalMediaType:e,isMobile:l=!1,isViewedByOwnerEmployeeOrAgency:a=!1}){(0,i.useEffect)(()=>{(0,t.A)("AICloseupLabel","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupImage/AICloseupLabel.tsx")},[]);let d=(0,s.A)(),u={[r.s.TRAINED_ALGORITHMIC_MEDIA]:d._('AI modified', 'closeup.aIModifiedLabel.label', 'Label for AI Modified images'),[r.s.COMPOSITE_WITH_TRAINED_ALGORITHMIC_MEDIA]:d._('AI modified', 'closeup.aIModifiedLabel.label', 'Label for AI Modified images'),[r.s.DETECTED_TRAINED_ALGORITHMIC_MEDIA]:d._('AI modified', 'closeup.aIModifiedLabel.label', 'Label for AI Modified images')},c=()=>(0,o.jsx)(n.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgb(51 51 51 / 0.8)"}},"data-test-id":"ai-generated-label",display:"flex",height:l?48:44,justifyContent:"center",paddingX:4,rounding:400,children:(0,o.jsx)(n.KJ,{color:"light",lineClamp:1,size:"300",children:u[e]})});return a?(0,o.jsx)(n.m_,{idealDirection:"up",text:d._('This label won\u2019t appear on Pins in a promoted state. Your paid ads will include the disclosure on the "Why am I seeing this ad" page.', 'AICloseupLabel.tooltip.text', 'Tooltip text for AICloseupLabel'),children:c()}):c()}},594459(e,l,a){a.r(l),a.d(l,{default:()=>j});var t=a(61163),i=a(859471),n=a(150880),s=a(493385),r=a(701972),o=a(521363),d=a(331694),u=a(618243),c=a(562615);let p=112+o.A;function g({digitalMediaType:e,shouldMoveAILabel:l,isViewedByOwnerEmployeeOrAgency:a}){return(0,i.useEffect)(()=>{(0,t.A)("AICloseupLabelWrapper","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupImage/AICloseupLabelWrapper.tsx")},[]),(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(n.az,{height:`calc(100% - ${l?p:56}px)`}),(0,c.jsx)(n.az,{display:"flex",justifyContent:"start",maxWidth:"225px",paddingX:o.A,children:(0,c.jsx)(u.A,{children:(0,c.jsx)(d.A,{children:(0,c.jsx)(r.A,{digitalMediaType:e,isViewedByOwnerEmployeeOrAgency:a})})})})]})}var m=a(988851),h=a(593451),y=a(678358);let _=({children:e,horizontalOffset:l=0,name:a,verticalOffset:s=0})=>{(0,i.useEffect)(()=>{(0,t.A)("OverlayLayer","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupImage/OverlayLayer.tsx")},[]);let r=new n.rk(1),{closeupWithinMasonryEnabled:o}=(0,y._G)(),{mainImage:d}=(0,h.M)(),{height:u,width:p}=d;return(0,c.jsx)(n.az,{bottom:!o,dangerouslySetInlineStyle:{__style:{aspectRatio:o?p/u:void 0,justifySelf:o?"center":void 0,pointerEvents:"none",padding:o?void 0:`${s}px ${l}px`}},"data-test-id":`closeup-image-overlay-layer-${a}`,height:"100%",left:!0,marginEnd:"auto",marginStart:"auto",position:"absolute",right:!0,top:!o,zIndex:r,children:e})};var v=a(390985),k=a(620648),f=a(47032),b=a(177127),x=a(548253),S=a(668014),P=a(693154),w=a(164676);function A({carouselData:e,children:l,disableAnimations:a=!1,displayWidth:s,hide:r}){(0,i.useEffect)(()=>{(0,t.A)("AnimatedFab","/app/www/common/Carousel/AnimatedFab.tsx")},[]);let o=(0,i.useCallback)(()=>(({carouselData:e,containerWidth:l,slotWidth:a})=>{let{index:t,carousel_slots:i}=e||{},n=Math.floor(a);return void 0===t||!i||t>=i.length-1?0:l-n})({carouselData:e,containerWidth:s,slotWidth:s}),[e,s]),[d,u]=(0,i.useState)(o()),[p,g]=(0,i.useState)(a),[m,h]=(0,i.useState)(),y=(0,i.useCallback)(()=>{u(o())},[o]);return(0,i.useEffect)(()=>{let e=!0;return a||(g(!1),h(l=>(clearTimeout(l),setTimeout(()=>{e&&(y(),r||g(!0))},500)))),()=>{e=!1}},[e?.index,a,y,r]),(0,i.useEffect)(()=>()=>clearTimeout(m),[m]),(0,c.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{marginRight:d,transition:a?void 0:"opacity 500ms, visibility 500ms ease-in-out",visibility:p?"visible":"hidden"}},"data-test-id":"animated-fab",opacity:100*!!p,children:l})}var C=a(340490);let F=(0,i.lazy)(()=>a.e("9990").then(a.bind(a,53043))),I=(0,i.lazy)(()=>a.e("59794").then(a.bind(a,875620))),T=(0,i.lazy)(()=>a.e("37705").then(a.bind(a,97718))),K=(0,i.lazy)(()=>a.e("19147").then(a.bind(a,512070))),L=4*o.A,j=({auxData:e,carouselInfo:l,domain:a,handleMediaButtonClick:r,isHovered:p,link:y,mediaViewerExpandButtonRef:j,onImageClick:M,pin:R,showCloseupShopDomainLinkButton:z,showCollageEntryButton:D,showDebugSignalsFeedbackButton:E,showDomainLink:B,showDomainLinkButton:V,showFlashlightButton:O,showPinTagButton:U,trafficSource:N,maxCloseupImageWidth:W,shouldPadImage:H,verticalOffset:G,horizontalOffset:$,containerWidth:Q})=>{(0,i.useEffect)(()=>{(0,t.A)("CloseupImageOverlay","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupImage/CloseupImageOverlay.tsx")},[]);let X=(0,s.L)(),{isRelatedPins10PercentVisible:q}=(0,w.K)(),{mainImage:J,mediaViewerImage:Y}=(0,h.M)(),Z=(0,P.A)(),{peekRedesignFastFollowsEnabled:ee}=(0,b.A)(J),el=(0,x.A)({showProductDetailPage:!!R.is_eligible_for_pdp}),[ea,et]=(0,i.useState)(!1),ei=p||ea,en=(0,i.useCallback)(()=>et(!0),[]),es=(0,i.useCallback)(e=>{e.currentTarget.contains(e.relatedTarget)||et(!1)},[]),{containerWidth:er}=(0,v.Ay)({carouselData:l?.carouselData,mainImage:J,maxCloseupImageWidth:W,shouldPadImage:H,pinKey:{type:"Legacy",data:R}}),eo=4*o.A,ed=eo+(q||el?0:56),eu=48+ed+8,ec=!1,{height:ep=0,width:eg=0}=J;0!==ep&&eg/ep<k.x&&(ec=el);let em=e=>{let l="sticky";ec?l="fixed":ee&&q&&(l="absolute");let a=ec?(Q??0)+48:void 0;return ee?{bottom:e,right:a,position:l,transition:q?"position 100ms cubic-bezier(0, 0, 1, 1)":"position 50ms cubic-bezier(0, 0, 1, 1)"}:{bottom:e,right:a,position:l}},{isCloseupMediaViewerEnabled:eh}=(0,f.A)({isShufflePin:!!R?.shuffle,carouselContainsVideo:R.carousel_data?.carousel_slots?.some(e=>!!e.videos)??!1}),ey=R&&R.origin_pinner&&Z.isAuth&&Z.id===R.origin_pinner.id||!R?.is_go_linkless,e_=(0,C.Jn)(R.digital_media_source_type),ev=(V||z)&&ey,ek=ev&&!y.startsWith("https://i.pinimg.com"),ef=!l||0===l.carouselData.index;return(0,c.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{display:"contents"}},onBlur:es,onFocus:en,children:[B&&(0,c.jsx)(_,{horizontalOffset:$,name:"domain-link",verticalOffset:G,children:(0,c.jsxs)(n.so,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,c.jsx)(n.az,{paddingX:1,children:(0,c.jsx)(n.In,{accessibilityLabel:"",color:"inverse",icon:"arrow-up-right",size:16})}),(0,c.jsx)(n.az,{paddingX:1,children:(0,c.jsx)(n.KJ,{color:"inverse",weight:"bold",children:a})})]})}),O&&(0,c.jsxs)(_,{horizontalOffset:$,name:"flashlight-button",verticalOffset:G,children:[(0,c.jsx)(n.az,{height:`calc(100% - ${48+eo}px)`}),(0,c.jsx)(n.az,{dangerouslySetInlineStyle:{__style:em(ed)},display:"flex",justifyContent:"end",paddingX:o.A,right:!0,children:(0,c.jsx)(S.A,{name:"SafeSuspense_CloseupImageOverlay_ShopButton",children:(0,c.jsx)(u.A,{children:(0,c.jsx)(d.A,{children:(0,c.jsx)(I,{imageSignature:R.image_signature,pinId:R.id,show:ef,trafficSource:N})})})})})]}),eh&&(0,c.jsxs)(_,{horizontalOffset:$,name:"media-viewer-button-overlay",verticalOffset:G,children:[(0,c.jsx)(n.az,{height:`calc(100% - ${O?(48+eo)*2:eo+48}px)`}),(0,c.jsx)(n.az,{dangerouslySetInlineStyle:{__style:em(eu)},display:"flex",justifyContent:"end",paddingX:o.A,right:!0,children:(0,c.jsx)(A,{carouselData:l?.carouselData,disableAnimations:!0,displayWidth:er,children:(0,c.jsx)(S.A,{name:"SafeSuspense_CloseupImageOverlay_MediaViewerButton",children:(0,c.jsx)(u.A,{children:(0,c.jsx)(d.A,{children:(0,c.jsx)(T,{ref:j,animateOnMount:!1,dataTestId:"media-viewer-button",icon:"maximize",imageSignature:R.image_signature,onMouseDown:()=>{new Image().src=Y.url},onTap:r,variant:"view-larger"})})})})})})]}),E&&(0,c.jsxs)(_,{horizontalOffset:$,name:"debug-signals-feedback",verticalOffset:G,children:[(0,c.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 115px)"}}}),(0,c.jsx)(n.az,{dangerouslySetInlineStyle:{__style:em(ed)},display:"flex",justifyContent:"end",paddingX:o.A,right:!0,children:(0,c.jsx)(u.A,{children:(0,c.jsx)(K,{pinKey:{type:"Legacy",data:R}})})})]}),R.digital_media_source_type&&e_&&(0,c.jsx)(_,{horizontalOffset:$,name:"ai-generated-label",verticalOffset:G,children:(0,c.jsx)(g,{digitalMediaType:R.digital_media_source_type,isViewedByOwnerEmployeeOrAgency:R.is_viewed_by_owner_or_employee_or_partner_of_business||!1,shouldMoveAILabel:ek&&ei})}),ev&&(0,c.jsxs)(_,{horizontalOffset:$,name:"domain-link-button",verticalOffset:G,children:[(0,c.jsx)(n.az,{height:`calc(100% - ${48+eo}px)`}),(0,c.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{...em(ed),opacity:+!!ei,pointerEvents:ei&&!l?"auto":"none"}},display:"flex",justifyContent:"start",maxWidth:"calc(100% - 88px)",paddingX:o.A,tabIndex:-1,children:(0,c.jsx)(m.A,{auxData:e,domain:a,link:y,onClick:M,pinKey:{type:"Legacy",data:R},trafficSource:N})})]}),U&&(0,c.jsx)(_,{horizontalOffset:$,name:"tag-button",verticalOffset:G,children:(0,c.jsx)(S.A,{name:"SafeSuspense_CloseupImageOverlay_CloseupTagButton",children:(0,c.jsx)(u.A,{children:(0,c.jsx)(d.A,{children:(0,c.jsx)(F,{pin:R})})})})}),D&&(0,c.jsx)(_,{horizontalOffset:$,name:"collage-entry-button",verticalOffset:G,children:(0,c.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",top:L,right:L}},display:"flex",justifyContent:"end",paddingX:o.A,position:"absolute",right:!0,children:(0,c.jsx)(S.A,{name:"SafeSuspense_CloseupImageOverlay_CollageCloseupEntryButton",children:(0,c.jsx)(u.A,{children:(0,c.jsx)(d.A,{children:(0,c.jsx)(T,{animateOnMount:!1,dataTestId:"collage-closeup-entry-button",icon:"scissors",onTap:()=>{X?.openAddToCollageModal()},variant:"collage-entry"})})})})})})]})}},988851(e,l,a){a.d(l,{A:()=>C});var t,i,n=a(61163),s=a(859471);a(825193);var r=a(150880),o=a(473264),d=a(535273),u=a(538329),c=a(131094),p=a(438098),g=a(309102),m=a(629494),h=a(81920),y=a(562615);let _=(void 0!==t||(t=a(438581)).hash&&"f8426bd32c5531bed724a11f1f7d3b94"!==t.hash&&console.error("The definition of 'DomainLinkButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function v({clientTrackingParams:e,domain:l,link:a,pinKey:t,trafficSource:i,size:v="lg",onClick:k,viewType:f=3,bold:b=!1,iconPosition:x="start",noText:S=!1}){let P,w;(0,s.useEffect)(()=>{(0,n.A)("DomainLinkButton","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupImage/DomainLinkButton.tsx")},[]);let A=(0,u.A)(),C=(0,d.A)(_,t),[F,I]=(0,s.useState)(!1),T=(0,s.useCallback)(()=>I(e=>!e),[]),K=(0,g.A)({clickthroughType:"middleClick",location:"closeup.domainLinkButton"}),L=(0,s.useCallback)(()=>{(0,h.GV)(`web.closeup.media_viewer_stats.clickthrough.clicked_from.${675===f?"media_viewer":"closeup"}`)},[f]);return a.startsWith("https://i.pinimg.com")?(0,y.jsx)(s.Fragment,{}):(P=C.showRecipeCta?A._('See recipe', 'closeup.defaultMetadata.visitButton', 'Button to visit recipe link on Pin'):l?A._('Visit site', 'closeup.pinActionDropDown.visitSite', 'Button allowing user to clickthrough Pin'):A._('Learn more', 'closeup.image.domainLinkButton', 'Text indicating where clickthrough will navigate to'),w="lg"===v?"lg":"md"===v?"md":"sm",(0,y.jsx)(o.A,{clientTrackingParams:e,hovered:F,pinKey:C,trafficSource:i,viewType:f,children:(0,y.jsx)(r.m_,{inline:!0,text:P,zIndex:new r.K5([m.y]),children:S?(0,y.jsx)(r.AR,{_onMouseEnter:T,_onMouseLeave:T,accessibilityLabel:P,bgColor:"washLight",href:a,icon:"arrow-up-right",iconColor:"default",onClick:({event:e,dangerouslyDisableOnNavigation:l})=>{L(),l(),k({event:e})},rel:"nofollow",size:w}):(0,y.jsxs)(r.az,{children:[(0,y.jsx)(c.A,{unsafeCSS:`
              .domain-link-button div {
                font-weight: ${b?"bold":"medium"};
              }
              `}),(0,y.jsx)("div",{className:"domain-link-button",children:(0,y.jsx)(r.vx,{_onAuxClick:({event:e})=>{(0,p.sz)(e)&&(K(),e.preventDefault(),e.stopPropagation(),L(),k({event:e}))},_onMouseEnter:T,_onMouseLeave:T,accessibilityLabel:P,color:"tertiarySemiTransparent",dataTestId:"visit-button",href:a,iconEnd:"end"===x?"arrow-up-right":void 0,iconStart:"start"===x?"arrow-up-right":void 0,onClick:({event:e,dangerouslyDisableOnNavigation:l})=>{L(),l(),k({event:e})},rel:"nofollow",size:v,text:P})})]})})}))}var k=a(843599),f=a(586733),b=a(668014),x=a(376602),S=a(331694),P=a(618243),w=a(678358);let A=(void 0!==i||(i=a(438060)).hash&&"e0f426cc8e54a0150382bbe8a7d76024"!==i.hash&&console.error("The definition of 'DomainLinkButtonWrapper_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function C({auxData:e,domain:l,link:a,onClick:t,pinKey:i,trafficSource:r,viewType:o,bold:u=!1,iconPosition:c="start",noText:p=!1}){(0,s.useEffect)(()=>{(0,n.A)("DomainLinkButtonWrapper","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupImage/DomainLinkButtonWrapper.tsx")},[]);let g=(0,d.A)(A,i),{logContextEvent:m}=(0,f.o)(),{isInInstagramPinnerExperiment:h,instagramRedirectUrlWithScheme:_}=(0,k.A)(g),C=h?{is_instagram_redirect:!!_,redirect_url:_}:{is_claimed_domain:!!_},F=_??a,{clientTrackingParams:I}=(0,w._G)(),T=(0,x.A)({href:{pathname:F,state:{trackingParams:I}},target:"blank",clientTrackingParams:I,externalData:{auxData:e,pin:g&&{attributionSourceId:g.attributionSourceId,board:g.board&&{url:g.board.url},campaignId:g.campaignId,entityId:g.entityId,isDownstreamPromotion:g.isDownstreamPromotion,isPromoted:g.isPromoted,pinner:g.pinner&&{username:g.pinner.username},pinPromotionId:g.pinPromotionId,promoter:g.promoter&&{entityId:g.promoter.entityId},storyPinDataId:g.storyPinDataId,trackingParams:g.trackingParams,advertiserId:g.advertiserId}}});return(0,y.jsx)(b.A,{name:"SafeSuspense_DomainLinkButtonWrapper_DomainLinkButton",children:(0,y.jsx)(P.A,{children:(0,y.jsx)(S.A,{overrideDataTestId:"image-link",children:(0,y.jsx)(v,{bold:u,clientTrackingParams:I,domain:l,iconPosition:c,link:F,noText:p,onClick:({event:e})=>{t(),m({event_type:102,element:162,component:4,aux_data:C}),T({event:e})},pinKey:g,trafficSource:r,viewType:o})})})})}},97718(e,l,a){a.r(l),a.d(l,{default:()=>k});var t=a(61163),i=a(859471),n=a(610355),s=a(150880),r=a(131094),o=a(562615);let d="animated-text";function u({duration:e,show:l,text:a}){(0,i.useEffect)(()=>{(0,t.A)("CloseupButtonText","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupImage/ImageOverlay/CloseupButtonText.tsx")},[]);let u=(0,i.useRef)(null),c=`
    .${d}-enter {
      opacity: 0;
    }
    .${d}-enter-active {
      opacity: 1;
      transition: opacity ${e}ms cubic-bezier(1,0,1,0);
    }
    .${d}-enter-done {
      opacity: 1;
    }
    .${d}-exit {
      opacity: 1;
    }
    .${d}-exit-active {
      opacity: 0;
      transition: opacity ${e}ms cubic-bezier(0,1,0,1);
    }
    .${d}-exit-done {
      opacity: 0;
    }
  `;return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(r.A,{unsafeCSS:c}),(0,o.jsx)(n.A,{appear:!0,classNames:d,in:l,nodeRef:u,timeout:e,children:(0,o.jsx)(s.az,{ref:u,opacity:0,children:(0,o.jsx)(s.Wu,{size:"300",children:a})})})]})}var c=a(74273),p=a(743372),g=a(201593),m=a(844255),h=a(971289),y=a(168079);let _="animated-button-container",v=`
  .${_}-enter  {
    width: 0px;
  }
  .${_}-enter-active {
    width: 100% !important;
    transition: width 200ms ease-in;
  }
  .${_}-enter-done {
    width: 100% !important;
  }
  .${_}-exit {
    width: 100% !important;
  }
  .${_}-exit-active {
    width: 0px !important;
    transition: width 200ms ease-in;
  }
  .${_}-exit-done {
    width: 0px;
  }
`;function k({animateOnMount:e,animationDelayOnMount:l=1e3,leaveOnDurationOnMount:a=3e3,dataTestId:d,icon:k,imageSignature:f,onMouseDown:b,onTap:x,variant:S,ref:P}){(0,i.useEffect)(()=>{(0,t.A)("AnimatedCloseupButton","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupImage/ImageOverlay/AnimatedCloseupButton.tsx")},[]);let w=(0,p.A)(),{isRTL:A}=(0,m._8)(),{isDarkMode:C}=(0,g.D2)(),F=(0,h.qJ)(),I=(0,i.useRef)(null),[T,K]=(0,i.useState)(!1),[L,j]=(0,i.useState)(!1),M=(0,c.A)({variant:S}),R=(0,i.useMemo)(()=>C&&F?"rgba(17, 17, 17, 0.9)":T?"var(--comp-button-color-hover-background-tertiary-semi-transparent-default)":"var(--comp-button-color-background-tertiary-semi-transparent-default)",[C,F,T]);return(0,y.A)(()=>{if(!e)return;let t=setTimeout(()=>{j(!0);let e=setTimeout(()=>{j(!1)},a);return()=>clearTimeout(e)},l);return()=>clearTimeout(t)}),(0,y.A)(()=>{let e=234;"view-larger"===S?e=15864:"collage-entry"===S&&(e=14180),w({event_type:120,component:128,element:e,view_type:3,aux_data:{image_signature:f}})}),(0,o.jsxs)(s.Rp,{ref:P,accessibilityLabel:M,onMouseDown:b,onMouseEnter:()=>K(!0),onMouseLeave:()=>K(!1),onTap:x,rounding:"circle",children:[(0,o.jsx)(r.A,{unsafeCSS:v}),(0,o.jsx)(s.so,{alignItems:"stretch",justifyContent:"end",children:(0,o.jsx)(n.A,{appear:!0,classNames:_,in:T||L,nodeRef:I,timeout:200,children:(0,o.jsxs)(s.az,{ref:I,alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:R}},"data-test-id":d,display:"flex",justifyContent:"end",minHeight:48,minWidth:48,position:"relative",rounding:400,width:0,children:[(0,o.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},marginEnd:2,marginStart:3,overflow:"hidden",children:(0,o.jsx)(u,{duration:200,show:T||L,text:M})}),(0,o.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{paddingLeft:A?"12px":0,paddingRight:A?0:"12px"}},children:(0,o.jsx)(s.In,{accessibilityLabel:M,color:"default",icon:k,size:24})})]})})})]})}},74273(e,l,a){a.d(l,{A:()=>i});var t=a(538329);function i({variant:e}){let l=(0,t.A)();return"view-larger"===e?l._('View larger', 'closeup.image.mediaViewerButton', 'clicking on this button will open a full screen view of the Pin image'):"collage-entry"===e?l._('Add to collage', 'closeup.image.collageEntryButton', 'clicking on this button will add the Pin to a collage'):l._('Explore', 'closeup.explore.icon', 'clicking on this text will open a visual search feed')}},521363(e,l,a){a.d(l,{A:()=>t});let t=3},301686(e,l,a){a.d(l,{A:()=>o,r:()=>r}),a(825193);var t,i=a(535273),n=a(601185);let s=(void 0!==t||(t=a(315792)).hash&&"759d6577be9e10b82394f48ee87daf24"!==t.hash&&console.error("The definition of 'useBuildCloseupImageOverlayProps_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function r(e,l,a,t,i,n=!1){return n?!!e&&e.includes("tag")&&!a&&!i||t||!1:!l&&!!e&&e.includes("tag")&&!a&&!i||t||!1}function o({carouselInfo:e,disablePinTagButton:l,domain:a,hasMetTrustAndSafetyCheck:t,isShuffle:o,isEmployee:d,isORBACProfileManager:u,isScenePin:c,navLink:p,pinKey:g,showProductDetailPage:m}){let h=(0,i.A)(s,g),{checkExperiment:y}=(0,n.A)(),{access:_,storyPinDataId:v,isPromoted:k}=h,f=!1,b=!1;c||(f=!(b=!!p&&!o)&&!!a&&!!h.link&&!h.link.startsWith("https://i.pinimg.com")&&!(m&&e)&&!o),b=b&&!h?.isGoLinkless;let x=t&&!u&&!k,S=r(_,v,l,u,o,y("web_verify_auto_product_tags",{dangerouslySkipActivation:!0}).anyEnabled);return{showCloseupShopDomainLinkButton:c,showCollageEntryButton:"enabled_with_closeup_and_dropdown"===y("web_collage_add_from_closeup").group,showDebugSignalsFeedbackButton:!!d,showDomainLink:f,showDomainLinkButton:b,showFlashlightButton:x,showPinTagButton:S}}},809164(e,l,a){a.d(l,{A:()=>y});var t,i=a(61163),n=a(859471);a(825193);var s=a(150880),r=a(659182),o=a(578657),d=a(160634),u=a(668014),c=a(535273),p=a(678358),g=a(562615);let m=(void 0!==t||(t=a(96831)).hash&&"7968de6cea93e071c3555836067ea32b"!==t.hash&&console.error("The definition of 'DescriptionBrokenByLineBreaks_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function h({description:e}){let{closeupWithinMasonryEnabled:l,peekCloseupEnabled:a}=(0,p._G)(),{mWebCloseupRedesignEnabled:t}=(0,r.A)();return(0,g.jsx)(u.A,{name:"SimpleDescriptionWithHashtags",children:(0,o.A)({closeupWithinMasonryEnabled:l,peekCloseupEnabled:a,mWebCloseupRedesignEnabled:t,text:e})})}function y({description:e,enableAdditionalNoteSpace:l=!1,pinKey:a}){(0,n.useEffect)(()=>{(0,i.A)("DescriptionBrokenByLineBreaks","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/DescriptionBrokenByLineBreaks.tsx")},[]);let t=(0,c.A)(m,a),{userMentionTags:r,descriptionLinks:o}=t,u=e.split(/\n/)||[];return(0,g.jsx)(n.Fragment,{children:u.map((e,a)=>{let i=e.length>0?`${e.replace(/[^a-zA-Z0-9]/g,"").slice(0,15)}-${e.length}`:"empty-line-0",c=`desc-line-${i}-${Math.random().toString(36).slice(2,8)}`;if(""===e&&l)return(0,g.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{height:"1em"}}},c);let p=0;for(let e=0;e<a;e+=1){let l=u[e];void 0!==l&&(p+=l.length+1)}let m=p+e.length,{userMentionTags:y,descriptionLinks:_}=(({lineStartPosition:e,lineEndPosition:l,rawLine:a,userMentionTags:t,descriptionLinks:i})=>{let n=l=>{let t,i=l-e;return i-((t=a.slice(0,i)).length-t.replace(/\s+/g," ").length)};return{userMentionTags:t?.map(a=>a&&"number"==typeof a.offset&&a.offset>=e&&a.offset<l?{...a,originalOffset:a.offset,offset:n(a.offset)}:null).filter(e=>null!==e)||[],descriptionLinks:i?.map(a=>a&&"number"==typeof a.offset&&a.offset>=e&&a.offset<l?{...a,originalOffset:a.offset,offset:n(a.offset)}:null).filter(e=>null!==e)||[]}})({lineStartPosition:p,lineEndPosition:m,rawLine:e,userMentionTags:r,descriptionLinks:o});return y.length>0||_.length>0?(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(s.az,{children:(0,g.jsx)(d.A,{description:e.replace(/\s+/g," "),descriptionLinks:_,mentionLinkColor:"link",pinKey:t,shouldAdjustOffset:!1,shouldMakeHashtagLinksFromText:!0,textSize:"300",userMentionTags:y})}),(0,g.jsx)("br",{})]},c):(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(h,{description:e}),(0,g.jsx)("br",{})]},c)})})}},228044(e,l,a){a.d(l,{A:()=>c});var t=a(61163),i=a(859471),n=a(150880),s=a(586733),r=a(79906),o=a(538329),d=a(131094),u=a(562615);function c({handlePause:e,handlePlay:l,musicAttributions:a,shouldMute:c,showEndCard:p}){(0,i.useEffect)(()=>{(0,t.A)("MusicAttribution","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/VisualContent/MusicAttribution.tsx")},[]);let g=(0,o.A)(),{logContextEvent:m}=(0,s.o)(),[h,y]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{!p&&(a?.length||c)&&m({event_type:c?14600:14601,view_type:3,view_parameter:140})},[m,a,c,p]),p||!a?.length&&!c)return null;let _=()=>{l&&l(),y(!1)},v="";if(a?.length===1){let{artist:e="",title:l=""}=a[0];v=e&&l?`${e} - ${l}`:""}let k=(a?.length||0)>=2?(0,u.jsx)(n.az,{children:(0,u.jsx)(n.Rp,{fullHeight:!0,fullWidth:!0,onTap:()=>{e&&e(),y(!0)},children:(0,u.jsxs)(n.so,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(n.az,{marginEnd:2,children:(0,u.jsx)(n.In,{accessibilityLabel:g._('Music icon', 'web.closeup.musicicon', 'Artist and song title for Pin music attribution'),color:"inverse",icon:c?"music-slash":"music",inline:!0,size:12})}),(0,u.jsx)(n.KJ,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:g._('View the playlist', 'web.closeup.musicAttibutionModal.entryPoint', 'Entry point for playlist modal')})]})})}):(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(n.In,{accessibilityLabel:g._('Music icon', 'web.pin.closeup.musicicon', 'Music icon for Pin music attribution'),color:"inverse",icon:c?"music-slash":"music",inline:!0,size:12}),(0,u.jsx)(n.az,{marginStart:2,overflow:"hidden",children:(0,u.jsxs)("span",{className:v.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:v.length>=50?"260px":void 0},children:[(0,u.jsx)(n.KJ,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:v}),(0,u.jsx)(d.A,{unsafeCSS:`
                  .marquee {
                   animation: marquee 10s linear infinite;
                   animation-delay: 2s;
                  }

                  .marquee:hover {
                      animation-play-state: paused;
                  }


                 @keyframes marquee {
                   0% {
                     transform: translateX(0%);
                    }
                  50% {
                    transform: translateX(-100%);
                  }
                  100% {
                    transform: translateX(0%);
                  }
              }
            `})]})})]});return(0,u.jsxs)(i.Fragment,{children:[c?(0,u.jsx)(i.Fragment,{children:(0,u.jsxs)(n.so,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(n.az,{marginEnd:2,children:(0,u.jsx)(n.In,{accessibilityLabel:g._('Music icon', 'web.closeup.musicMutedIcon', 'Music muted icon for Pin music attribution'),color:"inverse",icon:"music-slash",inline:!0,size:12})}),(0,u.jsx)(n.KJ,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:g._('Audio not available in your location', 'web.closeup.musicAttribution', 'Informational message to tell user audio is not available in their location')})]})}):k,h&&(0,u.jsx)(r.Ay,{accessibilityModalLabel:g._('Artist and song title for this Pin', 'web.closeup.musicAttibutionModal', 'Artist and song title for Pin music attribution'),heading:(0,u.jsxs)(n.so,{justifyContent:"between",children:[(0,u.jsx)(n._Y,{size:"600",children:g._('Playlist for this video', 'web.closeup.musicAttibutionModal.heading', 'Title for music attribution modal')}),(0,u.jsx)(n.K0,{accessibilityLabel:g._('Close modal button', 'web.closeup.musicAttibutionModal.closeButton', 'Close modal button for music attribution modal'),bgColor:"default",icon:"close",iconColor:"default",onClick:_,size:"sm"})]}),onDismiss:_,children:(0,u.jsx)(n.az,{marginBottom:5,paddingX:5,paddingY:1,children:a?.map(({isrc:e,thumbnail_image_url:l,title:a,artist:t},i)=>(0,u.jsxs)(n.az,{display:"flex",padding:1,children:[l&&(0,u.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#dadada"}},height:60,rounding:700,width:60,children:(0,u.jsx)(n._V,{alt:g._('Image of album art', 'web.closeup.musicAttibutionModal.albumArt', 'Alt text for image of album art for associated song'),color:"darkWash",naturalHeight:1,naturalWidth:1,src:l})}),(0,u.jsxs)(n.az,{direction:"column",display:"flex",justifyContent:"center",paddingX:2,children:[(0,u.jsx)(n.KJ,{weight:"bold",children:a??""}),(0,u.jsx)(n.KJ,{size:"100",children:t??""})]})]},e||`${i}`))})})]})}},843599(e,l,a){a.d(l,{A:()=>r}),a(825193);var t,i=a(535273),n=a(601185);let s=(void 0!==t||(t=a(826420)).hash&&"b2f13a948eb09a6fe3cf984633c352f0"!==t.hash&&console.error("The definition of 'useGetInstagramRedirectLink_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function r(e){let l=(0,i.A)(s,e),{checkExperiment:a}=(0,n.A)(),t=a("instagram_default_link_setting_pinner_dweb").anyEnabled;if(!l.isInstagramApi||!l.nativeCreator)return{instagramRedirectUrlWithScheme:null,isInInstagramPinnerExperiment:!1};if(t){let{igDirectToSiteConfigs:e}=l.nativeCreator;return e&&l.nativeCreator.isDirectToSiteAllowed&&l.igOwner&&l.igOwner.entityId===l.nativeCreator.entityId?{instagramRedirectUrlWithScheme:e?.[0]?.directToSiteLinkWithScheme??null,isInInstagramPinnerExperiment:!0}:{instagramRedirectUrlWithScheme:null,isInInstagramPinnerExperiment:!0}}return l.nativeCreator.websiteUrl&&l.nativeCreator.isPrimaryWebsiteVerified&&l.nativeCreator.isDirectToSiteAllowed?{instagramRedirectUrlWithScheme:l.nativeCreator.websiteUrl??null,isInInstagramPinnerExperiment:!1}:{instagramRedirectUrlWithScheme:null,isInInstagramPinnerExperiment:!1}}},819985(e,l,a){a.d(l,{A:()=>o}),a(825193);var t,i=a(72047),n=a(535273),s=a(847753);let r=(void 0!==t||(t=a(407714)).hash&&"120c47eff2cf4911de716b514608718f"!==t.hash&&console.error("The definition of 'useIsBoardOwnerOrCollaborator_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function o({pinKey:e,orbacActingAs:l,viewer:a}){let t=(0,n.A)(r,e),o=!!t.pinner?.entityId&&(0,s.Nn)(a,t.pinner.entityId,l),d=!!(t.board?.collaboratedByMe||t.board?.owner?.entityId)&&(0,i.A)(t.board.collaboratedByMe,t.board.owner?.entityId,a);return o||d}},727667(e,l,a){a.d(l,{Ws:()=>sv,Ay:()=>sf});var t,i,n,s,r,o,d,u,c,p,g,m,h,y,_,v,k,f=a(61163),b=a(859471),x=a(106386),S=a(979638),P=a(222542),w=a(566288);let A=Object.freeze(["JP"]);var C=a(150880),F=a(493385),I=a(526502);a(825193);var T=a(548253),K=a(535273),L=a(726329),j=a(935504),M=a(562615);let R=(void 0!==t||(t=a(134727)).hash&&"cc72e00dad8d20ff5e78b580bc4b3428"!==t.hash&&console.error("The definition of 'AuthDesktopWebCloseupMainPinImpression_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);var z=a(620556),D=a(809164),E=a(8805),B=a(593451),V=a(160634),O=a(538329),U=a(542975);let N=e=>{let l=e?.recipe;if(!e||!l)return null;let{categorizedIngredients:a}=l;return a&&a.length>0?{...e,categorizedIngredients:a}:null};var W=a(600819),H=a(181091),G=a(124258),$=a(164221),Q=a(261276),X=a(61834),q=a(57926),J=a(678358),Y=a(56157),Z=a(163129),ee=a(766944),el=a(78565);let ea=(void 0!==i||(i=a(184679)).hash&&"c6b0de206743312221bd0e0b89d2f0aa"!==i.hash&&console.error("The definition of 'CardSourceDescriptionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),et=function(e){let{onUpdate:l,showMore:a,pinKey:t,isArticle:i,showSponsorshipAttribution:n,hasAffiliateLink:s,hasAffiliateProducts:r,instagramPostLink:o,onToggle:d}=e;(0,b.useEffect)(()=>{l?.()},[l]),(0,b.useEffect)(()=>{l?.()},[a,l]);let u=(0,O.A)(),c=(0,K.A)(ea,t),{closeupWithinMasonryEnabled:p,peekCloseupEnabled:g}=(0,J._G)(),{carouselInfo:m}=(0,B.M)(),{closeupUnifiedDescription:h,userMentionTags:y,richMetadata:_,storyPinData:v}=c,k=(h||"").trim(),f=m?.carouselData;if(f){let e=f.carousel_slots??[],l=f.index??0;e[l]&&e[l].details&&(k=e[l].details)}let x=_?.tutorial?.description,S=c.pinAdditionalNote||"",P=`${k}

${S}`;P=k?P:S;let w=(k=S?P:k)&&x&&x.trim()===k,A=k?k.replace(/\s+/g," "):"",F=A=!a&&A&&A.length?(0,q.A)(A,i?195:200):A;A&&y&&(F=(0,M.jsx)(V.A,{description:A,mentionLinkColor:"default",pinKey:c,shouldAdjustOffset:!0}));let I=k&&k.length>(i?195:200),T=null,L=N((0,W.A)((0,H.A)((0,G.A)(e)))),j=v?.metadata?.basics;if(j){let e,{keyValueBlocks:l,listBlocks:a}=j;c&&c.domain&&c.link&&(e={domain:c.domain,url:c.link});let t=[];e?.domain&&(t=[...t,e.domain]);let i=(l||[]).map(e=>(0,Z.A)(e.categoryType,e.value,u)).filter(e=>""!==e);i.length>0&&(t=[...t,...i]),(a??[]).forEach(({heading:e,blocks:l})=>{e&&(t=[...t,e]),(l??[]).forEach(e=>{"StoryPinListBlock"===e.__typename&&e.blocks&&(e.blocks??[]).forEach(e=>{"text"in e&&e.text&&(t=[...t,e.text])})})}),T=(0,ee.A)(t)}else if(L){let{prepTime:e,cookTime:l,totalTime:a,servingSummary:t,serves:i}=L.recipe,n=a||l||e;if(l&&e){let a=l.h||0,t=l.m||0;n={h:a+(e.h||0),m:t+(e.m||0)}}let s=n?(0,X.A)((0,Q.R)(n),u):null,r=c.richMetadata?.recipe?.aggregateRating?.reviewCount;t&&(T=i?(0,M.jsxs)(C.KJ,{inline:!0,size:"300",children:[i," ",u._('servings', 'closeup.CardSourceDescriptionText.servesLabel', 'Label for servings')]},"recipe"):(0,M.jsx)(C.KJ,{inline:!0,size:"200",children:t},"recipe")),s&&(T=T?(0,U.vQ)("{{ timeLabel }}  {{ description }}",{timeLabel:s,description:T}):s),"number"==typeof r&&r>0&&(T=T?(0,U.vQ)(u._('{{ reviewCount }} reviews \xB7 {{ description }}', 'number of reviews on a recipe and the description', 'number of reviews on a recipe and the description'),{reviewCount:r,description:T}):r);let o=c.richMetadata?.recipe?.aggregateRating?.ratingValue,d=Number(o);Number.isNaN(d)&&(d=0),d>=.25&&(T=T?(0,U.vQ)("{{ ratings }} {{ description }}",{ratings:(0,M.jsx)($.A,{max_rating:c.richMetadata?.recipe?.aggregateRating?.bestRating,rating:o},o),description:T}):(0,M.jsx)($.A,{max_rating:c.richMetadata?.recipe?.aggregateRating?.bestRating,rating:o},o))}if(!A||w)return null;let R=4;return p?R=0:g&&(R=2),k?(0,M.jsxs)(C.az,{marginBottom:p?0:n&&(s||r)?2:4,marginTop:R,children:[(0,M.jsxs)(E.A,{descriptionDir:(0,el.V)(k),children:[(0,M.jsx)(D.A,{description:k||"",enableAdditionalNoteSpace:""!==S,pinKey:c}),o]}),n&&(0,M.jsx)(C.az,{marginTop:1,children:(0,M.jsx)(Y.A,{hasAffiliateLink:s,hasAffiliateProducts:r})})]}):(0,M.jsxs)("span",{children:[(0,M.jsx)(C.KJ,{color:p?"subtle":void 0,inline:!0,size:"200",children:(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{display:"inline"}},"data-test-id":"description",children:T?(0,U.vQ)("{{ recipeInfo }}  {{ description }}",{recipeInfo:T,description:F}):F})}),I&&!a&&(0,M.jsx)(C.az,{"data-test-id":"more-button",display:"inlineBlock",marginStart:1,children:(0,M.jsx)(C.Rp,{fullWidth:!1,onTap:d,children:(0,M.jsx)(C.KJ,{inline:!0,size:"200",weight:"bold",children:u._('More', ' - ', ' -- ')})})})]})},ei=(e,l)=>e.length>300?e:e.length+l.length+3>300?`${e} ${l}...`:`${e} ${l}`,en=(void 0!==n||(n=a(984073)).hash&&"d6d83b429981e4bc762e3872608eedbd"!==n.hash&&console.error("The definition of 'Description_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function es(e){(0,b.useEffect)(()=>{(0,f.A)("Description","/app/common/react/components/auth-desktop-web-closeup/Description.tsx")},[]);let[l,a]=(0,b.useState)(!1),{pinKey:t,onUpdate:i,showSponsorshipAttribution:n,hasAffiliateLink:s,hasAffiliateProducts:r,instagramPostLink:o}=e,d=(0,K.A)(en,t);if(!d.entityId)return null;let u=!!d.aggregatedPinData,c=!!d.description,p=d.pinAdditionalNote||"",g=!!d.richMetadata?.recipe,m=!!d.richMetadata?.article,h=d.richMetadata?.article?.description,y=!!d.richMetadata?.tutorial,_=m&&!g&&!y;return(0,M.jsx)(b.Fragment,{children:(0,M.jsx)("span",{className:"richPinInformation","data-test-id":"richPinInformation-description",children:c||p||u?(0,M.jsx)(et,{hasAffiliateLink:s,hasAffiliateProducts:r,instagramPostLink:o,isArticle:_,onToggle:()=>a(!0),onUpdate:i,pinKey:d,showMore:l,showSponsorshipAttribution:n}):_&&h&&(0,M.jsx)(C.az,{marginBottom:3,children:(0,M.jsx)(C.KJ,{children:h.split(" ").map(e=>e.trim()).reduce(ei,"")})})})})}var er=a(987329);function eo({mediaAttribution:{author:e,authorUrl:l,ccUrl:a,link:t,mediaType:i,providerName:n}}){(0,b.useEffect)(()=>{(0,f.A)("MaybeMediaAttribution","/app/common/react/components/auth-desktop-web-closeup/Description/MaybeMediaAttribution.tsx")},[]);let s=(0,O.A)(),r=!!(n&&t);if(!e&&!r)return null;let o=r?s._('from {{ provider }}', 'closeup.attribution.imageWithProvider', 'Image source attribution withprovider but no author on pin closeup'):null;return e&&(o="VIDEO"===i?r?s._('Video by {{ author }} on {{ provider }}', 'closeup.attribution.videoWithAuthorProvider', 'Video source attribution on pin closeup'):s._('Video by {{ author }}', 'closeup.attribution.videoWithAuthor', 'Video source attribution on pin closeup when there is an author but no provider'):r?s._('Photo by {{ author }} on {{ provider }}', 'closeup.attribution.photoWithAuthorProvider', 'Photo source attribution on pin closeup'):s._('Photo by {{ author }}', 'closeup.attribution.photoWithAuthor', 'Photo source attribution on pin closeup when there is an author but no providers')),(0,M.jsx)(C.az,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,M.jsxs)(C.KJ,{color:"default",size:"200",children:[!!o&&(0,M.jsx)(er.A,{text:(0,U.vQ)(o,{author:(0,M.jsx)(C.N_,{display:"inlineBlock",href:l??"",rel:"nofollow",underline:"hover",children:(0,M.jsx)(C.KJ,{size:"200",weight:"bold",children:e})},"author"),provider:r?(0,M.jsx)(C.az,{display:"inlineBlock",marginEnd:1,children:(0,M.jsx)(C.N_,{display:"inlineBlock",href:t??"",rel:"nofollow",underline:"always",children:n},"provider")}):null})}),a&&(0,M.jsx)(C.N_,{href:a,rel:"nofollow",children:s._('(cc)', 'creative commons link text', 'creative commons link text')})]})})}function ed({attribution:{authorName:e,authorUrl:l,ccUrl:a,providerName:t,url:i},embed:n}){(0,b.useEffect)(()=>{(0,f.A)("MaybePhotoAttribution","/app/common/react/components/auth-desktop-web-closeup/Description/MaybePhotoAttribution.tsx")},[]);let s=(0,O.A)(),r=!!(t&&i);if(!e&&!r)return null;let o=null;return r?o=e?n?.src&&"gif"!==n.type&&"pinstory"!==n.subtype?s._('Video by {{ author }} on {{ provider }}', 'closeup.attribution.videoWithAuthorProvider', 'Video source attribution on pin closeup'):s._('Photo by {{ author }} on {{ provider }}', 'closeup.attribution.photoWithAuthorProvider', 'Photo source attribution on pin closeup'):s._('from {{ provider }}', 'closeup.attribution.imageWithProvider', 'Image source attribution withprovider but no author on pin closeup'):e&&(o=n?.src&&"gif"!==n.type&&"pinstory"!==n.subtype?s._('Video by {{ author }}', 'closeup.attribution.videoWithAuthor', 'Video source attribution on pin closeup when there is an author but no provider'):s._('Photo by {{ author }}', 'closeup.attribution.photoWithAuthor', 'Photo source attribution on pin closeup when there is an author but no providers')),(0,M.jsx)(C.az,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,M.jsxs)(C.KJ,{color:"default",size:"200",children:[!!o&&(0,M.jsx)(er.A,{text:(0,U.vQ)(o,{author:(0,M.jsx)(C.N_,{display:"inlineBlock",href:l??"",rel:"nofollow",underline:"hover",children:(0,M.jsx)(C.KJ,{size:"200",weight:"bold",children:e})},"author"),provider:r?(0,M.jsx)(C.az,{display:"inlineBlock",marginEnd:1,children:(0,M.jsx)(C.N_,{display:"inlineBlock",href:i??"",rel:"nofollow",underline:"always",children:t},"provider")}):null})}),a&&(0,M.jsx)(C.N_,{href:a,rel:"nofollow",children:s._('(cc)', 'creative commons link text', 'creative commons link text')})]})})}let eu=(void 0!==s||(s=a(58482)).hash&&"7142df6a7a3c1aee54267c5441d3d50b"!==s.hash&&console.error("The definition of 'CloseupAttributionAndDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),ec=e=>{(0,b.useEffect)(()=>{(0,f.A)("CloseupAttributionAndDescription","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupAttributionAndDescription.tsx")},[]);let{isStoryPin:l,pinKey:a,onUpdate:t,instagramPostLink:i}=e,n=(0,K.A)(eu,a),s=n.entityId&&(!!n.attribution?.providerUrl&&!!n.attribution.providerName||!!n.attribution?.authorName),r=n.entityId&&(!!n.mediaAttribution?.link&&!!n.mediaAttribution.providerName||!!n.mediaAttribution?.author),o=null;if(s||r){let{closeupUnifiedDescription:e}=n,l=(e||"").trim()?"{{ credit }}":"{{ credit }}";o=n.mediaAttribution?(0,U.vQ)(l,{credit:n.mediaAttribution&&(0,M.jsx)(eo,{mediaAttribution:{author:n.mediaAttribution.author,authorUrl:n.mediaAttribution.authorUrl,ccUrl:n.mediaAttribution.ccUrl,link:n.mediaAttribution.link,mediaType:n.mediaAttribution.mediaType,providerName:n.mediaAttribution.providerName}},"article-pin")}):(0,U.vQ)(l,{credit:n.attribution&&(0,M.jsx)(ed,{attribution:{authorName:n.attribution.authorName,authorUrl:n.attribution.authorUrl,ccUrl:n.attribution.ccUrl,providerName:n.attribution.providerName,url:n.attribution.url},embed:n.embed&&{type:n.embed.type,src:n.embed.src,subtype:n.embed.subtype}},"article-pin")})}return(0,M.jsxs)(C.KJ,{inline:!0,children:[o,!l&&(0,M.jsx)(es,{instagramPostLink:i,onUpdate:t,pinKey:n})]})};var ep=a(690341),eg=a(430705);function em({creatorId:e,children:l}){let{data:a}=(0,eg.A)({name:"UserResource",options:{field_set_key:"grid_item",user_id:e}});return l(a)}function eh({hasBeenBoostPromoted:e,onPromoteClick:l}){(0,b.useEffect)(()=>{(0,f.A)("PromotePinBanner","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/PromotePinBanner.tsx")},[]);let a=(0,O.A)();return(0,M.jsx)(C.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"12px 8px 12px 16px"}},display:"flex",rounding:400,width:"100%",children:(0,M.jsxs)(C.so,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,M.jsx)(C.az,{flex:"grow",children:e?(0,M.jsxs)(C.KJ,{size:"300",children:[(0,M.jsx)(C.KJ,{inline:!0,size:"300",weight:"bold",children:a._('Your promotion is active.', 'PromotePinBanner.activeTitle', 'Title shown when a pin has an active boost promotion')}),a._(' To edit or pause, go to Ads Manager in settings.', 'PromotePinBanner.activeSubtitle', 'Subtitle shown when a pin has an active boost promotion')]}):(0,M.jsxs)(C.KJ,{size:"300",children:[(0,M.jsx)(C.KJ,{inline:!0,size:"300",weight:"bold",children:a._('Promote your Pin', 'PromotePinBanner.title', 'Title for promote banner')}),a._(' to reach more people who\'ll love your ideas.', 'PromotePinBanner.subtitle', 'Subtitle for promote banner')]})}),(0,M.jsx)(C.az,{flex:"none",children:(0,M.jsx)(C.$n,{color:"primary",dataTestId:"promote-pin-banner-button",iconStart:"rocketship",onClick:l,size:"lg",text:e?a._('Promote again', 'PromotePinBanner.promoteAgainButton', 'Button text when pin has an active boost promotion'):a._('Promote', 'PromotePinBanner.button', 'Promote button text')})})]})})}var ey=a(287209),e_=a(438098),ev=a(539855),ek=a(815938);let ef=(void 0!==r||(r=a(272434)).hash&&"63a66a6b195a0e9cef298ab368edb058"!==r.hash&&console.error("The definition of 'useCloseupBodyUtils_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function eb(e){let l=(0,K.A)(ef,e),{currentDomain:a}=(0,ey.A)({carouselData:l.carouselData&&{carouselSlots:l.carouselData.carouselSlots&&l.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:l.carouselData?.index},domain:l.domain}),t=!!l.link&&l.link.startsWith("https://i.pinimg.com"),i=(0,b.useCallback)(e=>e&&!t?!!l.link:!l.isEligibleForPdp&&!!(0,e_.k3)(a)&&!t,[a,l.isEligibleForPdp,l.link,t]),n=(0,ev.A)({hasPin:!!l,hasPinRichMetadata:!!l.richMetadata,hasPinRichMetadataProducts:!!l.richMetadata?.products,hasPinRichMetadataArticle:!!l.richMetadata?.article,hasPinRichMetadataRecipe:!!l.richMetadata?.recipe,hasPinStoryPinData:!!l.storyPinData}),s=(0,b.useCallback)(e=>e||n,[n]),r=!!l.creatorClass;return{getShowClickthroughLink:i,getViewParameter:s,makeDetailsArgs:(0,b.useCallback)(e=>({isShopTheLook:!!l.aggregatedPinData?.isShopTheLook,showCreatorCard:!!l.closeupUnifiedAttribution?.entityId,creatorId:l.closeupUnifiedAttribution?.entityId??null,showCanonicalComments:!!l.isEligibleForAggregatedComments,showReactions:(0,ek.QW)({board:l.board?.isCollaborative||l.board?.collaboratedByMe?{isCollaborative:l.board.isCollaborative??null,collaboratedByMe:l.board.collaboratedByMe??null}:null,videos:l.videos?.entityId?{entityId:l.videos.entityId}:null,isDownstreamPromotion:l.isDownstreamPromotion,isPromoted:l.isPromoted,storyPinDataId:l.storyPinDataId},e),isCreatorClassPin:r}),[r,l.aggregatedPinData?.isShopTheLook,l.board?.collaboratedByMe,l.board?.isCollaborative,l.isDownstreamPromotion,l.isEligibleForAggregatedComments,l.isPromoted,l.storyPinDataId,l.videos?.entityId,l.closeupUnifiedAttribution?.entityId])}}var ex=a(843599),eS=a(154508),eP=a(545635),ew=a(462993),eA=a(959355),eC=a(192537),eF=a(103892),eI=a(177127),eT=a(418396),eK=a(899464),eL=a(921187),ej=a(509467),eM=a(637337),eR=a(586733),ez=a(473264),eD=a(668014),eE=a(131094),eB=a(115795),eV=a(520483),eO=a(602924),eU=a(844255),eN=a(618243),eW=a(442355),eH=a(385800),eG=a(847753),e$=a(379882),eQ=a(162497),eX=a(522183);function eq({children:e}){(0,b.useEffect)(()=>{(0,f.A)("CreatorCardLayout","/app/www/CreatorCard/CreatorCardLayout.tsx")},[]);let{closeupWithinMasonryEnabled:l,peekCloseupEnabled:a}=(0,J._G)(),t=8,i=4;return a?(t=0,i=eQ.vg):l&&(t=void 0,i=void 0),(0,M.jsx)(C.az,{marginBottom:t,marginTop:i,children:e})}var eJ=a(907896),eY=a(804349),eZ=a(408738);let e0=(0,eZ.A)(()=>a.e("30639").then(a.bind(a,968511)),void 0,e=>968511,"app-www-closeup-duplo-PinRecipeRating",e=>["30639"]),e1=(0,eZ.A)(()=>Promise.all([a.e("81936"),a.e("71036"),a.e("78815"),a.e("88581")]).then(a.bind(a,137381)),{ssr:!1},e=>137381,void 0,void 0),e3=(0,b.lazy)(()=>a.e("40641").then(a.bind(a,167690))),e2=(void 0!==o||(o=a(863415)).hash&&"19864f13d0ad393727951335dc8d6bdd"!==o.hash&&console.error("The definition of 'DefaultMetadata_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),e5=(0,b.memo)(function({pinKey:e,clientTrackingParams:l,isStoryPin:a,isDeletedStoryPin:t,viewParameter:i,trafficSource:n,details:s,viewer:r,onClickThrough:o,onCloseupBodyUpdate:d,orbacActingAs:u,outerPaddingSize:c,viewportSize:p,shouldShowPartnerModule:g,trendsData:m,showTrendsOnPinCloseup:h,showPinStats:y,showShoppingModule:_,onPromoteBannerVisibilityChange:v}){let k,f=(0,O.A)(),{logContextEvent:x}=(0,eR.o)(),{carouselInfo:P}=(0,B.M)(),w=(0,K.A)(e2,e),{isBoostV2Enabled:A,isEligibleForBoost:F,hasBeenBoostPromoted:I}=(0,eV.A)({isQuickPromotableByPinner:w.isQuickPromotableByPinner,hasBeenBoostPromoted:w.hasBeenBoostPromoted}),L=(0,eA.A)(),R=(0,ew.A)(),V=F&&!I&&!y,U=y&&A&&(F||I),N=V||U,{advertiser:W}=(0,eU._8)(),[H,G]=(0,b.useState)(!1),{isInInstagramPinnerExperiment:$,instagramRedirectUrlWithScheme:Q}=(0,ex.A)(w),X=$?{is_instagram_redirect:!!Q,redirect_url:Q}:{is_claimed_domain:!!Q},{getShowClickthroughLink:q,makeDetailsArgs:Z}=eb(w),{creatorId:ee,showCreatorCard:ea}=Z(!!t),{sideBySideFullWidthCTAEnabled:et}=(0,eI.A)(),ei=q(a),{inAffiliateDisclosureEnabled:en}=(0,eF.A)();(0,b.useEffect)(()=>{v?.(N)},[N,v]);let es=(0,b.useRef)(!1);(0,b.useEffect)(()=>{V&&A&&!es.current&&(es.current=!0,(0,eC.j)(x,{step:"pin_closeup_cta_impression",component:15613,element:18529,isQuickPromotable:!0,isQuickPromoted:I,pinId:w.entityId,sessionId:L,surface:R}))},[V,A,x,I,w.entityId,L,R]);let er=(0,S.zy)(),{isAuthenticated:eo,userAgent:{isMobile:ed}}=(0,eU._8)(),eu=({event:e})=>{if(e&&(e.stopPropagation(),e.preventDefault()),A)(0,eC.j)(x,{step:"pin_closeup_cta_tap",component:15613,element:18529,isQuickPromotable:!0,isQuickPromoted:I,pinId:w.entityId,sessionId:L,surface:R}),ed?window.location.assign(`/ads/create?pin-id=${w.entityId}`):G(!0);else{let e=(0,e$.uB)(W,w.entityId);window.location.assign(e)}},eg=(0,eT.A)({pinKey:w,pinId:w.entityId,viewParameter:i,trafficSource:n}),{closeupUnifiedDescription:ey,closeupUserNote:ev,pinAdditionalNote:ek}=w,ef=ey?.trim(),eZ=w?.storyPinData?.metadata?.basics?.keyValueBlocks||[],e5=eZ.length>0,e6=(0,eP.A)(ev)||!!w.richMetadata,e4=w.richMetadata?.recipe?.name&&w.richMetadata.recipe.categorizedIngredients&&w.richMetadata.recipe.categorizedIngredients.length>0,{closeupWithinMasonryEnabled:e8,peekCloseupEnabled:e7}=(0,J._G)(),e9=(0,T.A)({showProductDetailPage:!1}),le=(0,eJ.A)(w),ll=(0,eY.R)({components:le,pinDescription:ef||""}),la=(0,j.A)(w)(),lt=(0,eG.Hs)(r,w.pinner?.entityId,u),[li,ln]=(0,b.useState)(!1),ls=(0,M.jsx)(eH.e,{children:({hovered:e,onMouseEnter:a,onMouseLeave:t})=>(0,M.jsx)(ez.A,{clientTrackingParams:l,hovered:e,pinKey:w,trafficSource:n,viewType:3,children:(0,M.jsx)(C.az,{onMouseEnter:a,onMouseLeave:t,children:(0,M.jsx)(eX.A,{carouselInfo:P,isLink:ei,onClick:eg,onTitleCheck:ln,pinKey:w})})})}),lr=()=>ea&&(0,M.jsx)(ep.A,{"data-testid":"closeup-metadata-creator",marginTop:e8?(c??eQ.bZ)/2:0,paddingBottom:e8?(c??eQ.bZ)/2:0,paddingRight:8*!e8,children:(0,M.jsx)(em,{creatorId:ee,children:e=>!!e&&(0,M.jsx)(eq,{children:(0,M.jsx)(eK.default,{clientTrackingParams:l,componentType:126,impressionType:"User",input:w,isORBACProfileManager:lt,loggingId:ee,officialUser:e,slotIndex:0,usernameAccessibilityLevel:2,viewParameter:i,viewType:3})})})}),{link:lo,trackedLink:ld,utmLink:lu}=w||{};if(P&&P.carouselData&&P.carouselData.id){let{carousel_slots:e=[],index:l=0}=P.carouselData;k=e[l]&&e[l].link}let lc=k||(0,e_.iF)({trackedLink:ld,link:lo,utmLink:lu})||"",lp=(P?.carouselData?.carousel_slots?.length??0)>0,lg=lc;Q?lg=Q:w.showRecipeCta||(lg=lc);let lm=!eo&&(0,eB.iK)(er),lh=!!(w.promoter&&!w.isDownstreamPromotion)&&w.promoter?.entityId===w.nativeCreator?.entityId,{sponsorship:ly,storyPinData:l_,affiliateLink:lv,affiliateDisclosure:lk}=w,lf=!!lv,lb=!!l_?.hasAffiliateProducts,lx=(!!ly?.sponsor||lb||lf)&&(lg||_)&&!lh&&!lm,lS=r.isAuth&&w.originPin?.originPinner?.entityId===r.id,lP=ei&&lg&&(lS||!w.isGoLinkless),lw=e7&&!e8?c??eQ.bZ:0,lA=w.showRecipeCta?f._('See recipe', 'closeup.defaultMetadata.visitButton', 'Button to visit recipe link on Pin'):f._('Visit site', 'closeup.defaultMetadata.visitButton', 'Button to visit link on Pin'),lC=()=>lP&&(0,M.jsx)(ep.A,{marginTop:e7?c??eQ.bZ:void 0,paddingBottom:e7?(c??eQ.bZ)/2:void 0,paddingRight:lw,children:(0,M.jsx)(C.az,{"data-test-id":"visit-site-button",role:"link",children:(0,M.jsx)(eM.A,{clientTrackingParams:l,color:"secondary",fullWidth:et,link:lg,onClickThrough:()=>{x({event_type:102,element:162,component:4,aux_data:X}),o()},pinKey:w,text:lA})})}),lF=()=>(0,M.jsxs)(b.Fragment,{children:[e9&&ll.length>0&&ef&&(0,M.jsx)(C.az,{"data-test-id":"product-description",paddingY:eQ.vg,children:(0,M.jsx)(eL.A,{commerceData:la,pinKey:w,structuredDescription:ll,type:"preview",viewParameter:i})}),!e9&&!!(a&&ef&&e6)&&(0,M.jsx)(C.az,{marginTop:e8?eQ.vg:8,width:e8?"100%":void 0,children:(0,M.jsx)(E.A,{descriptionDir:(0,el.V)(ef),children:(0,M.jsx)(D.A,{description:ef||"",pinKey:w})})}),!e9&&!a&&(w.attribution||ef||ek)&&e8&&(0,M.jsx)(C.so,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,M.jsx)(C.az,{marginBottom:e8&&!e4?eQ.vg:void 0,marginTop:e8?eQ.vg:void 0,width:"100%",children:(0,M.jsx)(ec,{instagramPostLink:(0,M.jsx)(eW.A,{nativeCreatorCloseupLinkEligible:!!Q,peekCloseupEnabled:e7,uriComponent:lc}),isStoryPin:a,onUpdate:d,pinKey:w})})}),!en&&lx&&(ed||e8)&&(0,M.jsx)(C.az,{marginTop:2,children:(0,M.jsx)(Y.A,{affiliateDisclosure:lk,hasAffiliateLink:lf,hasAffiliateProducts:lb})})]}),lI=e8?"start":void 0,lT=lx&&(ed||e8);return(0,M.jsxs)(C.az,{direction:"column",display:"flex",height:e9||e8?"100%":void 0,marginTop:e8&&!e9?4:void 0,minHeight:0,children:[g&&(a||e8)&&(0,M.jsx)(ep.A,{paddingRight:(c??eQ.bZ)/2,children:(0,M.jsx)(C.az,{"data-test-id":"PartnerModule",width:"100%",children:(0,M.jsx)(eD.A,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(e3,{boostSessionId:L,borderStyle:eS.ZL,hasBeenBoostPromoted:I,isBoostV2Enabled:A,isStoryPin:a,pinKey:w,showPinStats:y,trendsData:h?m?.data?.results:null,viewportSize:p})})})})}),e9?(0,M.jsx)(C.az,{flex:"none",children:lr()}):null,(0,M.jsxs)(C.so,{alignItems:en?"stretch":lI,direction:"column",flex:"grow",justifyContent:e8?"between":void 0,minHeight:0,children:[!e9&&V&&(0,M.jsx)(C.az,{marginBottom:4,children:(0,M.jsx)(ep.A,{paddingRight:8*!e8,children:(0,M.jsx)(eh,{hasBeenBoostPromoted:I,onPromoteClick:eu})})}),(0,M.jsxs)(C.az,{alignItems:en?"stretch":lI,display:e8?"flex":void 0,justifyContent:e8?"between":void 0,children:[(0,M.jsxs)(C.so.Item,{flex:"none",flexBasis:e8&&lP&&!e9?"77%":"100%",children:[!li&&(0,M.jsx)(C.az,{"data-test-id":"closeup-title",display:"inlineBlock",flex:"none",children:ls}),!e9&&e7&&lr(),(0,M.jsx)(C.az,{direction:e7?"column":void 0,display:e7?"flex":void 0,height:e7||e9?"100%":void 0,marginTop:e8?eQ.vg:void 0,children:(0,M.jsxs)(ep.A,{marginTop:e8?eQ.vg:void 0,paddingRight:e9?0:c,children:[e5&&(0,M.jsx)(z.A,{hasMetadataTemplateType:!!w.storyPinData?.metadata?.templateType,keyValueBlocks:eZ}),!e5&&!!e4&&(0,M.jsxs)(b.Fragment,{children:[(0,M.jsx)(eE.A,{unsafeCSS:`
                        [data-test-id="closeup-pin-recipe-rating-focusable"]:focus:not(:focus-visible) {
                          outline: none;
                        }
                      `}),(0,M.jsx)(C.az,{"data-test-id":"closeup-pin-recipe-rating-focusable",tabIndex:0,children:(0,M.jsx)(e0,{boldText:!1,fallback:(0,M.jsx)(C.y$,{accessibilityLabel:f._('Loading Pin recipe rating', 'closeupDefaultMetadata.PinRecipeRating.loading.label', 'Spinner indicates pin recipe rating is loading'),show:!0}),pinKey:w,textSize:"300"})})]}),e9&&lp&&(0,M.jsx)(C.az,{marginBottom:eQ.vg,marginTop:eQ.vg,children:(0,M.jsx)(eO.A,{containerId:"InnerScrollContainer",children:(0,M.jsx)(ej.A,{accessibilityControls:`closeup-image-container-${w.entityId}`,commerceData:la,inBlendedUIExp:!0,layout:"row",pinId:w.entityId,size:"lg",surfaceType:"closeup",viewParameter:156})})}),e9&&lP&&(0,M.jsx)(C.az,{flex:"none",paddingY:eQ.vg,children:lC()}),e9&&en&&lT&&(0,M.jsx)(C.az,{flex:"none",paddingY:eQ.vg,children:(0,M.jsx)(Y.A,{affiliateDisclosure:lk,hasAffiliateLink:lf,hasAffiliateProducts:lb})}),!e9&&lF()]})}),!e9&&e8&&lr()]}),!e9&&e8&&lC()]}),(0,M.jsxs)(C.so,{alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"start",minHeight:0,overflow:"auto",children:[e9&&lF(),e8&&!e9&&en&&lT&&(0,M.jsx)(C.az,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{paddingBottom:en&&lT?"36px":void 0}},display:et?"block":"flex",flex:"grow",justifyContent:"end",position:en?"relative":void 0,children:en&&lT&&(0,M.jsx)(C.az,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,M.jsx)(Y.A,{affiliateDisclosure:lk,hasAffiliateLink:lf,hasAffiliateProducts:lb})})}),!e9&&e7&&lC(),(0,M.jsx)(C.az,{children:s}),e9&&V&&(0,M.jsx)(C.az,{marginTop:4,children:(0,M.jsx)(ep.A,{paddingBottom:4,paddingRight:8*!e8,children:(0,M.jsx)(eh,{hasBeenBoostPromoted:I,onPromoteClick:eu})})})]})]}),H&&(0,M.jsx)(e1,{boostSessionId:L,isQuickPromoted:I,onDismiss:()=>{G(!1)},pinId:w.entityId})]})});function e6(e){return(0,b.useEffect)(()=>{(0,f.A)("DefaultMetadata","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/DefaultMetadata.tsx")},[]),(0,M.jsx)(e5,{...e})}var e4=a(910193),e8=a(235619),e7=a(989128),e9=a(819985);let le=e=>({isEligibleForStaticImageIdeaPin:!!e});var ll=a(601185),la=a(413084);let lt=(0,b.lazy)(()=>Promise.all([a.e("13553"),a.e("29431")]).then(a.bind(a,632690))),li=(0,b.memo)(function({isStoryPin:e,isVideoPin:l,isDeletedStoryPin:a,orbacActingAs:t,orbacSubjectId:i,onCommentSectionClick:n,onCloseupBodyUpdate:s,outerPaddingSize:r=eQ.Z,pin:o,viewer:d,shouldShowStlCarouselForOwnPin:u,storyPinTaggedProducts:c=[],taggedProducts:p,closeupContext:g,isLoadingNewlyCreatedComment:m,viewParameter:h,detailsScrollContainerRef:y}){let{makeDetailsArgs:_}=eb({type:"Legacy",data:o}),{checkExperiment:v}=(0,ll.A)(),{logContextEvent:k}=(0,eR.o)(),{isShopTheLook:f,showCanonicalComments:x}=_(!!a),P=(0,T.A)({showProductDetailPage:!1}),w=(0,O.A)(),A=(0,S.zy)(),F=(0,S.Zp)(),{isAuthenticated:I}=(0,eU._8)(),K=o.is_instagram_api&&o.native_creator?.website_url&&o.native_creator?.is_primary_website_verified,{link:L,utm_link:j,tracked_link:R}=o,z=(0,e_.iF)({utmLink:j,link:L,trackedLink:R}),D=N((0,W.A)((0,H.A)((0,G.A)({pin:o})))),E=(p||[]).filter(e=>(function(e){if("pin_tag"===e.type){let{x_percent:l,y_percent:a}=e;if(l>0&&l<=100&&a>0&&a<=100)return!0}return!1})(e)),B=(0,eG.Hs)(d,o.pinner?.id,t),{closeupWithinMasonryEnabled:V,peekCloseupEnabled:U}=g,$=!I&&(0,eB.iK)(A),Q=!!(o.promoter&&!o.is_downstream_promotion)&&o.promoter?.id===o.native_creator?.id,{sponsorship:X,story_pin_data:q,affiliate_link:J,affiliate_disclosure:Z}=o,ee=!!J,el=!!q?.has_affiliate_products,ea=(!!X||el||ee)&&!Q&&!$,et=(o.aggregated_pin_data?.comment_count??0)+(o.aggregated_pin_data?.did_it_data?.images_count??0),ei=!a&&x&&(!P||(o.aggregated_pin_data?.comment_count??0)>0),en=et>0||!U,es=!e&&(!((o.rich_summary?.products??[]).length||(o.rich_metadata?.products??[]).length)&&f&&E.length>0||u)&&!l,er=e&&c&&c.length>0,eo=(0,e9.A)({pinKey:{type:"Legacy",data:o},orbacActingAs:t,viewer:d}),ed=!a&&eo&&!v("closeup_remove_add_favorite_web").anyEnabled,eu=!!o?.shuffle?.id&&!!o.shuffle?.is_remixable,{isEligibleForStaticImageIdeaPin:eg}=le(o.story_pin_data_id),em=eg&&c&&c.length>0,{paddingLeft:eh,paddingRight:ey,marginTop:ev,marginBottom:ek}=V?{paddingLeft:0,paddingRight:0,marginTop:2*!!P,marginBottom:2*!!P}:U?{paddingLeft:0,paddingRight:r/2,marginTop:2,marginBottom:2}:{paddingLeft:r/2,paddingRight:r,marginTop:10,marginBottom:6},ef=o.favorited_by_me?w._('Remove from favorites', 'closeup.metadataDetails.removeFromFavorites', 'Text for button allowing users to unfavorite a saved Pin'):w._('Add to favorites', 'closeup.metadataDetails.addToFavorites', 'Text for button allowing users to favorite a saved Pin'),ex=[...es||er||em?[(0,M.jsx)(ep.A,{paddingLeft:V?void 0:r/2,paddingRight:V?void 0:r,children:(0,M.jsx)(eD.A,{name:"SafeSuspense_CloseupBody_StlCloseupModule",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(lt,{closeupImageSignature:o.image_signature??"",isOwnCreatedPin:u,pin:o,pinId:o.id,taggedObjects:er||em?c:E,type:es?"stl":"story",viewParameter:h})})})},"closeupStlModuleMetadataPadding")]:[],...D?[(0,M.jsx)(ep.A,{paddingLeft:0,paddingRight:V?void 0:r/2,children:(0,M.jsx)(la.A,{recipeProps:D})},"closeupRecipeMetadataPadding")]:[],...eu&&v("web_collage_remixing").anyEnabled?[(0,M.jsx)(ep.A,{paddingRight:V?void 0:r/2,children:(0,M.jsx)(C.$n,{fullWidth:!0,onClick:()=>{k({event_type:101,view_type:3,view_parameter:140,element:14361}),F("/collage-creation-tool/",{state:{shuffleParentId:o.shuffle?.id}})},size:"lg",text:w._('Remix this collage', 'closeup.metadataDetails.remixCollageButton', 'Button to remix the collage')})},"closeupRemixCollageButtonPadding")]:[],...ed?[(0,M.jsx)(ep.A,{paddingRight:V?void 0:r/2,children:(0,M.jsxs)(C.az,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2*!V,marginTop:2*!V,children:[V?(0,M.jsx)(C.KJ,{size:"300",weight:"bold",children:ef}):(0,M.jsx)(C.KJ,{weight:"bold",children:ef}),(0,M.jsx)(e8.A,{pinKey:{type:"Legacy",data:o}})]})},"closeupFavoriteBarMetadataPadding")]:[]];return(0,M.jsx)(b.Fragment,{children:(0,M.jsxs)(C.so,{alignItems:"stretch","data-testid":"closeup-metadata-details-flex",direction:"column",flex:"grow",height:U?"100%":void 0,justifyContent:"start",children:[V?null:(0,M.jsxs)(ep.A,{"data-testid":"closeup-metadata-details",paddingLeft:V?void 0:U?0:r/2,paddingRight:V?void 0:r/2,children:[(0,M.jsx)(C.so,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,M.jsx)(C.az,{marginTop:U?void 0:2,width:"100%",children:(0,M.jsx)(ec,{instagramPostLink:(0,M.jsx)(eW.A,{nativeCreatorCloseupLinkEligible:!!K,peekCloseupEnabled:U,uriComponent:z}),isStoryPin:e,onUpdate:s,pinKey:{type:"Legacy",data:o}})})}),ea&&!V&&(0,M.jsx)(Y.A,{affiliateDisclosure:Z,hasAffiliateLink:ee,hasAffiliateProducts:el})]}),(0,M.jsx)(b.Fragment,{children:ex.map(e=>(0,M.jsxs)(b.Fragment,{children:[V&&(0,M.jsx)(C.az,{width:"100%",children:(0,M.jsx)(e7.A,{padding:"md",show:!0,surface:"closeup-metadata-details"})}),e]},`detailFragment-${e.key}`))}),(0,M.jsx)(C.az,{width:"100%",children:(0,M.jsx)(e7.A,{padding:ei&&en?"md":void 0,show:V&&ei&&en,surface:"closeup-metadata-details"})}),ei&&(0,M.jsx)(eD.A,{name:"CanonicalCard",children:(0,M.jsx)(ep.A,{paddingLeft:eh,paddingRight:ey,children:(0,M.jsx)(C.az,{marginBottom:ek,marginTop:ev,children:(0,M.jsx)(e4.A,{aggregatedPinId:o.aggregated_pin_data?.id,closeupAttributionId:o.closeup_attribution?.id,closeupAttributionUsername:o.closeup_attribution?.username,commentCount:o.aggregated_pin_data?.comment_count??0,commentsDisabled:o.comments_disabled,isLoadingNewCreatedComment:m,isORBACProfileManager:B,isShopTheLook:f,isVideo:!!o.videos?.video_list,onCommentSectionClick:n,orbacSubjectId:i,photoCount:o.aggregated_pin_data?.did_it_data?.images_count??0,pinId:o.id,pinKey:{type:"Legacy",data:o},pinnerId:o.pinner?.id,scrollContainerRef:y,shouldShowHeading:en,storyPinDataId:o.story_pin_data?.id,viewParameter:h})})})})]})})});function ln(e){return(0,b.useEffect)(()=>{(0,f.A)("MetadataDetails","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/MetadataDetails.tsx")},[]),(0,M.jsx)(li,{...e})}var ls=a(722460);function lr({maxHeight:e,pin:l,showShoppingModule:a,trafficSource:t,viewParameter:i}){(0,b.useEffect)(()=>{(0,f.A)("PeekVariantShoppingModule","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/PeekVariantShoppingModule.tsx")},[]);let n={height:"48px",padding:"80px 4px 16px 4px",pointerEvents:"none",transition:"opacity 0.1s ease-in-out",width:"100%",zIndex:1},[s,r]=(0,b.useState)(!1),[o,d]=(0,b.useState)(!0),u=(0,b.useRef)(null),c=()=>{let e=u.current;if(!e)return;let{scrollTop:l,scrollHeight:a,clientHeight:t}=e;r(0!==l),d(l+t!==a)};return(0,b.useEffect)(()=>{let e=u.current;if(e)return e.addEventListener("scroll",c),()=>{e.removeEventListener("scroll",c)}},[]),a&&(0,M.jsxs)(C.az,{ref:u,dangerouslySetInlineStyle:{__style:{borderLeft:eS.OU}},"data-test-id":"peek-variant-shopping-module-container",height:"auto",maxHeight:e,overflow:"scrollY",children:[(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{...n,background:"linear-gradient(0deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:+!!s}},"data-test-id":"peek-variant-top-gradient",position:"absolute",top:!0}),(0,M.jsx)(ls.A,{moduleWidth:eS.aP,pinKey:{type:"Legacy",data:l},trafficSource:t,viewParameter:i}),(0,M.jsx)(C.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{...n,background:"linear-gradient(180deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:+!!o}},position:"absolute"})]})}var lo=a(168079),ld=a(584342);let lu=ld.Ku+16,lc=`calc(100vh - ${lu}px)`;function lp(e=100){let[l,a]=(0,b.useState)(lc),t=(0,b.useRef)(null),i=`calc(${e??"100"}vh - ${lu}px)`;return(0,lo.A)(()=>{if(!window)return;let l=window.innerHeight-lu,n=t.current?.clientHeight||0;n>l*(e??100)/100&&(i=n.toString()),a(l>n?i:n)}),{descriptionContentMaxHeight:l,visualContentContainerRef:t}}function lg(){let[e,l]=(0,b.useState)(""),a=(0,b.useRef)(null),t=(0,b.useRef)(null),i=(0,b.useRef)(null),n=(0,b.useRef)(null);return(0,b.useEffect)(()=>{let l=()=>{e&&a.current&&a.current.handleEgSurveyClick(e)};return window.addEventListener("focus",l),()=>window.removeEventListener("focus",l)},[e]),{clickthroughComponentForSurvey:e,setClickthroughComponentForSurvey:l,webLinkSurveyRef:a,imageContainerRef:t,legoLinkClickthroughAnchorRef:i,maybeLinkRef:n}}var lm=a(228044);let lh=({children:e})=>((0,b.useEffect)(()=>{(0,f.A)("ImagePadding","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/VisualContent/ImagePadding.tsx")},[]),(0,M.jsx)(C.az,{display:"flex",height:"100%",justifyContent:"center",padding:5,width:"100%",children:e}));var ly=a(753771),l_=a(687435);let lv=({embedUrl:e,isWideVideo:l,paddingBottom:a="50%",shouldPadImage:t})=>{(0,b.useEffect)(()=>{(0,f.A)("EmbeddedVideoContent","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/VisualContent/EmbeddedVideoContent/EmbeddedVideoContent.tsx")},[]);let i=(0,O.A)(),n=(0,eU._8)(),s=l?eQ.M1:eQ.qr,{showCloseupContentRight:r,closeupWithinMasonryEnabled:o,viewportSize:d}=(0,J._G)(),u=e?.replace("http://","https://");u&&u.startsWith("https://www.youtube.com/embed/")&&(u=u.replace("https://www.youtube.com/embed/","https://www.youtube-nocookie.com/embed/"));let c=(0,M.jsx)("div",{style:{height:0,overflow:"hidden",position:"relative",width:"100%",paddingBottom:a,...(0,l_.A)({isSideBySide:!l,isPadded:t,isRTL:n.isRTL,closeupWithinMasonryEnabled:o})?.borderStyle},children:(0,M.jsx)("iframe",{allowFullScreen:!0,id:ly.A.VIDEO_IFRAME_ID,src:u,style:{border:0,height:"100%",left:0,position:"absolute",top:0,width:"100%"},title:i._('Embedded content', 'Accessible content for the embedded content iframe', 'Accessible content for the embedded content iframe')})}),p=r&&"lg"===d?(0,M.jsx)(C.az,{marginBottom:6,marginEnd:l||t?0:6,width:s,children:c}):c;return t?(0,M.jsx)(lh,{children:p}):p};var lk=a(390985),lf=a(537070);a(224989);var lb=a(586936),lx=a(743372);let lS=(void 0!==d||(d=a(528217)).hash&&"c84e7534f0992d53c815b4ab599ad3eb"!==d.hash&&console.error("The definition of 'CarouselVideoItem_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),lP=({contextLogData:e,height:l,isFocused:a,videoList:t,onFocus:i,onUnfocus:n,pinId:s,pinKey:r,width:o})=>{(0,b.useEffect)(()=>{(0,f.A)("CarouselVideoItem","/app/common/react/components/common/Carousel/CarouselItem/CarouselVideoItem.tsx")},[]);let d=(0,lx.A)(),u=(0,K.A)(lS,r),{V_720P:c,V_HLSV4:p,V_HLSV3_MOBILE:g}=t,{height:m=1,width:h=1,thumbnail:y}=c||p||g||{},_=h/m,v="100%";_<1&&"number"==typeof l&&"number"==typeof o&&(v=`${Math.min(l*_,o)}px`),(0,b.useEffect)(()=>{a&&i?i():n&&n()},[a,i,n]),(0,b.useEffect)(()=>{a&&d({component:e.component,event_type:13,object_id_str:e.objectId,view_parameter:e.viewParameter,view_type:e.view})},[a,e,d]);let k=(0,b.useCallback)(()=>{d({component:e.component,event_type:3621,object_id_str:e.objectId,view_parameter:e.viewParameter,view_type:e.view})},[e,d]);return(0,M.jsx)(C.so,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,M.jsx)(C.az,{"data-testid":"carousel-video-item",height:"100%",width:v,children:(0,M.jsx)(lb.A,{autoplay:a,contextLogData:e,customThumbnail:y,disabled:!a,loop:!0,muted:!1,objectFit:"contain",onPlay:k,pinId:s,pinKey:u,preferMp4:!0,showControls:"hover",variant:"default",video:{mp4:c,hls:p,hlsv3:g}})})})};var lw=a(470820),lA=a(284387),lC=a(205392),lF=a(796315);let lI=(void 0!==u||(u=a(380112)).hash&&"83e61e6fc89222c2a0b03276839f44a5"!==u.hash&&console.error("The definition of 'CloseupCarousel_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u);function lT({borderStyle:e,displayHeight:l,displayWidth:a,pinKey:t}){(0,b.useEffect)(()=>{(0,f.A)("CloseupCarousel","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupCarousel/CloseupCarousel.tsx")},[]);let{logContextEvent:i}=(0,eR.o)(),{closeupWithinMasonryEnabled:n,isCloseupMediaViewerOpen:s,showProductDetailPage:r}=(0,J._G)(),{carouselInfo:o,mainImage:d}=(0,B.M)(),{carouselData:u,handleCarouselSwipe:c}=o||{},{index:p=0}=u||{},{height:g,width:m}=d,h=(0,K.A)(lI,t),y=(0,T.A)({showProductDetailPage:!!h.isEligibleForPdp}),{entityId:_}=h,v=(0,b.useRef)(null),k=(0,j.A)(h),x=h.isEligibleForPdp?k():void 0,S=h.isEligibleForPdp?144:void 0,P=h.isEligibleForPdp?3:void 0,w=(0,b.useCallback)(e=>{e>=1&&(0,lC.Uy)("image")},[]),A=(0,b.useMemo)(()=>({viewParameter:r?144:156,view:3,component:r?14012:179,objectId:_}),[_,r]);(0,b.useEffect)(()=>{u?.carousel_slots?.find(e=>e.videos?.video_list)&&i({event_type:120,view_type:A.view,view_parameter:A.viewParameter,component:A.component,object_id_str:A.objectId})},[i,u?.carousel_slots,A]);let F=(0,b.useCallback)((t,i,n,r,o)=>{let d,u;return t.videos?.video_list?(d=(0,M.jsx)(lP,{contextLogData:A,height:l,isFocused:n,onFocus:r,onUnfocus:o,pinId:_,pinKey:h,videoList:t.videos.video_list,width:a}),u=t.videos.id):(d=(0,M.jsx)(lf.A,{_enableViewTransitions:!0,borderStyle:e,suppressViewTransitionTags:s||i!==p,type:"image",children:(0,M.jsx)(lF.A,{fit:"cover",onLoad:()=>w(i),slot:t,slotIndex:i})}),u=t.image_signature),(0,M.jsx)(C.az,{height:"100%",width:"100%",children:d},`${_}-${u||i}`)},[e,p,s,_,A,l,h,a,w]);return(0,M.jsxs)(C.az,{ref:v,dangerouslySetInlineStyle:{__style:{aspectRatio:n?(0,lk.ru)(m,g):void 0,contain:"strict",justifySelf:"center"}},height:"100%",overflow:n?"hidden":void 0,rounding:n&&!y?400:void 0,width:n?void 0:"100%",children:[(0,M.jsx)(lw.A,{carouselData:{...u,type:"canonical"},contextLogData:x,height:l,id:_,impressionType:"Pin",index:p,slideWidth:a,view:P??3,viewParameter:S??156}),(0,M.jsx)(lA.A,{itemHeight:l,items:u?.carousel_slots||[],itemWidth:a,mode:"single",onIndexChange:({nextIndex:e})=>c?.(e),renderItem:({item:e,index:l,isFocused:a,onFocus:t,onUnfocus:i})=>F(e,l,a,t,i),selectedIndex:p,showNavigationButtons:!0,showScrollMarkers:!h.isEligibleForPdp})]})}var lK=a(669456),lL=a(944889);let lj=(0,b.memo)(function({borderStyle:e,dominantColor:l,imageWithPreview:a,fit:t,sizes:i,srcSet:n}){let{closeupWithinMasonryEnabled:s,isCloseupMediaViewerOpen:r,showProductDetailPage:o}=(0,J._G)(),{fiftyPercentWidth:d}=(0,eS.Vc)(),u=(0,T.A)({showProductDetailPage:o}),c=(0,lK.J)(),p="closeup-image-main",g=""!==a.mainImage.src?(0,M.jsx)(C.az,{"data-test-id":p,height:"100%",width:"100%",children:(0,M.jsx)(lL.A,{_enableViewTransitions:!0,_fixCompletedOnLoad:!0,alt:a.mainImage.alt,borderStyle:u?void 0:e,color:l,elementTiming:`${p}-MainPinImage`,fetchPriority:"high",fit:t,naturalHeight:a.naturalHeight,naturalWidth:a.naturalWidth,onLoad:()=>{(0,lC.Uy)("image")},sizes:i,src:a.mainImage.src,srcSet:n,suppressViewTransitionTags:r})}):null;return(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{aspectRatio:s?(0,lk.ru)(a.naturalWidth,a.naturalHeight):void 0,contain:"strict",justifySelf:s?"center":void 0}},height:"100%",maxWidth:d,overflow:s?"hidden":void 0,rounding:u?void 0:600,width:s?void 0:"100%",children:!c&&a.previewImage?.src?(0,M.jsx)(C._V,{alt:a.previewImage?.alt??"",color:l,fetchPriority:"high",fit:t,naturalHeight:a.naturalHeight,naturalWidth:a.naturalWidth,role:"img",src:a.previewImage.src,children:g}):g})}),lM=e=>((0,b.useEffect)(()=>{(0,f.A)("AuthDesktopWebCloseupImage","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupImage/AuthDesktopWebCloseupImage.tsx")},[]),(0,M.jsx)(lj,{...e}));var lR=a(594459),lz=a(301686),lD=a(725068),lE=a(620648),lB=a(908838),lV=a(949613),lO=a(941675),lU=a(296221),lN=a(693154),lW=a(854651),lH=a(726141),lG=a(802527),l$=a(745170),lQ=a(950760);let lX=(0,eZ.A)(()=>Promise.all([a.e("92989"),a.e("2197"),a.e("2046"),a.e("62155"),a.e("83578"),a.e("17782"),a.e("94573")]).then(a.bind(a,664772)),void 0,e=>664772,"app-common-react-components-auth-desktop-web-closeup-CloseupShuffle-CloseupShuffle",e=>["92989","2197","2046","62155","83578","17782","94573"]),lq=(0,b.memo)(({borderStyle:e,closeupWithinMasonryEnabled:l,imageWithPreview:a,peekRedesignFastFollowsEnabled:t,sizes:i,srcSet:n})=>(0,M.jsx)(lQ.A,{metricName:"CloseupImage",children:(0,M.jsx)(lV.A,{id:"CloseupImage",children:(0,M.jsx)(lM,{borderStyle:e,dominantColor:eS.lr,fit:t||l?void 0:"contain",imageWithPreview:a,sizes:i,srcSet:n})})}));function lJ({onImageClick:e,isHovered:l,mediaViewerExpandButtonRef:a,pin:t,shouldPadImage:i,trafficSource:n,viewParameter:s,isORBACProfileManager:r,handleMediaButtonClick:o}){let d,u;(0,b.useEffect)(()=>{(0,f.A)("CloseupImageContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupImage/CloseupImageContainer.tsx")},[]);let c=(0,O.A)(),{originalImageUrl:p,imageSignature:g,link:m,isScenePin:h,disablePinTagButton:y,showProductDetailPage:_,maxCloseupImageWidth:v,imageWithPreview:k}=(0,lD.A)({pinKey:{type:"Legacy",data:t}}),x=(0,lN.A)(),S=(0,lG.A)(),{mainImage:P,carouselInfo:w,srcSet:A,srcSizes:F}=(0,B.M)(),{peekRedesignFastFollowsEnabled:I}=(0,eI.A)(P),K=(0,b.useRef)(null),{domain:L,shuffle:R}=t,z=!!w?.carouselData,{naturalWidth:D,naturalHeight:E}=k,{closeupWithinMasonryEnabled:V,clientTrackingParams:U,showCloseupContentRight:N,viewportSize:W,setCalculatedImageHeight:H}=(0,J._G)(),G=(0,T.A)({showProductDetailPage:!!t.is_eligible_for_pdp}),{isRTL:$}=(0,eU._8)();(0,b.useEffect)(()=>{K.current&&H&&H(K.current.clientHeight)},[K,H]);let Q=(0,b.useMemo)(()=>k,[k]),{borderStyle:X}=(0,b.useMemo)(()=>(0,l_.A)({isSideBySide:N,isPadded:i,isRTL:$,closeupWithinMasonryEnabled:V,blendedUIEnabled:G}),[N,i,$,V,G]),{containerHeight:q,containerWidth:Y,horizontalOffset:Z,verticalOffset:ee}=(0,lk.Ay)({carouselData:w?.carouselData,mainImage:P,maxCloseupImageWidth:v,shouldPadImage:i,pinKey:{type:"Legacy",data:t}}),[el,ea]=(0,b.useState)({width:Y,height:q}),et=(0,b.useCallback)(()=>{let e=Y>q?q/Y:1,l=K.current;if(!l)return;let a=l.offsetWidth*e;ea(e=>{let t={height:l.offsetHeight||a,width:l.offsetWidth};return e.height!==t.height||e.width!==t.width?t:e})},[q,Y]);(0,l$.A)(et,K);let ei=!!R,en=(0,lO.A)({isHiddenPin:t.is_hidden,isUnsafePin:t.is_unsafe}),{currentDomain:es}=(0,ey.A)({carouselData:t.carousel_data&&{carouselSlots:t.carousel_data.carousel_slots&&t.carousel_data.carousel_slots.map(e=>({domain:e.domain,link:e.link})),index:t.carousel_data?.index},domain:t.domain}),er=es||L,eo={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0};if(w&&w.carouselData&&w.carouselData.id){let{carousel_slots:e=[],id:l,index:a=0}=w.carouselData;d=e[a]&&e[a].link,eo.carousel_slot_id=e[a]&&e[a].id,eo.carousel_data_id=l,eo.carousel_slot_index=a,er=e[a]&&e[a].domain||er}let ed=(0,j.A)({type:"Legacy",data:t})();ed&&(eo.commerce_data=ed.commerce_data);let eu=d||m||p||"",ec=(0,M.jsx)(lq,{borderStyle:X,closeupWithinMasonryEnabled:V,imageWithPreview:Q,peekRedesignFastFollowsEnabled:I,sizes:F,srcSet:A}),ep=ec;z&&(ep=(0,M.jsx)(lT,{borderStyle:X,displayHeight:el?.height,displayWidth:el?.width,pinKey:{type:"Legacy",data:t}})),ei&&(ep=(0,M.jsx)(lX,{clientTrackingParams:U,naturalHeight:E,naturalWidth:D,pinId:t.id,shuffleId:R?.id,children:(0,M.jsx)(C.az,{children:ec})}));let{maxHeight:eg,fiftyPercentWidth:em,fiftyPercentHeight:eh}=(0,eS.Vc)(),{maxHeight:e_}=(0,lB.A)({pinKey:{type:"Legacy",data:t}}),{maxHeight:ev}=(0,lE.A)({showProductDetailPage:!!t.is_eligible_for_pdp,mainImage:P,skipAspectRatioCheck:z}),{showCloseupShopDomainLinkButton:ek,showCollageEntryButton:ef,showDebugSignalsFeedbackButton:eb,showDomainLink:ex,showDomainLinkButton:eP,showFlashlightButton:ew,showPinTagButton:eA}=(0,lz.A)({carouselInfo:w,disablePinTagButton:y,domain:er||"",hasMetTrustAndSafetyCheck:en,isShuffle:ei,isEmployee:x.isAuth&&!!x.isEmployee,isORBACProfileManager:r,isScenePin:h,navLink:eu,pinKey:{type:"Legacy",data:t},showProductDetailPage:_});return G?u=ev:V?u=e_:I||(u="sm"===W?eh:eg),(0,M.jsxs)(C.az,{ref:K,alignItems:"stretch",alignSelf:V?"center":void 0,dangerouslySetInlineStyle:{__style:{aspectRatio:(0,lk.ru)(D,E),backgroundColor:V?void 0:eS.lr}},"data-test-id":"closeup-body-image-container",display:"flex",height:V?"100%":q,maxHeight:u,maxWidth:em,position:"relative",width:V?"100%":Y,children:[(0,M.jsxs)(C.az,{"aria-label":z?c._('Carousel of Pins', 'CloseupImageContainer.section.ariaLabel', 'Accessibility label that helps define where the carousel starts or ends.'):void 0,as:z?"section":void 0,dangerouslySetInlineStyle:{__style:{...X,display:V?"grid":"block"}},"data-test-id":"closeup-image",height:"auto",id:`closeup-image-container-${t.id}`,overflow:"hidden",width:"100%",children:[ep,S?(0,M.jsx)(lH.A,{auxData:eo,carouselInfo:w,containerWidth:el?.width,domain:er??L??"",handleMediaButtonClick:o,horizontalOffset:Z,imageSignature:g,isHovered:l,link:eu,maxCloseupImageWidth:v,mediaViewerExpandButtonRef:a,onImageClick:e,pin:t,shouldPadImage:i,showCloseupShopDomainLinkButton:ek,showCollageEntryButton:ef,showDebugSignalsFeedbackButton:eb,showDomainLink:ex,showDomainLinkButton:eP,showFlashlightButton:ew,showPinTagButton:eA,trafficSource:n,variant:"authDesktop",verticalOffset:ee,viewParameter:s}):(0,M.jsx)(lR.default,{auxData:eo,carouselInfo:w,containerWidth:el?.width,domain:er??L??"",handleMediaButtonClick:o,horizontalOffset:Z,imageSignature:g,isHovered:l,link:eu,maxCloseupImageWidth:v,mediaViewerExpandButtonRef:a,onImageClick:e,pin:t,shouldPadImage:i,showCloseupShopDomainLinkButton:ek,showCollageEntryButton:ef,showDebugSignalsFeedbackButton:eb,showDomainLink:ex,showDomainLinkButton:eP,showFlashlightButton:ew,showPinTagButton:eA,trafficSource:n,verticalOffset:ee,viewParameter:s})]}),a&&(0,M.jsx)(C.Wd,{zIndex:lW.RG,children:(0,M.jsx)(lU.En,{anchor:a.current,experienceIds:[506692],flyoutSize:"md",idealDirection:"up",placementId:12,showCaret:!0,textWeight:"normal"})})]})}var lY=a(802209);let lZ=[lY.Nc.COMMENT_REPLY_STICKER,lY.Nc.GENERIC_STICKER,lY.Nc.HEADING,lY.Nc.IMAGE,lY.Nc.MENTION_STICKER,lY.Nc.PARAGRAPH,lY.Nc.PRODUCT_STICKER,lY.Nc.VIDEO,lY.Nc.VTO_MAKEUP_STICKER],l0=e=>{if("object"!=typeof e||null===e)return!1;let l=e.image?.images;return!!l&&Object.keys(l).length>0};function l1({storyPinBlocks:e=[],blocksToRender:l=lZ}){let a=[],t=[],i=[];return e.forEach(e=>{null!=e.type&&l.includes(String(e.type))||l0(e)?e.type===lY.Nc.PARAGRAPH||e.type===lY.Nc.HEADING?t.push(e):i.push(e):a.push(e)}),i.push(...t),{nonRenderableBlocks:a,textBlocks:t,blocks:i}}var l3=a(323510),l2=a(673382),l5=a(149195),l6=a(461754);a(696721);var l4=a(877357);let l8=(e,l)=>e?13799:0===l?227:228;var l7=a(436344),l9=a(746987),ae=a(319571);function al({activePageIndex:e,clientTrackingParams:l,closeupStoryPinViewability:a,customEndCard:t,fontsLoaded:i,horizontalOffset:n,isActive:s,isPreview:r,loop:o,muteVideos:d,onEnded:u,onFlyoutOpen:c,onUpdateVideoInfo:p,ownerId:g,page:m,pageAspectRatio:h,pageHeight:y,pageIndex:_,pageWidth:v,pin:k,pinId:x,productPins:S,shouldLogTimeSpent:P=!0,stillLoading:w=!1,verticalOffset:A,videoPinProgress:F,viewParameter:I,viewType:T}){(0,b.useEffect)(()=>{(0,f.A)("StoryPinPage","/app/common/react/components/auth-desktop-web-closeup/StoryPin/renderer/StoryPinPage.tsx")},[]);let{nonRenderableBlocks:K,blocks:L}=l1({storyPinBlocks:m?.blocks??[]}),j=!!L.find(e=>e.type===lY.Nc.VIDEO),R=!!L.find(e=>!!e.video&&e.type===lY.Nc.VIDEO&&e.video_signature),z=K.find(e=>e.type===lY.Nc.MUSIC),D=z?.type==="story_pin_music_block"?z.provider_recording_id:void 0,E=()=>(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{background:eS.lr}},height:"100%",children:!r&&L.filter(e=>!j||R||e.type===lY.Nc.VIDEO).map((l,r)=>{let f=(S||[]).find(e=>[e.id,e.cacheable_id].includes(l.pin_id));return(0,M.jsx)(l9.A,{activePageIndex:e,block:l,closeupStoryPinViewability:a,customEndCard:t,disableProductStickers:!0,fontsLoaded:i,horizontalOffset:n,isActive:s,isSplitLayout:m?.layout===3,loop:o,musicRecordingId:D,muteVideos:d,onEnded:u,onFlyoutOpen:c,onUpdateVideoInfo:p,ownerId:g,pageAspectRatio:h,pageHeight:y,pageIndex:_,pageWidth:v,pin:k,pinId:x,pinKey:null!=f?{type:"Legacy",data:f}:null,stillLoading:w,verticalOffset:A,videoPinProgress:F},`${m?.id??""}-${l.type??""}-${r}`)})});return P?(0,M.jsx)(ae.A,{auxData:{story_pin_page_id:_},clientTrackingParams:l,component:0===_?227:228,shouldUseGrandparentId:!0,view:T,viewParameter:I,children:E()}):E()}var aa=a(125025),at=a(31913),ai=a(143064);function an({height:e,isDenseView:l,rounding:a,width:t,color:i}){(0,b.useEffect)(()=>{(0,f.A)("UnavailableIdeaPin","/app/packages/story-pin/Closeup/UnavailableIdeaPin.tsx")},[]);let n=(0,O.A)();return(0,M.jsx)(C.az,{alignItems:"center",color:i||"default","data-test-id":"unavailable-pin",display:"flex",height:e,justifyContent:"center",overflow:"hidden",position:"relative",rounding:a,width:t,children:(0,M.jsxs)(C.so,{alignItems:"center",direction:"column",children:[(0,M.jsx)(C.az,{paddingY:l?2:4,children:(0,M.jsx)(C.In,{accessibilityLabel:n._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"circle-exclamation-point",size:20})}),(0,M.jsx)(C.KJ,{weight:"bold",children:n._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!l&&(0,M.jsx)(C.az,{paddingY:1,children:(0,M.jsx)(C.KJ,{children:n._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}var as=a(324751),ar=a(577699);let ao=["pin.access","pin.ad_data","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.collection_pin()","pin.created_at","pin.description","pin.description_html","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_signature","pin.images[136x136,236x,474x,736x,orig]","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.link","pin.link_utm_applicable_and_replaced","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoter()","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.product_metadata()","product_metadata.shopping_flags","pin.sponsorship","pin.title","pin.tracking_params","pin.type","pin.utm_link","pin.videos()","pin.view_tags","video.id","video.video_list[V_HLSV4,V_720P,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]","domain.official_user()","pin.cacheable_id","pin.grid_title","pin.image_square_url","pin.is_eligible_for_pdp","pin.link_domain()","pin.rich_summary()"];var ad=a(775997);let au={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",paddingTop:"30px",top:0};function ac({onImageClick:e,isHovered:l,pin:a,shouldPadImage:t,trafficSource:i,viewParameter:n,isORBACProfileManager:s,handleMediaButtonClick:r}){let o;(0,b.useEffect)(()=>{(0,f.A)("SIIPMediaContainer","/app/common/react/components/auth-desktop-web-closeup/StaticImageIdeaPin/SIIPMediaContainer.tsx")},[]);let{originalImageUrl:d,imageSignature:u,link:c,isScenePin:p,disablePinTagButton:g,maxCloseupImageWidth:m,imageWithPreview:h}=(0,lD.A)({pinKey:{type:"Legacy",data:a}}),y=(0,lN.A)(),_=(0,lG.A)(),{closeupWithinMasonryEnabled:v,peekCloseupEnabled:k,viewportSize:x,clientTrackingParams:S,showCloseupContentRight:P}=(0,J._G)(),{isRTL:w}=(0,eU._8)(),A=(0,b.useRef)(null),{maxHeight:F,fiftyPercentHeight:I,fiftyPercentWidth:K}=(0,eS.Vc)(),{maxHeight:L}=(0,lB.A)({pinKey:{type:"Legacy",data:a}}),[R,z]=(0,b.useState)(!1),{mainImage:D,srcSizes:E,srcSet:V}=(0,B.M)(),O=(0,T.A)({showProductDetailPage:!!a.is_eligible_for_pdp}),{maxHeight:U}=(0,lE.A)({showProductDetailPage:!!a.is_eligible_for_pdp,mainImage:D}),{group:N}=(0,aa.A)(),W="enabled_idea_pin"===N,{borderStyle:H}=(0,l_.A)({isSideBySide:P,isPadded:t,isRTL:w,closeupWithinMasonryEnabled:v,blendedUIEnabled:O}),G=(0,lO.A)({isHiddenPin:a.is_hidden,isUnsafePin:a.is_unsafe}),{domain:$="",id:Q,story_pin_data:X}=a,q={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0},Y=(0,j.A)({type:"Legacy",data:a})();Y&&(q.commerce_data=Y.commerce_data);let Z=c||d||"",{data:ee=[]}=(0,at.A)({url:"/v3/storypins/{pin}/products/",params:{pin:a.id,fields:ao},noCache:!0}),{pages:el=[]}=X||{},ea=[5,6,2],et=el.filter(e=>{let l=e?.layout;return void 0!==l&&!ea.includes(l)||(e?.blocks??[]).some(e=>l0(e))}),{activePageIndex:ei,captions:en,currentPage:es,handleMute:er,handlePageChange:eo,handlePause:ed,handlePausePlay:eu,handlePlay:ec,handleUpdateVideoInfo:ep,handleVideoEnd:eg,handleVideoScrubbingNewPage:em,handleWatchAgain:eh,isActive:ey,isSeeking:ev,mute:ek,progressInfo:ef,showEndCard:eb}=function({pages:e,viewType:l,viewParameter:a,pinId:t}){let{clearSeekTime:i}=(0,l5.d1)(),{setIdeaPinActivePage:n}=(0,l4.jD)(),[s,r]=(0,b.useState)(0),[o,d]=(0,b.useState)(!0),[u,c]=(0,b.useState)(!0),[p,g]=(0,b.useState)(!1),[m,h]=(0,b.useState)(null),y=(0,lx.A)(),_=e[s],v=(0,l2.d)(),k=(0,l3.Y)(),f=(0,b.useRef)(null),{blocks:[x]=[null]}=l1({storyPinBlocks:_?.blocks||[],blocksToRender:[lY.Nc.VIDEO]}),{seekTimes:S}=(0,l5.S_)(),P=S&&S[t],w=x?.type===lY.Nc.VIDEO&&x?.video,A=(0,eU._8)().locale.toLowerCase(),C=w&&(w?.video_list?.V_720P?.captions_urls||w?.video_list?.V_HLSV3_MOBILE?.captions_urls)||{},F=A&&C[A]||Object.values(C)[0]||"",I=(0,b.useCallback)(t=>{(0,lC.Qj)("startNewPwt"),k&&k.abort("startNewPwt"),v&&(v.abort("startNewPwt"),v.start(),v.addBinaryAnnotation("page.current.index",t,"I16"),v.addBinaryAnnotation("page.count",e.length,"I16"),v.addBinaryAnnotation("view.type",l,"I32"),v.addBinaryAnnotation("view.parameter",a,"I32"))},[e.length,k,v,a,l]),T=(0,b.useCallback)(e=>{e&&e instanceof l6.M4&&(e.clear(),e=null)},[]),K=(0,b.useCallback)(l=>{T(f.current),!w&&e.length>1&&(f.current=new l6.M4(e=>{h({currentTime:e<1?e:1,duration:1})},()=>{l<e.length-1?(T(f.current),j(l+1)):(g(!0),d(!1))},e_.L9))},[e]),L=(0,b.useCallback)(e=>{h({currentTime:0,duration:1}),K(e)},[K]);(0,lo.A)(()=>(k&&(k.addBinaryAnnotation("page.current.index",s,"I16"),k.addBinaryAnnotation("page.count",e.length,"I16"),k.addBinaryAnnotation("view.type",l,"I32"),k.addBinaryAnnotation("view.parameter",a,"I32")),(0,lC.tL)("page.current.index",s,"I16"),(0,lC.tL)("page.count",e.length,"I16"),(0,lC.tL)("view.type",l,"I32"),(0,lC.tL)("view.parameter",a,"I32"),L(s),()=>{f.current&&f.current instanceof l6.M4&&f.current.clear()}));let j=(0,b.useCallback)(e=>{o||d(!0),p&&g(!1),L(e),e!==s&&i(),r(e),n(e),I(e)},[s,i,L,o,n,p,I]);(0,b.useEffect)(()=>{if(p&&g(!1),f.current&&P){let e=f.current;e.pause(),e.remaining=e_.L9-1e3*P,h({currentTime:P/e_.je,duration:1})}},[P]);let M=()=>{d(!1),f.current&&f.current.pause(),y({event_type:9324,view_type:l,view_parameter:a,component:l8(p,s),object_id_str:t,aux_data:{story_pin_page_id:s}})},R=()=>{if(d(!0),f.current){let e=f.current;P&&P>0&&i(),e.resume()}else m||L(s);g(!1),y({event_type:9323,view_type:l,view_parameter:a,component:l8(p,s),object_id_str:t,aux_data:{story_pin_page_id:s}})},z=1===e.length;return{activePageIndex:s,captions:F,currentPage:_,handleMute:()=>{c(e=>!e)},handlePageChange:j,handlePause:M,handlePausePlay:()=>{p||(o?M():R())},handlePlay:R,handleUpdateVideoInfo:e=>{h({currentTime:e?.currentTime??0,duration:e?.duration??1})},handleVideoEnd:i=>{if(!z){if(i===e.length-1)return void j(0);i===s&&s<e.length-1&&(j(s+1),y({event_type:101,view_type:l,view_parameter:a,component:l8(p,s),element:12261,object_id_str:t}))}},handleVideoScrubbingNewPage:e=>{p&&g(!1),L(e),r(e),n(e),I(e)},handleWatchAgain:()=>{j(0)},isActive:o,isSeeking:!!P,mute:u,progressInfo:m,setMute:c,showEndCard:p}}({pages:et,viewType:3,viewParameter:n,pinId:Q}),{blocks:[ex]=[null]}=l1({storyPinBlocks:es?.blocks||[],blocksToRender:[lY.Nc.IMAGE,lY.Nc.VIDEO]}),eP=ex?.type===lY.Nc.VIDEO,ew=eP||et.length>1,{fontsLoaded:eA,mediaDataReceived:eC}=(0,ar.Gl)({hasPin:!!a,pages:el}),{showCloseupShopDomainLinkButton:eF,showCollageEntryButton:eI,showDebugSignalsFeedbackButton:eT,showDomainLink:eK,showDomainLinkButton:eL,showFlashlightButton:ej,showPinTagButton:eM}=(0,lz.A)({disablePinTagButton:g,domain:$,hasMetTrustAndSafetyCheck:G,isEmployee:y.isAuth&&!!y.isEmployee,isScenePin:p,navLink:Z,pinKey:{type:"Legacy",data:a},isORBACProfileManager:s}),{containerHeight:eR,containerWidth:ez,horizontalOffset:eE,letterBoxAspectRatio:eB,letterBoxedHeight:eV,letterBoxedWidth:eO,verticalOffset:eW}=(0,lk.Ay)({mainImage:D,maxCloseupImageWidth:m,pinKey:{type:"Legacy",data:a}}),{height:eH,width:eG}=D;if(a.story_pin_data?.is_deleted)return(0,M.jsx)(an,{color:"secondary",height:640,rounding:400,width:508});let e$=!!h?.mainImage?.src||!!h?.previewImage?.src,eQ=ex?.type===lY.Nc.IMAGE&&e$;v?o=L:k&&(o="sm"===x?I:F);let eX=v||O;return(0,M.jsx)(C.az,{alignSelf:eX?"center":void 0,dangerouslySetInlineStyle:{__style:{...H,aspectRatio:v?(0,lk.ru)(eG,eH):void 0,background:O?"black":eS.lr}},"data-test-id":"closeup-body-image-container",height:eX?"100%":eR,maxHeight:O?U:o,maxWidth:K,onMouseEnter:()=>{ew&&z(!0)},onMouseLeave:()=>{z(!1)},position:"relative",width:eX?"100%":ez,children:es||W?(0,M.jsxs)(b.Fragment,{children:[!ew&&(_?(0,M.jsx)(lH.A,{auxData:q,containerWidth:ez,domain:$,handleMediaButtonClick:r,imageSignature:u,isHovered:l,link:Z,maxCloseupImageWidth:m,mediaViewerExpandButtonRef:A,onImageClick:e,pin:a,shouldPadImage:t,showCloseupShopDomainLinkButton:eF,showCollageEntryButton:eI,showDebugSignalsFeedbackButton:eT,showDomainLink:eK,showDomainLinkButton:eL,showFlashlightButton:ej&&eC,showPinTagButton:eM,trafficSource:i,variant:"authDesktop",viewParameter:n}):(0,M.jsx)(lR.default,{auxData:q,containerWidth:ez,domain:$,handleMediaButtonClick:r,imageSignature:u,isHovered:l,link:Z,maxCloseupImageWidth:m,mediaViewerExpandButtonRef:A,onImageClick:e,pin:a,shouldPadImage:t,showCloseupShopDomainLinkButton:eF,showCollageEntryButton:eI,showDebugSignalsFeedbackButton:eT,showDomainLink:eK,showDomainLinkButton:eL,showFlashlightButton:ej&&eC,showPinTagButton:eM,trafficSource:i,viewParameter:n})),(R||!ey)&&(0,M.jsxs)(C.az,{children:[(0,M.jsx)(C.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{...ad.$r,flexDirection:"column-reverse"}},display:"flex",height:128,paddingX:6,position:"absolute",width:"100%",zIndex:lY.xx,children:(0,M.jsx)(as.A,{activePageIndex:ei,captionsUrl:en,handleMute:er,handlePause:ed,handlePausePlay:eu,handlePlay:ec,handleVideoScrubbingNewPage:em,handleWatchAgain:eh,inMilliseconds:!0,isMuted:ek,isPanelOpen:!0,isPlaying:ey,isStoryPin:!0,onPageSelect:e=>eo(e),pinKey:{type:"Legacy",data:a},progressInfo:ef,showEndCard:eb,showVideoControls:!0,viewParameter:156})}),(0,M.jsx)(C.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...au}},"data-test-id":"music-attribution",display:"flex",justifyContent:"center",overflow:"hidden",paddingY:5,position:"absolute",width:"100%",zIndex:lY.xx,children:(0,M.jsx)(lm.A,{handlePause:ed,handlePlay:ec,musicAttributions:es?.music_attributions,shouldMute:es?.should_mute,showEndCard:eb})})]}),W&&eQ?(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{display:"grid",height:"100%",left:"0%",top:"0%",width:"100%"}},"data-test-id":"story-pin-image-block",overflow:"hidden",position:"absolute",children:(0,M.jsx)(lM,{borderStyle:H,dominantColor:eS.lr,imageWithPreview:h,sizes:E,srcSet:V})}):(0,M.jsxs)(C.Rp,{disabled:!R||eb,fullHeight:!0,onTap:eu,children:[(0,M.jsx)(al,{activePageIndex:ei,clientTrackingParams:S,customEndCard:!0,fontsLoaded:eA,horizontalOffset:eE,isActive:ey,loop:!0,muteVideos:ek,onEnded:eg,onUpdateVideoInfo:ep,ownerId:a.native_creator?.id??"",page:es,pageAspectRatio:eB,pageHeight:eV,pageIndex:ei,pageWidth:eO,pin:a,pinId:Q,productPins:ee,shouldLogTimeSpent:!0,stillLoading:!eC,verticalOffset:eW,videoPinProgress:ef,viewParameter:n,viewType:3}),!eb&&!ev&&et.length>1&&!eP&&(0,M.jsx)(ai.A,{playing:ey})]}),eb&&a.native_creator&&(0,M.jsx)(eD.A,{name:"SIIPMediaContainer_VideoEndCard",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(C.az,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:lY.ZD,children:(0,M.jsx)(l7.default,{clientTrackingParams:a.trackingParams||a.tracking_params,pinKey:{type:"Legacy",data:a},rounded:!1,watchAgain:eh})})})})]}):es?null:(0,M.jsx)(lM,{dominantColor:eS.lr,fit:"contain",imageWithPreview:h})})}let ap=e=>{(0,b.useEffect)(()=>{(0,f.A)("ImageContent","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/VisualContent/ImageContent.tsx")},[]);let{isHovered:l,onImageClick:a,pin:t,shouldPadImage:i,trafficSource:n,viewParameter:s,isORBACProfileManager:r,handleMediaButtonClick:o,mediaViewerButtonRef:d}=e,{isEligibleForStaticImageIdeaPin:u}=le(t.story_pin_data_id),c=u?(0,M.jsx)(ac,{handleMediaButtonClick:o,isHovered:l,isORBACProfileManager:r,onImageClick:a,pin:t,shouldPadImage:i,trafficSource:n,viewParameter:s}):(0,M.jsx)(lJ,{handleMediaButtonClick:o,isHovered:l,isORBACProfileManager:r,mediaViewerExpandButtonRef:d,onImageClick:a,pin:t,shouldPadImage:i,trafficSource:n,viewParameter:s});return i?(0,M.jsx)(lh,{children:c}):c};var ag=a(521363),am=a(97718),ah=a(47032),ay=a(759513),a_=a(331694),av=a(757854),ak=a(164676),af=a(948888);let ab=(0,b.lazy)(()=>a.e("9990").then(a.bind(a,53043))),ax=({children:e,name:l,verticalOffset:a=0,horizontalOffset:t=0})=>(0,M.jsx)(C.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",padding:`${a}px ${t}px`}},"data-test-id":`experimental-closeup-image-overlay-layer-${l}`,left:!0,position:"absolute",right:!0,top:!0,children:e}),aS=(void 0!==c||(c=a(292705)).hash&&"7ba89eba255cb97040287ec468d973ed"!==c.hash&&console.error("The definition of 'VideoContent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c),aP=({closeupIsFirstPageInHistoryStack:e,customThumbnail:l,imageContainerRef:a,isWideVideo:t,mediaViewerButtonRef:i,pin:n,pinKey:s,shouldPadImage:r,flyoutShareProps:o,video:d,isORBACProfileManager:u,handleMediaButtonClick:c})=>{(0,b.useEffect)(()=>{(0,f.A)("VideoContent","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/VisualContent/VideoContent.tsx")},[]);let p=(0,K.A)(aS,s),g=(0,T.A)({showProductDetailPage:!!n.is_eligible_for_pdp}),m=!!n.promoter&&!n.is_downstream_promotion,h=m&&!n.is_eligible_for_web_closeup,{access:y,should_mute:_}=n||{},v=!!y&&y.includes("tag")||u,{closeupWithinMasonryEnabled:k}=(0,J._G)(),{closeupBodyWidth:x}=(0,ak.K)(),S=(0,av.A)(),{fiftyPercentWidth:P}=(0,eS.Vc)(),{maxHeight:w}=(0,lB.A)({pinKey:p,isVideo:!0}),{isCloseupMediaViewerEnabled:A}=(0,ah.A)({isShufflePin:!!n?.shuffle}),F=Math.max((g&&x?x/2:x??1)/("number"==typeof w?w:1),(d.hls?.width??d?.mp4?.width??0)/(d.hls?.height??d?.mp4?.height??0)),I=k?x:eQ.qr-eQ.Ye,L=(0,M.jsxs)(af.A,{isVideo:!0,isWideVideo:t,shouldPadImage:r,styleOverrides:r&&!k?{maxWidth:{maxWidth:I},minWidth:{minWidth:I},height:{},borderRadius:16}:{},variant:"default",children:[(0,M.jsx)(C.az,{ref:a,"data-test-id":"closeup-video-with-visibility",maxHeight:w,maxWidth:P,width:"100%",children:(0,M.jsx)(ay.A,{aspectRatio:k?F:void 0,autoplay:!S,customThumbnail:l,flyoutShareProps:o,isPromoted:m,loop:h,muted:_||e,objectFit:k?"contain":void 0,pinId:n.id,pinKey:p,shouldMute:_,variant:"default",video:d})}),v&&(0,M.jsx)(ax,{name:"tag-button",children:(0,M.jsx)(eD.A,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(a_.A,{children:(0,M.jsx)(ab,{pin:n})})})})}),A&&(0,M.jsxs)(ax,{name:"media-viewer-button",verticalOffset:136,children:[(0,M.jsx)(C.az,{height:"100%"}),(0,M.jsx)(C.az,{display:"flex",justifyContent:"end",paddingX:ag.A,right:!0,children:(0,M.jsx)(eD.A,{name:"SafeSuspense_CloseupImageOverlay_MediaViewerButton",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(a_.A,{children:(0,M.jsx)(am.default,{ref:i,animateOnMount:!1,dataTestId:"media-viewer-button",icon:"maximize",imageSignature:n.image_signature,onTap:c,variant:"view-larger"})})})})})]})]});return r?(0,M.jsx)(lh,{children:L}):L},aw=e=>{(0,b.useEffect)(()=>{(0,f.A)("VisualContent","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/VisualContent/VisualContent.tsx")},[]);let{clientTrackingParams:l,closeupIsFirstPageInHistoryStack:a,imageContainerRef:t,flyoutShareProps:i,isWideVideo:n,pin:s,shouldPadImage:r,trafficSource:o,isORBACProfileManager:d,isHovered:u,mediaViewerButtonRef:c,onImageClick:p,viewParameter:g,handleMediaButtonClick:m}=e,{video:h,imgSrc:y,isEmbeddedVideo:_,isYoutubePin:v}=(0,B.M)(),{closeupWithinMasonryEnabled:k}=(0,J._G)(),x=(0,T.A)({showProductDetailPage:!!s.is_eligible_for_pdp}),{checkExperiment:S}=(0,ll.A)(),P=(0,M.jsx)(lV.A,{id:"ContextMenuClickthroughLogging",children:(0,M.jsx)(ez.A,{clientTrackingParams:l,hovered:u,pinKey:{type:"Legacy",data:s},viewType:3,children:(0,M.jsx)(lV.A,{id:"ImageContent",children:(0,M.jsx)(ap,{handleMediaButtonClick:m,isHovered:u,isORBACProfileManager:d,mediaViewerButtonRef:c,onImageClick:p,pin:s,shouldPadImage:r,trafficSource:o,viewParameter:g})})})});h&&(P=(0,M.jsx)(lV.A,{id:"VideoContent",children:(0,M.jsx)(aP,{closeupIsFirstPageInHistoryStack:a,customThumbnail:y,flyoutShareProps:i,handleMediaButtonClick:m,imageContainerRef:t,isORBACProfileManager:d,isWideVideo:n,mediaViewerButtonRef:c,pin:s,pinKey:{type:"Legacy",data:s},shouldPadImage:r,video:h})}));let w="50%";if(_){let e=s.attribution&&(s.attribution.author_name||s.attribution.url)?s.attribution.provider_name:null;"soundcloud"===e?w="30%":"vin"===e&&(w="100%"),P=(0,M.jsx)(lV.A,{id:"EmbeddedVideoContent",children:(0,M.jsx)(lv,{embedUrl:s.embed?.src,isWideVideo:n,paddingBottom:w,shouldPadImage:r})})}let A=S("web_closeup_youtube_player").group;if(v&&!h&&["enabled","enabled_autoplay","enabled_delay","employees"].includes(A)){let e=(0,e_.E8)(s.link),l=["enabled_autoplay","enabled_delay"].includes(A),a=`https://www.youtube.com/embed/${e}?autoplay=${+!!l}&mute=${+!!l}&fs=0`;P=(0,M.jsx)(lV.A,{id:"EmbeddedVideoContent-2",children:(0,M.jsx)(lv,{embedUrl:a,isWideVideo:n,paddingBottom:w,shouldPadImage:r})})}let F=(0,j.A)({type:"Legacy",data:s}),I=s.is_eligible_for_pdp?F():void 0;return(0,M.jsx)(ae.A,{auxData:I,clientTrackingParams:l,component:85,viewParameter:g,children:(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{overflow:k?"clip":void 0}},rounding:k&&!x?400:void 0,children:P})})};var aA=a(679523),aC=a(662449),aF=a(870540);let aI=(0,b.lazy)(()=>a.e("28701").then(a.bind(a,251596))),aT=(0,b.lazy)(()=>a.e("33374").then(a.bind(a,224493)));function aK({handleImageClickThrough:e,imageContainerRef:l,isStoryPin:a,isWideVideo:t,onSaveButtonClick:i,pin:n,setClickthroughComponentForSurvey:s,showRepinOnInitialRender:r,trafficSource:o,viewParameter:d,viewParameterType:u,visualContentContainerRef:c={current:null},isDeletedStoryPin:p=!1,isOnSecretBoard:g=!1}){(0,b.useEffect)(()=>{(0,f.A)("VisualContentContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/VisualContent/VisualContentContainer.tsx")},[]);let m=(0,b.useRef)(null),[h,y]=(0,b.useState)(!1),{checkExperiment:_}=(0,ll.A)(),{previous:v}=(0,aC.qD)(),k=(0,J._G)(),x=(0,aF.A)(),S=(0,B.M)(),P=(0,lN.A)(),{getViewParameter:w}=eb({type:"Legacy",data:n}),A=(0,lx.A)(),F=0===v.length,{imgSrc:I,video:K}=S,{isCloseupMediaViewerEnabled:L}=(0,ah.A)({isShufflePin:!!n?.shuffle}),{executeWithViewTransition:j}=(0,aA.A)({_enableViewTransitions:L}),R=(0,T.A)({showProductDetailPage:!!n.is_eligible_for_pdp}),{anyEnabled:z}=(0,aa.A)(),D=()=>{y(e=>!e)},E=()=>{y(!1)},V=e=>({gridDescription:n.description,imageSrc:e,isFlyoutOpen:h,onFlyoutDismiss:E,onToggleFlyout:D,pinId:n.id}),{clientTrackingParams:O,paneWidth:U,closeupWithinMasonryEnabled:N,peekCloseupEnabled:W,setIsCloseupMediaViewerOpen:H,showProductDetailPage:G}=k,{fiftyPercentWidth:$}=(0,eS.Vc)(),{maxHeight:Q}=(0,lB.A)({pinKey:{type:"Legacy",data:n}}),X=(0,b.useCallback)(()=>{e&&e(),s("imageContainer")},[e,s]),q=G&&_("story_idea_pins_eligible_for_pdp_web",{dangerouslySkipActivation:!0}).anyEnabled;if(a&&!q)return null;let{domain:Y,music_attributions:Z,pinner:ee,should_mute:el}=n,ea=!!Y&&!!n.link&&!n.link.startsWith("https://i.pinimg.com"),et=()=>{A({aux_data:{image_signature:n.image_signature},component:128,event_type:101,element:L?15864:15865,view_type:3}),j(()=>{H(!0)})},ei=(0,eG.Hs)(P,ee?.id,x);return(0,M.jsxs)(C.az,{ref:c,dangerouslySetInlineStyle:{__style:{containerType:z?"inline-size":"normal",display:W||R?"flex":"block",height:W||R?"100%":void 0}},"data-test-id":"visual-content-container",children:[(0,M.jsx)(lV.A,{id:"ElementUIStateController",children:(0,M.jsx)(eH.e,{children:({hovered:e,onMouseEnter:a,onMouseLeave:i})=>(0,M.jsxs)(C.az,{alignSelf:W||R?"center":void 0,direction:N?"column":void 0,display:"flex",justifyContent:"center",maxHeight:R?void 0:Q,maxWidth:$,onMouseEnter:a,onMouseLeave:i,position:"relative",width:"100%",children:[K&&Z?.length!==0&&(0,M.jsx)(C.az,{alignItems:"center","data-test-id":"music-attribution",display:"flex",justifyContent:"center",marginTop:6,overflow:"hidden",paddingY:8,position:"absolute",top:!0,width:U,zIndex:lY.AP,children:(0,M.jsx)(lV.A,{id:"MusicAttribution",children:(0,M.jsx)(lm.A,{musicAttributions:Z,shouldMute:!!el})})}),(0,M.jsx)(lV.A,{id:"VisualContent",children:(0,M.jsx)(aw,{clientTrackingParams:O,closeupIsFirstPageInHistoryStack:F,flyoutShareProps:V(I),handleMediaButtonClick:et,imageContainerRef:l,isHovered:e,isORBACProfileManager:ei,isWideVideo:t,mediaViewerButtonRef:m,onImageClick:X,pin:n,shouldPadImage:!1,showDomainLink:ea,trafficSource:o,viewParameter:w(u)})}),n&&n.showFeedback&&(0,M.jsx)(lV.A,{id:"VisualContentObscuredOverlay",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(aI,{pin:n})})})]})})}),(0,M.jsx)(C.Wd,{zIndex:lW.RG,children:(0,M.jsx)(lV.A,{id:"ExperienceTooltip",children:(0,M.jsx)(lU.En,{anchor:c.current,experienceIds:[506204],flyoutSize:"md",forceDirection:!N,idealDirection:N?"right":"down",placementId:12,showCaret:!0,textWeight:"normal"})})}),L&&(0,M.jsx)(eD.A,{name:"SafeSuspense_CloseupImageOverlay_MediaViewer",children:(0,M.jsx)(lV.A,{id:"CloseupMediaViewer",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(aT,{flyoutShareProps:V(I),isDeletedStoryPin:p,isOnSecretBoard:g,onClose:({isExitButton:e,isClick:l})=>{A({aux_data:{image_signature:n.image_signature},component:128,event_type:l?101:97,element:e?15867:15866,view_type:3}),j(()=>{H(!1),m.current?.focus()})},onImageClick:()=>{e&&e()},onSaveButtonClick:i,pin:n,rounding:24,showRepinOnInitialRender:r,trafficSource:o,viewParameter:d})})})})]})}var aL=a(63661);let aj={__style:{marginBottom:"0",marginTop:"0",maxWidth:eQ.M1,minWidth:eQ.qr}},aM=(0,b.memo)(function({children:e,isWideVideo:l}){let{showCloseupContentRight:a,maxWidth:t,paneWidth:i,peekCloseupEnabled:n,closeupWithinMasonryEnabled:s,viewportSize:r}=(0,J._G)(),{maxHeight:o}=(0,eS.Vc)(),{mainImage:d}=(0,B.M)(),{peekRedesignFastFollowsEnabled:u}=(0,eI.A)(d),c=a||l?t:i;return c=s&&"sm"!==r||n?void 0:c,s?(0,M.jsx)(C.az,{"data-test-id":"closeup-lego-container",height:"100%",children:e}):(0,M.jsx)(C.az,{"data-test-id":"closeup-lego-container",display:"flex",height:"100%",maxHeight:u?void 0:o,maxWidth:c,position:"relative",rounding:800,width:"100%",children:(0,M.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{display:"flex"},children:(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},display:"flex",children:(0,M.jsx)(C.az,{dangerouslySetInlineStyle:l?aj:{},display:"flex",children:e})})})})});function aR(e){return(0,b.useEffect)(()=>{(0,f.A)("ResponsiveBodyContainer","/app/www/closeup/desktop/responsiveContainers/ResponsiveBodyContainer.tsx")},[]),(0,M.jsx)(aM,{...e})}var az=a(734524),aD=a(105492),aE=a(81920);let aB=(0,eZ.A)(()=>a.e("26804").then(a.bind(a,214305)),{ssr:!1},e=>214305,"ChangeBoardModalCommon",e=>["26804"]),aV=(0,eZ.A)(()=>Promise.all([a.e("93318"),a.e("34777")]).then(a.bind(a,924509)),void 0,e=>924509,"CloseupActionBarCommon",e=>["93318","34777"]),aO=(0,eZ.A)(()=>a.e("28769").then(a.bind(a,10879)),void 0,e=>10879,"app-common-react-components-auth-desktop-web-closeup-LeadGen-LeadGenCloseupBodyContent",e=>["28769"]),aU=(0,eZ.A)(()=>a.e("98899").then(a.bind(a,832449)),void 0,e=>832449,"app-common-react-components-auth-desktop-web-closeup-CloseupBody-CloseupInlineCommentComposer",e=>["98899"]),aN=(0,b.lazy)(()=>a.e("86351").then(a.bind(a,344530))),aW=({children:e,metadataContainerRef:l,closeupWithinMasonryEnabled:a})=>a?(0,M.jsx)(C.az,{ref:l,width:"100%",children:e}):(0,M.jsx)(b.Fragment,{children:e}),aH=(0,b.memo)(({children:e,clientTrackingParams:l,pinKey:a,pinImageUrl:t,closeupNavigationType:i})=>{(0,b.useEffect)(()=>{(0,f.A)("AuthDesktopWebCloseupMainPinImpression","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/AuthDesktopWebCloseupMainPinImpression.tsx")},[]);let n=(0,K.A)(R,a),s=(0,T.A)({showProductDetailPage:!!n.isEligibleForPdp}),r=(0,b.useMemo)(()=>n,[n]),o=(0,j.A)(r),{entityId:d}=n,u=(0,b.useMemo)(()=>o(),[o]),c=(0,b.useMemo)(()=>n.isEligibleForPdp?u:{},[u,n.isEligibleForPdp]),p=(0,b.useMemo)(()=>({imageURL:t,clientTrackingParams:l}),[l,t]),g=(0,b.useMemo)(()=>({pin_id:d}),[d]);return(0,M.jsx)(L.g$,{clientTrackingParams:l,closeupImpressionType:13,closeupNavigationType:i,componentType:85,contextLogData:c,impressionAuxFields:p,impressionType:"Pin",loggingId:d,slotIndex:-1,viewData:g,viewType:3,children:({impressionTrackerRef:l})=>(0,M.jsx)(C.az,{ref:l,"data-test-id":"closeup-visual-container",width:s?"100%":void 0,children:e})})}),aG=(0,b.memo)(aK);function a$({isWideVideo:e,didShortClickThrough:l,webLinkSurveyState:{webLinkSurveyRef:a,imageContainerRef:t,legoLinkClickthroughAnchorRef:i,maybeLinkRef:n},pin:s,outerBodyStyle:r,isEligibleForPinReactions:o,isStoryPin:d,trafficSource:u,visualContentContainer:c,outerPaddingSize:p,isInStream:g,metadataContainerRef:m,onClickThrough:h,viewType:y,viewParameter:_,metadata:v,viewer:k,orbacSubjectId:P,setIsLoadingNewlyCreatedComment:w=()=>{},descriptionContentMaxHeight:A,marginBottom:F=0,isDeletedStoryPin:I,onSaveButtonClick:K,showPromoteBanner:L,showRepinOnInitialRender:j,goBack:R,onUpdate:z,routePush:D,closeupActionBarMaxWidth:E,visualContentContainerRef:B,showPDPComments:V,actionBarContainerRef:U,blendedUIScrollContainerRef:N}){let W;(0,b.useEffect)(()=>{(0,f.A)("CloseupBody","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupBody.tsx")},[]);let{descriptionPaneWidth:H,viewportSize:G,clientTrackingParams:$,closeupWithinMasonryEnabled:Q,peekCloseupEnabled:X,showCloseupContentRight:q}=(0,J._G)(),Y=(0,x.d4)(({changeBoardFromToast:e})=>e)||{},Z=(0,ls.I)(s.id),ee=Z?.data&&0!==Z.data.length,el=(0,O.A)(),ea=(0,S.zy)(),et=(0,S.wQ)(),ei=(0,b.useRef)(null),{setCloseupBodyWidth:en}=(0,ak.K)(),es=(0,b.useCallback)(()=>{let e=m.current;e&&en(l=>{let a=e.offsetWidth;return l!==a?a:l})},[m,en]);(0,l$.A)(es,m);let er=(0,aF.A)(),{is_eligible_for_aggregated_comments:eo,pinner:ed}=s,eu=(0,eG.Hs)(k,ed?.id,er),ec=s.comments_disabled?0:(s.aggregated_pin_data?.comment_count??0)+(s.aggregated_pin_data?.did_it_data?.images_count??0),ep=!(eu&&!P)&&(!s.is_eligible_for_pdp||!!V)&&!s.comments_disabled&&!!eo,eg=!!s.promoted_is_lead_ad,em=0!==Object.keys(s).length,eh=B?.current?.clientHeight||0,[ey,e_]=(0,b.useState)(!0);(0,b.useEffect)(()=>{let e=(0,aL.A)(()=>{Q&&e_(0===window.scrollY)},50);return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[Q]),(0,lo.A)(()=>{s.closeup_attribution?.id&&(0,aE.GV)("web.closeup.has_attribution.yes"),(0,aE.GV)("web.closeup.has_attribution.no")});let ev=(0,b.useMemo)(()=>(0,aD.A)(et,ea.search,ea.key,u),[et,ea.search,ea.key,u]),ek=(0,b.useMemo)(()=>(s.images&&s.images["236x"]?.url)??"",[s.images]),ef=(0,b.useMemo)(()=>({type:"Legacy",data:s}),[s]),eb=(0,M.jsx)(lV.A,{id:"CloseupMainPinImpressionAuthDesktop",children:(0,M.jsx)(aH,{clientTrackingParams:$,closeupNavigationType:ev,pinImageUrl:ek,pinKey:ef,children:c})}),{fiftyPercentWidth:ex,fiftyPercentHeight:eP}=(0,eS.Vc)(),ew=e&&!Q?eQ.M1:void 0;ew=X?ex:ew;let eA=(d||Q)&&!X?void 0:A;X&&(eA="sm"===G?eP:Math.max(eS.sE,B?.current?.clientHeight??0));let eC={...r,boxShadow:"unset",border:eS.OU,overflow:"clip"},eF=(0,T.A)({showProductDetailPage:!!s.is_eligible_for_pdp}),eI="sm"===G,{maxHeight:eT}=(0,lE.A)({showProductDetailPage:!!s.is_eligible_for_pdp,skipAspectRatioCheck:!0}),eK=(0,b.useMemo)(()=>(0,M.jsx)(lV.A,{id:"CloseupInlineCommentComposer",children:(0,M.jsx)(aU,{aggregatedPinDataId:s.aggregated_pin_data?.id,closeupAttributionId:s.closeup_attribution?.id,commentCount:ec,disablePhotoCommentSelection:!!s.done_by_me,isEligibleForPinReactions:o,isPDP:s.is_eligible_for_pdp,orbacSubjectId:P,pinId:s.id,privatePin:"secret"===s.privacy,reactionByMe:s.reaction_by_me||0,reactionCounts:s.reaction_counts,setIsLoadingNewlyCreatedComment:w,showCommentComposer:ep,showReactBackground:!Q,storyPinDataId:s.story_pin_data_id,viewParameter:_})}),[s.aggregated_pin_data?.id,s.closeup_attribution?.id,ec,s.done_by_me,o,s.is_eligible_for_pdp,P,s.id,s.privacy,s.reaction_by_me,s.reaction_counts,w,ep,Q,s.story_pin_data_id,_]),eL=(0,b.useMemo)(()=>(!Q||eF)&&ep?q?(0,M.jsx)(C.ib,{bottom:0,children:eK}):eK:null,[Q,eF,ep,q,eK]);return W=eF&&!eI?"100%":e||Q?void 0:H,(0,M.jsx)(b.Fragment,{children:(0,M.jsxs)(C.az,{height:"100%",marginBottom:F,position:"relative",width:"100%",children:[(0,M.jsx)(aR,{isWideVideo:e,children:(0,M.jsxs)(C.az,{display:Q?void 0:"flex",position:"relative",children:[!l&&(0,M.jsx)(eN.A,{children:(0,M.jsx)(lV.A,{id:"WebLinkSurvey",children:(0,M.jsx)(aN,{imageContainerRef:t,legoLinkClickthroughAnchorRef:i,maybeLinkRef:n,pin:{aggregatedPinData:s.aggregated_pin_data&&{isShopTheLook:s.aggregated_pin_data.is_shop_the_look},board:s.board&&{entityId:s.board.id,owner:s.board.owner&&{entityId:s.board.owner.id??""}},entityId:s.id,imageSignature:s.image_signature,isDownstreamPromotion:s.is_downstream_promotion,isPromoted:s.is_promoted,link:s.link,recommendationReason:s.recommendation_reason&&{reason:s.recommendation_reason.reason}},webLinkSurveyRef:a})})}),(0,M.jsx)(C.az,{color:em?"default":"transparent",dangerouslySetInlineStyle:{__style:{...eC}},"data-test-id":"closeup-body-style",display:"flex",paddingX:Q&&!eF?4:void 0,position:"relative",children:(0,M.jsx)(aW,{closeupWithinMasonryEnabled:Q,metadataContainerRef:m,children:(0,M.jsx)(C.so,{alignItems:"stretch",height:Q?"100%":void 0,justifyContent:"start",children:(0,M.jsx)(az.A,{children:em?(0,M.jsx)(b.Fragment,{children:s.promoted_is_lead_ad?(0,M.jsx)(lV.A,{id:"LeadGenCloseupBodyContent",children:(0,M.jsx)(aO,{clientTrackingParams:$,pin:s,data:!!s,goBack:R,onUpdate:z,viewParameter:_,onSaveButtonClick:K,showRepinOnInitialRender:j,actionBarContainerRef:U,trafficSource:u,onClickThrough:h,isStoryPin:d,descriptionPaneWidth:H,metadataContainerRef:m,visualContentContainer:c,visualContentContainerHeight:eh,showLeadPinStdBeta:eg})}):(0,M.jsxs)(b.Fragment,{children:[(0,M.jsxs)(C.az,{alignContent:"center",alignItems:"stretch",alignSelf:"center",dangerouslySetInlineStyle:{__style:eF?{overflowY:"auto",overflowX:"hidden"}:{}},direction:"column",display:"flex",justifyContent:"start",maxHeight:eT,width:"100%",children:[!eF&&Q&&(0,M.jsx)(C.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...!ey?eQ.En:{},borderTop:ey?void 0:eS.OU,position:"sticky",top:"80px"}},"data-test-id":"closeup-action-bar",display:"flex",height:"64px",justifyContent:"center",marginEnd:-4,marginStart:-4,overflow:"visible",paddingX:4,zIndex:lW.CT,children:(0,M.jsx)(lV.A,{id:"CloseupActionBar",children:(0,M.jsx)(aV,{actionBarContainerRef:U,goBack:R,gridDescription:s.description??"",isDeletedStoryPin:!!I,isEligibleForAggregatedComments:!!eo,isEligibleForPinReactions:o,isOnSecretBoard:!1,isStoryPin:d,onEditSubmit:z,onSaveButtonClick:K,outerPaddingSize:p,pin:s,routePush:D,scrollContainerRef:N?.current||m.current,showPromoteBanner:L,showRepinOnInitialRender:j,viewParameter:_,viewType:y})})}),eb]}),(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{containerType:eF&&q?"size":void 0,overflow:X&&eI?"scroll":void 0}},"data-test-id":"description-content-container",direction:"column",display:"flex",flex:"grow",height:eF&&eI?void 0:"100%",maxHeight:eF?eQ.gr:eA,maxWidth:ew,minHeight:eF&&!eI?eQ.Ii:void 0,paddingX:eF?4:void 0,width:W,children:s?(0,M.jsxs)(b.Fragment,{children:[(!g&&!Q||eF)&&(0,M.jsx)(eD.A,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,M.jsx)(aV,{actionBarContainerRef:ei,goBack:R,gridDescription:s.description??"",isDeletedStoryPin:!!I,isEligibleForAggregatedComments:!!eo,isEligibleForPinReactions:o,isOnSecretBoard:!1,isStoryPin:d,maxWidth:E,onEditSubmit:z,onSaveButtonClick:K,outerPaddingSize:p,pin:s,routePush:D,scrollContainerRef:N?.current||m.current,showPromoteBanner:L,showRepinOnInitialRender:j,viewParameter:_,viewType:y})}),(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{paddingLeft:Q?void 0:X?eS.T3:eQ.Z}},direction:"column",display:"flex",flex:"grow",children:(0,M.jsxs)(C.az,{ref:Q?void 0:m,alignItems:"stretch",direction:"column",display:"flex",flex:"grow",justifyContent:"start",overflow:Q||eF?void 0:"auto",children:[(0,M.jsx)(C.az,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{rowGap:Q?4*eQ.vg:void 0}},direction:"column",display:"flex",height:X||eF?"100%":void 0,justifyContent:"start",width:X?"100%":void 0,children:v}),Q&&!eF&&ep&&eK]})}),eL]}):(0,M.jsx)(C.az,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,M.jsx)(C.y$,{accessibilityLabel:el._('Pin details loading', ' - ', ' -- '),show:!0})})}),X&&"lg"===G&&(0,M.jsx)(lV.A,{id:"PeekVariantShoppingModule",children:(0,M.jsx)(lr,{maxHeight:B?.current?.clientHeight,pin:s,showShoppingModule:ee,trafficSource:u,viewParameter:_})})]})}):(0,M.jsx)(C.so,{alignItems:"center",height:300,justifyContent:"center",width:"100%",children:(0,M.jsx)(C.y$,{accessibilityLabel:el._('Pin loading', ' - ', ' -- '),show:!0})})})})})})]})}),Y.shouldOpenModal&&Y.newPin&&Y.originalPinId===s.id&&(0,M.jsx)(eD.A,{name:"SafeSuspense_CloseupBody_ChangeBoardModal",children:(0,M.jsx)(lV.A,{id:"ChangeBoardModal",children:(0,M.jsx)(aB,{experience:Y.experience,pinKey:{type:"Legacy",data:Y.newPin}})})})]})})}let aQ=(0,b.memo)(a$),aX=(0,b.memo)(function({isStoryPin:e,isVideoPin:l,isWideVideo:a,pin:t,taggedProducts:i,trafficSource:n,viewParameterType:s,onClickThrough:r,didShortClickThrough:o,goBack:d,isCloseupMaximized:u=!1,isInStream:c=!1,isDeletedStoryPin:p,onSaveButtonClick:g,onUpdate:m,outerBodyStyle:h,outerPaddingSize:y,routePush:_,showRepinOnInitialRender:v,viewType:k,onCommentSectionClick:f,onCloseupBodyUpdate:x,shouldShowStlCarouselForOwnPin:S,storyPinTaggedProducts:P,clientTrackingParams:w,viewportSize:A,shouldShowPartnerModule:T,trendsData:K,showTrendsOnPinCloseup:L,showPinStats:j}){let{checkExperiment:R}=(0,ll.A)(),[z,D]=(0,b.useState)(!1),[E,B]=(0,b.useState)(!1),V=(0,b.useRef)(null),O=(0,b.useRef)(null),U=(0,J._G)(),N=(0,lN.A)(),W=!t.is_promoted&&!t.is_downstream_promotion&&!p,H=(0,aF.A)(),G=(0,eG.H7)(N,H),$=lg(),Q=(0,b.useCallback)(()=>{r&&r({componentType:129}),$.setClickthroughComponentForSurvey("legoMaybeLink")},[r,$]),X=lp(),{getViewParameter:q}=eb({type:"Legacy",data:t}),Y=q(s),{setClickthroughComponentForSurvey:Z,imageContainerRef:ee}=$,{group:el}=R("webpack_react_profiler");if("enabled_slow_closeupbody"===el){let e=performance.now(),l=e;for(;l-e<30;)l=performance.now()}let ea=(0,b.useCallback)(()=>{r({wasImageClicked:!0})},[r]),et=(0,b.useMemo)(()=>t,[t]),ei=(0,b.useMemo)(()=>n,[n]),en=(0,b.useMemo)(()=>Y,[Y]),es=(0,b.useMemo)(()=>s,[s]),er=(0,M.jsx)(aG,{handleImageClickThrough:ea,imageContainerRef:ee,isDeletedStoryPin:p,isOnSecretBoard:!1,isStoryPin:e,isWideVideo:a,onSaveButtonClick:g,pin:et,setClickthroughComponentForSurvey:Z,showRepinOnInitialRender:v,trafficSource:ei,viewParameter:en,viewParameterType:es,visualContentContainerRef:X.visualContentContainerRef}),eo=(0,M.jsx)(lV.A,{id:"MetadataDetails",children:(0,M.jsx)(ln,{closeupContext:U,detailsScrollContainerRef:O.current,isDeletedStoryPin:p,isLoadingNewlyCreatedComment:z,isStoryPin:e,isVideoPin:l,onCloseupBodyUpdate:x,onCommentSectionClick:f,orbacActingAs:H,orbacSubjectId:G,outerPaddingSize:y,pin:t,shouldShowStlCarouselForOwnPin:S,storyPinTaggedProducts:P,taggedProducts:i,viewer:N,viewParameter:Y})}),ed=(0,b.useMemo)(()=>({type:"Legacy",data:t}),[t]),eu=(0,M.jsx)(lV.A,{id:"DefaultMetadata",children:(0,M.jsx)(e6,{clientTrackingParams:w,details:eo,isDeletedStoryPin:p,isStoryPin:e,onClickThrough:r,onCloseupBodyUpdate:x,onPromoteBannerVisibilityChange:B,orbacActingAs:H,outerPaddingSize:y,pinKey:ed,shouldShowPartnerModule:T,showPinStats:j,showTrendsOnPinCloseup:L,trafficSource:n,trendsData:K,viewer:N,viewParameter:Y,viewportSize:A})}),ec=R("web_collage_add_from_closeup").anyEnabled,ep=(0,M.jsx)(aQ,{actionBarContainerRef:V,descriptionContentMaxHeight:X.descriptionContentMaxHeight,didShortClickThrough:o,goBack:d,isCloseupMaximized:u,isEligibleForPinReactions:W,isInStream:c,isStoryPin:e,isWideVideo:a,metadata:eu,metadataContainerRef:O,onClickThrough:Q,onSaveButtonClick:g,onUpdate:m,orbacSubjectId:G,outerBodyStyle:h,outerPaddingSize:y,pin:t,routePush:_,setIsLoadingNewlyCreatedComment:D,showPromoteBanner:E,showRepinOnInitialRender:v,trafficSource:n,viewer:N,viewParameter:Y,viewType:k,visualContentContainer:er,visualContentContainerRef:X.visualContentContainerRef,webLinkSurveyState:$}),eg=ec?(0,M.jsx)(F.U,{pinId:t.id,children:ep}):ep,em=(0,M.jsx)(lV.A,{id:"CloseupPostDownloadUpsellProvider",children:(0,M.jsx)(I.cR,{pin:t,children:eg})}),eh=(0,b.useMemo)(()=>({web_gestalt_calico:{anyEnabled:!0,group:"enabled"}}),[]);return t?.ad_data?.exclude_from_grid_rep_tests&&R("web_exclude_from_grid_rep_tests").anyEnabled?(0,M.jsx)("div",{className:"excludeFromGridRepTests",children:(0,M.jsx)(C.FL,{value:eh,children:em})}):em});function aq(e){return(0,b.useEffect)(()=>{(0,f.A)("CloseupBody","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupBody.tsx")},[]),(0,M.jsx)(aX,{...e})}var aJ=a(599103);let aY=[aJ.gF.ADMIN,aJ.gF.CAMPAIGN_MANAGER];var aZ=a(735407),a0=a(619309),a1=a(644899),a3=a(376602),a2=a(485043),a5=a(699613);let a6=e=>{let l=(0,O.A)(),{sourceUrl:a,clientTrackingParams:t,linkText:i,displayUrl:n,image:s,pageId:r,canonicalUrl:o,pinId:d,onTouch:u,onClickThrough:c,isLoading:p}=e,g={story_pin_page_id:r,story_pin_data_id:(0,x.d4)(l=>e.pinId&&l.pins?.[e.pinId]?.story_pin_data_id),src_url:a,canonical_url:o},m=(0,M.jsxs)(C.az,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",display:"flex",overflow:"hidden",rounding:200,children:[(0,M.jsx)(C.az,{alignItems:"center",color:p||s&&s.url?void 0:"secondary",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},display:"flex",flex:"none",height:80,justifyContent:"center",minWidth:80,width:80,children:p?(0,M.jsx)(C.y$,{accessibilityLabel:l._('Loading website', 'a11y for loading spinner', 'a11y for loading spinner'),show:!0}):s&&s.url?(0,M.jsx)(C._V,{alt:i,fit:"cover",naturalHeight:s.height??1,naturalWidth:s.width??1,src:s.url}):(0,M.jsx)(C.In,{accessibilityLabel:l._('Default link block icon', 'Icon for default link blocks without an image', 'Icon for default link blocks without an image'),color:"subtle",icon:"link",size:35})}),(0,M.jsxs)(C.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},flex:"grow",overflow:"hidden",paddingX:5,children:[(0,M.jsx)(C.KJ,{lineClamp:1,weight:"bold",children:i}),(0,M.jsx)(C.KJ,{color:"default",size:"200",children:n})]})]}),h=(0,a5.HR)()(d),y=(0,a3.A)({href:{pathname:a,state:{trackingParams:t}},target:"blank",clientTrackingParams:t,externalData:h?{pin:h&&{attributionSourceId:h.attribution_source_id,board:h.board&&{url:h.board.url},campaignId:h.campaign_id,entityId:h.id,isDownstreamPromotion:h.is_downstream_promotion,isPromoted:h.is_promoted,pinner:h.pinner&&{username:h.pinner.username},pinPromotionId:h.pin_promotion_id,promoter:h.promoter&&{entityId:h.promoter.id},storyPinDataId:h.story_pin_data_id,trackingParams:h.tracking_params,advertiserId:h.advertiser_id}}:void 0});return u?(0,M.jsx)(C.Rp,{onTap:u,rounding:200,children:m}):(0,M.jsx)(C.$A,{href:a,onTap:({event:e,dangerouslyDisableOnNavigation:l})=>{l(),c&&c({auxData:g}),y({event:e})},rel:"nofollow",rounding:200,target:"blank",children:m})},a4=e=>((0,b.useEffect)(()=>{(0,f.A)("StoryPinLinkModule","/app/common/react/components/auth-desktop-web-closeup/StoryPin/StoryPinLinkModule.tsx")},[]),(0,M.jsx)(a2.A,{...e,children:(0,M.jsx)(a6,{...e})})),a8=(0,eZ.A)(()=>a.e("63273").then(a.bind(a,394793)),void 0,e=>394793,"app-common-react-components-Activities-Utils-Linkify",e=>["63273"]),a7=({block:e,clientTrackingParams:l,pageId:a,pinId:t,onClickThrough:i})=>{(0,b.useEffect)(()=>{(0,f.A)("StoryPinBlock","/app/common/react/components/auth-desktop-web-closeup/StoryPin/StoryPinBlock.tsx")},[]);let{logContextEvent:n}=(0,eR.o)();switch(e.type){case lY.Nc.LINK:let{canonical_url:s,image:r,normalized_url:o,src_url:d,text:u=""}=e,c=r?.images?.["345x"];if(r&&d&&o&&s)return(0,M.jsx)(C.az,{marginTop:5,children:(0,M.jsx)(a4,{canonicalUrl:s,clientTrackingParams:l,displayUrl:o,image:c,linkText:u,onClickThrough:i,onVisibilityChanged:e=>{e&&n({event_type:120,view_type:3,view_parameter:157,component:228,element:11157,object_id_str:t,aux_data:{story_pin_page_id:a,srcUrl:d,canonicalUrl:s}})},pageId:a,pinId:t,sourceUrl:d})});return null;case lY.Nc.HEADING:{let{text:l=""}=e;return(0,M.jsx)(C.az,{marginBottom:4,paddingX:2,children:(0,M.jsx)(C._Y,{accessibilityLevel:2,overflow:"normal",size:"600",children:l})})}case lY.Nc.PARAGRAPH:{let{text:l=""}=e;return(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},paddingX:2,children:(0,M.jsx)(C.KJ,{children:(0,M.jsxs)(a8,{children:[" ",l," "]})})})}default:return null}},a9=`
@media (min-height: 0) {
  .StoryPinText {
    padding: 15px;
  }
  .StoryPinText span {
    font-size: 12px;
  }
  .StoryPinText h2 {
    font-size: 18px;
  }
}

@media (min-height: 600px) {
  .StoryPinText {
    padding: 2.5vh;
  }
  .StoryPinText span {
    font-size: 2vh;
  }
  .StoryPinText h2 {
    font-size: 3vh;
  }
}

@media (min-height: 800px) {
  .StoryPinText {
    padding: 20px;
  }
  .StoryPinText span {
    font-size: 16px;
  }
  .StoryPinText h2 {
    font-size: 24px;
  }
}
`,te=e=>{(0,b.useEffect)(()=>{(0,f.A)("StoryPinText","/app/common/react/components/auth-desktop-web-closeup/StoryPin/StoryPinText.tsx")},[]);let{blocks:l,clientTrackingParams:a,pageId:t,pinId:i,onClickThrough:n}=e;return(0,M.jsxs)(b.Fragment,{children:[(0,M.jsx)(eE.A,{unsafeCSS:a9}),(0,M.jsx)("div",{className:"StoryPinText",children:l.filter(e=>e).map((e,l)=>(0,M.jsx)(a7,{block:e,clientTrackingParams:a,onClickThrough:n,pageId:t,pinId:i},l))})]})};var tl=a(81492);let ta=eS.ul*lY.$G,tt=`
.StoryPinTextDrawer {
  background: #fff;
  border-top-left-radius: 32px;
  border-top-right-radius: 32px;
  bottom: 0;
  box-shadow: rgba(0, 0, 0, 0.1) 0 1px 20px 0;
  box-sizing: border-box;

  height: auto;
  max-height: 15%;
  opacity: 0.625;
  position: absolute;
  transition: max-height 0.15s ease-in, opacity 0.15s ease-in;
  width: 100%;
}

.StoryPinTextDrawer:hover {
  max-height: 70%;
  opacity: 1;
  overflow: scroll;
}
`;function ti(e){(0,b.useEffect)(()=>{(0,f.A)("StoryPinMediaLayout","/app/common/react/components/auth-desktop-web-closeup/StoryPin/StoryPinMediaLayout.tsx")},[]);let l=(0,O.A)(),{activePageIndex:a,clientTrackingParams:t,hideText:i,isActive:n,isCoverPage:s,muteVideos:r,onClickThrough:o,page:{image_adjusted:d,image:u,blocks:c,video:p,id:g},pageIndex:m,pageWidth:h,pin:y,pinId:_}=e,{images:v={}}=d||u||{},k=v["750x"],{video_list:x={}}=p||{},S=x.V_HLSV3_MOBILE||x.V_720P;if(!k&&!S)return null;let P=h/eS.ul;return(0,M.jsxs)(b.Fragment,{children:[!!p&&!!S&&(0,M.jsx)(tl.A,{activePageIndex:a,blockHeight:ta*P,blockWidth:eS.ul*P,isPlaying:n,muted:r,pageIndex:m,pin:y,pinId:_,video:p}),k&&k.url&&!S&&(0,M.jsx)(C._V,{alt:function(e){let l="";for(let a of e.blocks??[])[1,0].includes(a.block_type)&&(l="text"in a&&a.text?a.text:"");return l??""}(e.page)||l._('Story pin image', 'Alt text for story pin image', 'Alt text for story pin image'),fit:s?"cover":"contain",naturalHeight:k.height??1,naturalWidth:k.width??1,src:k.url}),c&&c.length>0&&!i&&(0,M.jsxs)(b.Fragment,{children:[(0,M.jsx)(eE.A,{unsafeCSS:tt}),(0,M.jsx)("div",{className:"StoryPinTextDrawer",children:(0,M.jsx)(te,{blocks:c,clientTrackingParams:t,onClickThrough:o,pageId:g,pinId:_})})]})]})}let tn=e=>{(0,b.useEffect)(()=>{(0,f.A)("StoryPinSplitLayout","/app/common/react/components/auth-desktop-web-closeup/StoryPin/StoryPinSplitLayout.tsx")},[]);let{page:{image_adjusted:l,blocks:a}}=e,{images:t={}}=l||{},i=t["750x"];if(!i)return null;let{width:n,height:s}=i;return(0,M.jsx)(b.Fragment,{children:i&&i.url&&(0,M.jsx)(C._V,{alt:(a??[]).map(e=>e.text||"").join(),fit:"contain",naturalHeight:s??1,naturalWidth:n??1,src:i.url})})};var ts=a(413727),tr=a(889089),to=a(808571);function td({children:e,clientTrackingParams:l,closeupStoryPinViewability:a,pin:t,productPins:i,viewParameter:n,viewType:s}){let{previous:r,forward:o}=(0,aC.qD)(),d=0===r.length&&0===o.length,u=(0,to.g)();return(0,M.jsx)(tr.B,{closeupPaneWidth:eQ.qr,headerHeight:u,isLandingPage:d,loadFonts:ts.A,productPins:i,renderStoryPinMediaLayout:({activePageIndex:e,hideText:a,isActive:i,isCoverPage:n,muteVideos:s,onClickThrough:r,page:o,pageIndex:d,pageWidth:u,pinId:c})=>(0,M.jsx)(ti,{activePageIndex:e,clientTrackingParams:l,hideText:a,isActive:i,isCoverPage:n,muteVideos:s,onClickThrough:r,page:o,pageIndex:d,pageWidth:u,pin:t,pinId:c}),renderStoryPinPage:({activePageIndex:e,customEndCard:i,fontsLoaded:r,isActive:o,muteVideos:d,onEnded:u,onFlyoutOpen:c,onUpdateVideoInfo:p,page:g,pageAspectRatio:m,pageHeight:h,pageWidth:y,ownerId:_,pinId:v,productPins:k,shouldLogTimeSpent:f,stillLoading:b,videoPinProgress:x})=>(0,M.jsx)(al,{activePageIndex:e,clientTrackingParams:l,closeupStoryPinViewability:a,customEndCard:i,fontsLoaded:r,isActive:o,muteVideos:d,onEnded:u,onFlyoutOpen:c,onUpdateVideoInfo:p,ownerId:_,page:g,pageAspectRatio:m,pageHeight:h,pageIndex:e,pageWidth:y,pin:t,pinId:v,productPins:k,shouldLogTimeSpent:f,stillLoading:b,videoPinProgress:x,viewParameter:n,viewType:s}),renderStoryPinSplitLayout:({page:e})=>(0,M.jsx)(tn,{page:e}),renderStoryPinText:({blocks:e,onClickThrough:a,pageId:t,pinId:i})=>(0,M.jsx)(te,{blocks:e,clientTrackingParams:l,onClickThrough:a,pageId:t,pinId:i}),children:e})}function tu({clientTrackingParams:e,children:l,isInStream:a,viewType:t,viewParameter:i}){return a?l:(0,M.jsx)(ae.A,{clientTrackingParams:e,component:85,view:t,viewParameter:i,children:l})}function tc({children:e,pin:l}){return e({productPins:(0,at.A)({url:"/v3/storypins/{pin}/products/",params:{pin:l.id,fields:ao},noCache:!0}).data||[]})}function tp({children:e,clientTrackingParams:l,closeupStoryPinViewability:a,pin:t,isInStream:i=!1,viewType:n,viewParameter:s}){(0,b.useEffect)(()=>{(0,f.A)("DesktopStoryPinContextProvider","/app/common/react/components/auth-desktop-web-closeup/StoryPin/DesktopStoryPinContextProvider.tsx")},[]);let r=!!t.story_pin_data?.has_product_pins,o=({productPins:i})=>(0,M.jsx)(td,{clientTrackingParams:l,closeupStoryPinViewability:a,pin:t,productPins:i,viewParameter:s,viewType:n,children:e});return(0,M.jsx)(tu,{clientTrackingParams:l,isInStream:i,viewParameter:s,viewType:n,children:r?(0,M.jsx)(tc,{pin:t,children:o}):o({productPins:[]})})}a(733577);var tg=a(766675),tm=a(901738),th=a(67765);function ty({appConfig:e}){(0,b.useEffect)(()=>{(0,f.A)("IdeaPinActions","/app/packages/story-pin/Closeup/IdeaPinActions.tsx")},[]);let l=(0,O.A)(),a=(0,th.A)(),{isRTL:t}=(0,eU._8)();return(0,M.jsx)(b.Fragment,{children:(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{marginTop:16}},"data-test-id":"back-button",left:!t,paddingX:4,position:"absolute",right:t,top:!0,children:"authDesktop"===e.type&&(0,M.jsx)(C.K0,{accessibilityLabel:l._('Back button', 'storyPin.closeup.back', 'Button label to navigate to previous page'),bgColor:"transparent",icon:"arrow-left",iconColor:"default",onClick:()=>{a({action:"click",item:"back-button"}),e.onNavigateBack()},size:"lg"})})})}var t_=a(48180);let tv=(0,b.lazy)(()=>a.e("29463").then(a.bind(a,478541))),tk=(0,b.lazy)(()=>Promise.resolve().then(a.bind(a,436344))),tf=(0,b.lazy)(()=>Promise.all([a.e("83578"),a.e("60669")]).then(a.bind(a,521268))),tb=(0,b.lazy)(()=>Promise.all([a.e("91796"),a.e("23102")]).then(a.bind(a,267707))),tx=(0,b.lazy)(()=>Promise.resolve().then(a.bind(a,991205))),tS={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"32px 32px 0 0"},tP={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"0 0 32px 32px",bottom:0},tw={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",borderRadius:"32px 32px 0 0",paddingTop:"30px",top:0},tA=[5,6,2];function tC({appConfig:e,clientTrackingParams:l,isInFocus:a,isInStream:t=!1,isStreamMuted:i,isStreamPanelOpen:n=!0,pin:s,storyPinData:r,onIdeaPinCloseupCommentClick:o,setStreamIsMuted:d,streamItemIndex:u,togglePanel:c,variant:p,viewType:g=3,viewParameterType:m,onTogglePanel:h}){let y,_=(0,tr.v)(),{peekCloseupEnabled:v,viewportSize:k}=(0,J._G)(),f=(0,O.A)(),x=(0,lx.A)(),S=(0,l2.d)(),P=(0,l3.Y)(),{setIdeaPinActivePage:w,setIdeaPinDynamicWidth:A}=(0,l4.jD)(),{activePage:F}=(0,l4.MA)(),{clearSeekTime:I}=(0,l5.d1)(),{seekTimes:T}=(0,l5.S_)(),{closeupPaneWidth:K,headerHeight:L,isLandingPage:j,renderStoryPinMediaLayout:R,renderStoryPinPage:z,renderStoryPinSplitLayout:D,renderStoryPinText:E,productPins:B}=_||{},{id:V}=s,U=T&&T[s.id],N=!!r?.is_deleted,{pages:W=[],metadata:H={}}=r||{},{canvas_aspect_ratio:G,version:$}=H,Q=G??lY.$G,[X,q]=(0,b.useState)(0),Y=(0,b.useRef)(0),Z=(0,b.useRef)(null),[ee,el]=(0,b.useState)("closeup"===p&&a),[ea,et]=(0,b.useState)(375),ei="calc(100% - 32px)",en=(0,b.useRef)(null),[es,er]=(0,b.useState)(!1),[eo,ed]=(0,b.useState)(!1),[eu,ec]=(0,b.useState)(!0);(0,b.useEffect)(()=>{h&&h(eu)},[eu,h]),(0,b.useEffect)(()=>{ec(n)},[n]);let{should_mute:ep=!0,music_attributions:eg=[]}=W[X],[em,eh]=(0,b.useState)(j||ep),ey=void 0!==d?d:eh,ek=void 0!==i?i:em;(0,b.useEffect)(()=>{ep&&ey(!0)},[ep,ey]);let ef=W.filter(e=>void 0===e.layout||!tA.includes(e.layout)),eb=ef.length,ex=ef[X],eP=m||(0,ev.A)({hasPin:!!s,hasPinRichMetadata:!!s.rich_metadata,hasPinRichMetadataProducts:!!s.rich_metadata?.products,hasPinRichMetadataArticle:!!s.rich_metadata?.article,hasPinRichMetadataRecipe:!!s.rich_metadata?.recipe,hasPinStoryPinData:!!s.story_pin_data}),ew=(L??0)+64,{getNormalizedPinImage:eA}=(0,tm.A)({pinKey:{type:"Legacy",data:s},maxWidth:446}),eC="closeup"===p,eF=()=>{if("u">typeof window){let e=window.innerWidth-(eu?K??0:0)-216;if(eC)et(function({availableWidth:e,pageAspectRatio:l,unavailableHeight:a,windowInnerHeight:t}){let i=t-a,n=Math.min(Math.max(650,Math.min((t-a)*l,e)),1e3);return n/l>=i&&(n=i*l),n}({availableWidth:e,pageAspectRatio:Q,unavailableHeight:ew,windowInnerHeight:window.innerHeight}));else{let{width:e}=eA();et(e),A(e)}}};(0,lo.A)(()=>(window.addEventListener("resize",eF),eF(),()=>{window.removeEventListener("resize",eF)}));let[eI,eT]=(0,b.useState)(!1),[eK,eL]=(0,b.useState)(null),[ej,eM]=(0,b.useState)(!1);(0,b.useEffect)(()=>{!ej&&a&&(x({event_type:7588,view_type:g,view_parameter:eP,component:13801,object_id_str:V,aux_data:{..."number"==typeof u?{grid_index:u}:{}}}),eM(!0))},[ej,a,x,V,g,eP,u]);let eR=(0,b.useCallback)(e=>{let{blocks:l}=W[e]||{},t=l?.find(e=>3===e.block_type);en.current&&en.current instanceof l6.M4&&(en.current.clear(),en.current=null),!t&&a&&(en.current=new l6.M4(e=>{eL({currentTime:e<1?e:1,duration:1})},()=>{let l="closeup"===p?e:F;l<eb-1?(en.current&&en.current instanceof l6.M4&&(en.current.clear(),en.current=null),eB(l+1)):(er(!0),el(!1))},e_.L9))},[a,eb,W,F,p]),ez=e=>{eL({currentTime:0,duration:1}),eR(e)};(0,b.useEffect)(()=>{Y.current=X},[X]),(0,b.useEffect)(()=>{Z.current=ee},[ee]),(0,lo.A)(()=>(ez(X),()=>{en.current&&en.current instanceof l6.M4&&Z.current&&en.current.clear()}));let eE=e=>{P&&(P.abort("startNewPwt"),(0,lC.Qj)("startStoryPinStepPwt")),S&&(S.abort("startNewPwt"),S.start(),S.addBinaryAnnotation("page.current.index",e,"I16"),S.addBinaryAnnotation("page.count",W.length,"I16"),S.addBinaryAnnotation("view.type",g,"I32"),S.addBinaryAnnotation("view.parameter",eP,"I32"))};(0,lo.A)(()=>{P&&(P.addBinaryAnnotation("page.current.index",X,"I16"),P.addBinaryAnnotation("page.count",W.length,"I16"),P.addBinaryAnnotation("view.type",g,"I32"),P.addBinaryAnnotation("view.parameter",eP,"I32")),(0,lC.tL)("page.current.index",X,"I16"),(0,lC.tL)("page.count",W.length,"I16"),(0,lC.tL)("view.type",g,"I32"),(0,lC.tL)("view.parameter",eP,"I32")});let eB=e=>{ee||el(!0),es&&er(!1),ez(e),e!==X&&I(),q(e),w(e),eE(e)};(0,b.useEffect)(()=>{if(es&&er(!1),en.current&&U){let e=en.current;e.pause(),e.remaining=e_.L9-1e3*U,eL({currentTime:U/e_.je,duration:1})}},[U]),(0,b.useEffect)(()=>{w(F)},[w,F]),(0,b.useEffect)(()=>{"related-products"===p&&(q(F),eB(F))},[F,p]);let eV=()=>es?13799:0===X?227:228,eO=()=>{X<eb-1&&(eB(X+1),x({event_type:101,view_type:g,view_parameter:eP,component:eV(),element:12261,object_id_str:V}))},eU=e=>{let{keyCode:l,target:a}=e,t=!!a&&"isContentEditable"in a&&a.isContentEditable||!!a&&"contentEditable"in a&&"true"===a.contentEditable;37!==l||t?39!==l||t||eO():X===eb-1&&es?(eB(X),x({event_type:101,view_type:g,view_parameter:eP,component:eV(),element:12260,object_id_str:V})):X>0&&(eB(X-1),x({event_type:101,view_type:g,view_parameter:eP,component:eV(),element:12260,object_id_str:V}))};(0,b.useEffect)(()=>(document.addEventListener("keydown",eU),()=>document.removeEventListener("keydown",eU)),[X]);let{fontsLoaded:eW,mediaDataReceived:eH}=(0,ar.Gl)({hasPin:!!s,pages:W}),eG=$?(0,l6.Zy)($,"0.8.0"):null,e$=null!=eG&&eG>=0,eQ=e=>{e===eb-1&&(er(!0),el(!1),w(0)),e===X&&eO()},eX=e=>{eL({currentTime:e?.currentTime??0,duration:e?.duration??1})},eq=()=>{ed(!0),el(!1),en.current&&!en.current.paused&&en.current.pause()},eJ=l=>W[l]?e$?z?.({activePageIndex:X,fontsLoaded:eW,customEndCard:!0,isActive:l===X&&ee,muteVideos:ek,onChangeMuteVideo:ey,onEnded:eQ,onFlyoutOpen:eq,videoPinProgress:X===l?eK:void 0,onUpdateVideoInfo:eX,ownerId:s.native_creator?.id??"",page:W[l],pageAspectRatio:Q,pageIndex:l,pageHeight:ea/Q,pageWidth:ea,pinId:s.id,productPins:B,shouldLogTimeSpent:a,stillLoading:!eH}):(l=>{let a=l?.layout===0;switch(l?.layout){case 0:case 1:return R?.({activePageIndex:X,hideText:a,isActive:!0,isCoverPage:a,muteVideos:ek,onClickThrough:e.onClickThrough,page:l,pageIndex:X,pageWidth:ea,pinId:V});case 4:return(l?.blocks?.length??0)>0&&E?.({blocks:l?.blocks??[],pageId:`text-${X}`,page:l,pinId:V,onClickThrough:e.onClickThrough});case 3:return D?.({page:l});default:return null}})(ex):null,eY=()=>{el(!1),en.current&&en.current.pause(),x({event_type:9324,view_type:g,view_parameter:eP,component:eV(),object_id_str:V,aux_data:{story_pin_page_id:X}})},eZ=()=>{if(el(!0),en.current){let e=en.current;U&&U>0&&I(),e.resume()}else eK||ez(X);x({event_type:9323,view_type:g,view_parameter:eP,component:eV(),object_id_str:V,aux_data:{story_pin_page_id:X}})},e0=()=>{es||(ed(!1),ee?eY():eZ())};(0,b.useEffect)(()=>{"closeup"===p&&(!a||es||ee?!a&&ee&&eY():eZ())},[a,p]),(0,b.useEffect)(()=>{"related-products"===p&&eY()},[]);let e1=()=>{eB(0)},{fiftyPercentWidth:e3,fiftyPercentHeight:e2}=(0,eS.Vc)(64),{maxHeight:e5}=(0,eS.Vc)(0,32),{fiftyPercentWidth:e6}=(0,eS.Vc)();return v&&(y="sm"===k?e2:e5),(0,M.jsxs)(C.az,{dangerouslySetInlineStyle:{__style:eC?{top:L,height:`calc(100vh - ${L}px)`,position:"sticky",pointerEvents:"none",minHeight:632,maxHeight:v?y:void 0,zIndex:eu?"auto":3}:{}},display:"flex",left:!0,children:[(0,M.jsxs)(C.az,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",minWidth:v&&"sm"!==k?e6:void 0}},display:"flex",flex:"grow",justifyContent:"center",position:"relative",children:[eC&&(0,M.jsx)(C.az,{bottom:!0,color:"secondary",left:!0,position:"absolute",right:!0,top:!0}),N?(0,M.jsx)(an,{height:ea/lY.$G,rounding:lY.Tx,width:ea}):(0,M.jsxs)(b.Fragment,{children:[eH&&(0,M.jsx)(C.az,{height:1,left:!0,marginTop:-1,overflow:"hidden",position:"absolute",top:!0,width:1,children:(()=>{let e=[];for(let l=1;l<=W.length;l+=1)X+l<W.length&&e.push(eJ(X+l));return e})()}),(0,M.jsx)(C.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:eC?void 0:`${lY.Qf}px`}},display:"flex",onMouseLeave:()=>{eT(!1)},onMouseOver:()=>eT(!0),position:"relative",children:(0,M.jsxs)(C.az,{paddingX:4,children:[(0,M.jsx)(C.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{...tP,flexDirection:"column-reverse"}},display:"flex",height:128,paddingX:6,position:"absolute",width:ei,zIndex:lY.xx,children:(0,M.jsx)(as.A,{activePageIndex:X,handleMute:()=>{ep||ey(!ek)},handlePanelChange:()=>{ec(!eu)},handlePause:eY,handlePausePlay:e0,handlePlay:eZ,handleVideoScrubbingNewPage:e=>{es&&er(!1),ez(e),q(e),w(e),eE(e)},handleWatchAgain:e1,inMilliseconds:!0,isMuted:ek,isPanelOpen:eu,isPlaying:ee,onPageSelect:e=>eB(e),pinKey:{type:"Legacy",data:s},progressInfo:eK,showEndCard:es,showVideoControls:eI,viewParameter:eP})}),(0,M.jsx)(C.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...!eu?{paddingLeft:"26px",bottom:0}:tw,marginBottom:eu?void 0:"88px",maxWidth:e3}},"data-test-id":"music-attribution",display:"flex",justifyContent:eu?"center":"start",overflow:"hidden",paddingY:eu?5:void 0,position:"absolute",width:ea,zIndex:lY.xx,children:(0,M.jsx)(lm.A,{handlePause:eY,handlePlay:eZ,musicAttributions:eg,shouldMute:ep,showEndCard:es})}),!es&&!eu&&(0,M.jsxs)(C.az,{alignItems:"start",dangerouslySetInlineStyle:{__style:eu?{}:tS},display:"flex",height:128,justifyContent:"between",padding:4,position:"absolute",top:!0,width:ei,zIndex:lY.xx,children:[(0,M.jsxs)(C.so,{alignItems:"stretch",direction:"row",children:[!eu&&(0,M.jsx)(eD.A,{name:"SafeSuspense_IdeaPinCloseup_IdeaPinSecondarySendButton",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(tx,{pinKey:{type:"Legacy",data:s}})})}),!eu&&s.is_eligible_for_aggregated_comments&&(0,M.jsx)(eD.A,{name:"SafeSuspense_IdeaPinCloseup_CommentButton",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(tv,{onCommentClick:()=>{x({event_type:101,view_type:g,view_parameter:eP,component:13801,element:10944,object_id_str:s.id}),t&&c?c():ec(!0),o&&o();let e=document.getElementById(`canonical-card-${s.id}`);e&&e.scrollIntoView({behavior:"smooth",block:"end"})}})})}),!eu&&(0,M.jsx)(eD.A,{name:"SafeSuspense_IdeaPinCloseup_ReactionPickerContainer",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,M.jsx)(tb,{clientTrackingParams:l,component:13801,iconColor:"inverse",pinId:s.id,reactionByMe:s.reaction_by_me,showTooltip:!0,viewParameter:eP,viewType:g})})})})]}),!eu&&(0,M.jsx)(eD.A,{name:"SafeSuspense_IdeaPinCloseup_PinSaveButton",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,M.jsx)(tf,{clientTrackingParams:l,isCloseupPin:!0,onClickCallback:()=>{x({event_type:101,view_type:g,view_parameter:eP,component:13801,element:0,object_id_str:s.id})},pinKey:{type:"Legacy",data:s},size:"lg"})})})})]}),(0,M.jsx)(C.az,{"data-test-id":"story-pin-closeup-container",position:"relative",children:(0,M.jsx)(C.Rp,{accessibilityLabel:ee?f._('Pause', 'storyPin.closeup.pauseButton.accessibilityLabel', 'Button label for pause tap area'):f._('Play', 'storyPin.closeup.playButton.accessibilityLabel', 'Button label for play tap area'),disabled:es,onTap:e0,rounding:lY.Tx,children:(0,M.jsxs)(C.az,{dangerouslySetInlineStyle:{__style:{maxWidth:e3,maxHeight:y}},"data-test-id":"story-pin-closeup-page",height:ea/Q,overflow:"hidden",position:"relative",rounding:lY.Tx,width:ea,children:[eJ(X),!es&&!eo&&!U&&(0,M.jsx)(ai.A,{playing:ee}),"authDesktop"===e.type&&es&&s.native_creator&&(0,M.jsx)(eD.A,{name:"IdeaPinCloseup_EndCard",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(C.az,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,rounding:lY.Tx,top:!0,zIndex:lY.ZD,children:(0,M.jsx)(tk,{clientTrackingParams:s.trackingParams||s.tracking_params,pinKey:{type:"Legacy",data:s},watchAgain:e1})})})})]})})})]})})]}),!t&&eC&&(0,M.jsx)(ty,{appConfig:e})]}),eu&&eC&&(0,M.jsx)(C.az,{flex:"none",height:"100%",position:"relative",width:K,children:"duplo"===e.type&&e.storyPinDetails})]})}function tF(e){(0,b.useEffect)(()=>{(0,f.A)("IdeaPinCloseup","/app/packages/story-pin/Closeup/IdeaPinCloseup.tsx")},[]);let{pin:l,viewType:a=3,viewParameterType:t}=e,[i,n]=(0,b.useState)({isInFocus:!0,viewability:0}),{isInFocus:s,viewability:r}=i,o=t||(0,ev.A)({hasPin:!!l,hasPinRichMetadata:!!l.rich_metadata,hasPinRichMetadataProducts:!!l.rich_metadata?.products,hasPinRichMetadataArticle:!!l.rich_metadata?.article,hasPinRichMetadataRecipe:!!l.rich_metadata?.recipe,hasPinStoryPinData:!!l.story_pin_data}),d=(0,S.zy)(),u=e.clientTrackingParams||(0,t_.A)((d?.state||{}).trackingParams,l.trackingParams||l.tracking_params);return(0,M.jsx)(l2.t,{children:(0,M.jsx)(tg.A,{onVisibilityChange:e=>{if(e&&e.length>0){let{intersectionRatio:l}=e[0];n({isInFocus:l>.5,viewability:l})}},options:{threshold:[0,.5,.8,.99,1]},children:t=>(0,M.jsx)(C.az,{ref:t,children:(0,M.jsx)(tp,{clientTrackingParams:u,closeupStoryPinViewability:r,pin:l,viewParameter:o,viewType:a,children:s?(0,M.jsx)(ae.A,{clientTrackingParams:u,component:13801,objectId:l.id,view:a,viewParameter:o,children:(0,M.jsx)(tC,{...e,isInFocus:s})}):(0,M.jsx)(tC,{...e,isInFocus:s})})})})})}var tI=a(271708);let tT=(0,eZ.A)(()=>a.e("40641").then(a.bind(a,167690)),{ssr:!1},e=>167690,"CloseupPartnerModule",e=>["40641"]),tK=(0,eZ.A)(()=>a.e("6313").then(a.bind(a,999551)),{ssr:!1},e=>999551,"SponsorshipApprovalModule",e=>["6313"]),tL=(0,b.memo)(function({permissions:e,pinId:l,sponsorshipStatus:a,creatorUsername:t}){return(0,M.jsx)(C.az,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,M.jsx)(eD.A,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,M.jsx)(tK,{business_role:e,creatorUsername:t??"",pinId:l,sponsorshipStatus:a})})})}),tj=(0,b.memo)(function({borderStyle:e,isBoostV2Enabled:l,isStoryPin:a,closeupWidth:t,isWideVideo:i,viewportSize:n,pinKey:s,showPinStats:r,trendsData:o}){return(0,M.jsx)(C.az,{"data-test-id":"PartnerModule",width:"lg"===n&&i?t:"100%",children:(0,M.jsx)(eD.A,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,M.jsx)(tT,{borderStyle:e,isBoostV2Enabled:l,isStoryPin:a,pinKey:s,showPinStats:r,trendsData:o,viewportSize:n})})})}),tM=(0,b.memo)(function({clientTrackingParams:e,closeupWithinMasonryEnabled:l,didShortClickThrough:a,executeClickthrough:t,handleBackButtonClick:i,handleCarouselSwipe:n,handleCloseupBodyContainerRef:s,handleIdeaCloseupCommentIconClick:r,handleSaveClicked:o,isCloseupMaximized:d,isEligibleForStaticImageIdeaPin:u,isLimitedLogin:c,maxWidth:p,onToggleIdeaPinCloseupPanel:g,peekCloseupEnabled:m,pin:h,pinDerivedData:y,pinResource:_,routePush:v,shopping:k,showRepinOnInitialRender:f,storyPinTaggedProducts:x,trafficSource:S,trendsData:P,updateViewportSize:A,userBusinessRoleResource:F,viewportSize:I}){let T,K=(0,eU._8)(),L=(0,lN.A)(),{checkExperiment:j}=(0,ll.A)(),R=(0,aF.A)(),{isBoostV2Enabled:z}=(0,eV.A)({isQuickPromotableByPinner:h.is_quick_promotable_by_pinner,hasBeenBoostPromoted:h.has_been_boost_promoted}),{id:D,sponsorship:E,story_pin_data_id:B,story_pin_data:V}=h,O=!!B&&!u,U=!!V?.is_deleted,{creator:N,sponsor:W,status:H}=E||{},{username:$}=N||{},{username:Q}=W||{},{refresh:X}=_,q=(0,eG.H7)(L,R),{data:J}=F||{},Y=!h.is_repin&&!!Q,Z=Q===(L.isAuth?L.username:void 0)?[aJ.Xf.OWNER]:J?.permissions,ee=(0,b.useMemo)(()=>Q===(L.isAuth?L.username:void 0)?[aJ.Xf.OWNER]:J?.permissions,[J?.permissions,Q,L]),el=Q===(L.isAuth?L.username:void 0)||!!Z?.find(e=>aY.includes(e)),ea=Q===(L.isAuth?L.username:void 0)||!!Z?.find(e=>aY.includes(e)),{isWideVideo:et}=(0,a1.A)((0,G.A)({pin:h}))||{},ei=(0,a0.A)({type:"Legacy",data:h},L,q),en=(0,w.Ac)(P?.data),es=Y&&L.isAuth&&j("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(el&&0===H||ea&&1===H),er=h.link_domain?.official_user?.username||h.native_creator?.username,eo=(0,eG.TO)(L,R)===er&&(0,eG.EL)(L,R)&&K.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,ed=O&&(V?.pages?.length??0)>0,eu=(0,aZ.r6)(L,I,ei,en,P,es);T=O?{boxShadow:void 0,borderRadius:void 0}:l?eS.qw:eS.ZL;let ec=es&&"number"==typeof H,ep=eu&&!O&&!l,eg=(0,b.useMemo)(()=>en?P?.data?.results:null,[en,P]),em=(0,b.useMemo)(()=>({type:"Legacy",data:h}),[h]);return(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:O?{...eS.Y.storyPinGradientStyle}:{}},"data-test-id":"gradient",display:"flex",flex:m?void 0:"grow",id:"gradient",justifyContent:"center",marginBottom:4*!l,width:m?void 0:"100%",children:(0,M.jsxs)(b.Fragment,{children:[ed&&V&&(0,M.jsx)(tF,{appConfig:{type:"authDesktop",onClickThrough:t,onNavigateBack:i},clientTrackingParams:e,onIdeaPinCloseupCommentClick:()=>{r(!0)},onTogglePanel:g,pin:h,storyPinData:V,variant:"closeup",viewParameterType:157,viewType:3}),(0,M.jsx)(tI.A,{isStoryPin:O,isWideVideo:et,children:(0,M.jsx)(eD.A,{name:"CloseupBody",children:(0,M.jsxs)(C.az,{ref:s,color:"default",direction:"column",display:"flex",height:"100%",width:"100%",children:[(0,M.jsxs)(C.az,{alignItems:et?"center":void 0,direction:et?"column":void 0,display:et?"flex":void 0,children:[ec&&(0,M.jsx)(tL,{creatorUsername:$,permissions:ee,pinId:D,sponsorshipStatus:H}),ep&&(0,M.jsx)(tj,{borderStyle:T,closeupWidth:p,isBoostV2Enabled:z,isStoryPin:O,isWideVideo:et,pinKey:em,showPinStats:ei,trendsData:eg,viewportSize:I})]}),(0,M.jsx)(C.az,{"data-test-id":"closeup-body",flex:"grow",children:(0,M.jsx)(lV.A,{id:"CloseupBody",children:(0,M.jsx)(aq,{clientTrackingParams:e,didShortClickThrough:a,goBack:i,handleCarouselSwipe:n,isCloseupMaximized:d,isDeletedStoryPin:!!U,isStoryPin:O,isVideoPin:y.isVideoPin,isWideVideo:!!et,onClickThrough:t,onCloseupBodyUpdate:A,onCommentSectionClick:r,onSaveButtonClick:o,onUpdate:X,outerBodyStyle:T,outerPaddingSize:eQ.bZ,pin:h,routePush:v,shopping:k,shouldShowPartnerModule:eu,shouldShowStlCarouselForOwnPin:eo,showPinStats:ei,showRepinOnInitialRender:!c&&f,showTrendsOnPinCloseup:en,storyPinTaggedProducts:x,trafficSource:S,trendsData:P,viewParameterType:ed?157:void 0,viewportSize:I,viewType:3})})})]})})})]})})});function tR(e){return(0,b.useEffect)(()=>{(0,f.A)("CloseupBodyContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupBodyContainer.tsx")},[]),(0,M.jsx)(tM,{...e})}var tz=a(219053),tD=a(971289),tE=a(937176);let tB=Math.round(303.75),tV=(void 0!==p||(p=a(454362)).hash&&"c2ed8f214ee25fd6e2c205816b07c9b9"!==p.hash&&console.error("The definition of 'BreadcrumbsUnifiedPinRepPinQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),p);function tO({index:e,pinId:l}){(0,b.useEffect)(()=>{(0,f.A)("BreadcrumbsUnifiedPinRep","/app/common/react/components/BreadCrumbs/BreadcrumbsUnifiedPinRep.tsx")},[]);let{isAuthenticated:a}=(0,eU._8)(),t=(0,tD.Ay)(),i=(0,tz.A)({strategy:"Legacy",query:tV,variables:{pinId:l,isCloseupRelatedModulesFeedQuery:!1,isAuth:a,isDesktop:"desktop"===t},useGetLegacyData:({pinId:e})=>(0,eg.A)({name:"PinResource",options:{id:e,field_set_key:"detailed"}}).data}),n=i?.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data:null;return n?(0,M.jsx)(C.az,{overflow:"hidden",rounding:300,width:243,children:(0,M.jsx)(tE.A,{hideContextMenu:!0,hideEditButton:!0,hideFavoriteButton:!0,hideSendButton:!0,parentPinKey:null,pinImageCrop:{width:243,height:tB},pinKey:n,slotIndex:e,viewType:3})}):(0,M.jsx)(C.az,{height:354,rounding:300,width:243,children:(0,M.jsx)(C.so,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,M.jsx)(C.y$,{show:!0,size:"sm"})})})}let tU={backgroundColor:"rgba(255, 255, 255)",transitionDuration:"0.3s",transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)",transitionProperty:"transform, opacity"};function tN({toggle:e,recentPins:l,l2Interest:a,isAnimatingOut:t,justifyContent:i}){var n;(0,b.useEffect)(()=>{(0,f.A)("BreadCrumbsExpanded","/app/common/react/components/BreadCrumbs/BreadCrumbsExpanded.tsx")},[]);let s=(0,O.A)(),r=(0,b.useRef)(null),[o,d]=(0,b.useState)(!1),u=(0,b.useRef)(!1),{logContextEvent:c}=(0,eR.o)(),p=(0,b.useCallback)(()=>{u.current=!0,window.setTimeout(()=>{u.current=!1},0)},[]);(0,lo.A)(()=>{d(!0)});let g=(0,b.useMemo)(()=>"start"===i?"bottom left":"end"===i?"bottom right":"bottom center",[i]),m=(0,b.useMemo)(()=>{let e=0,l=.9;return t?(e=0,l=.9):o&&(e=1,l=1),{...tU,opacity:e,transformOrigin:g,transform:`scale(${l})`}},[o,t,g]);n=e=>{"key"in e&&"Escape"===e.key?h({reason:"escape_key"}):h({reason:"outside_click"})},(0,b.useEffect)(()=>{let e=e=>{!r.current||r.current.contains(e.target)||u?.current||n(e)},l=e=>{"Escape"===e.key&&(u?.current||n(e))};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),document.addEventListener("keydown",l),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",l)}},[r,n,u]);let h=({reason:l})=>{c({event_type:101,component:15421,element:18071}),(0,aE.GV)("web.closeup.breadcrumbs.expanded.minimize",{tags:{reason:l}}),e()};return(0,M.jsx)("div",{ref:r,onMouseDownCapture:p,onTouchStartCapture:p,children:(0,M.jsxs)(C.az,{alignItems:"start",dangerouslySetInlineStyle:{__style:m},"data-test-id":"breadcrumbs-expanded",direction:"column",display:"flex",elevation:"shadowFloating",justifyContent:"start",padding:5,rounding:500,children:[(0,M.jsxs)(C.so,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,M.jsx)(C.KJ,{size:"400",weight:"bold",children:s._('Compare ideas', 'breadcrumbs.expandedCompare ideas.compareIdeas', 'Title shown when users can view recently viewed pins in the breadcrumbs')}),(0,M.jsx)(C.K0,{accessibilityLabel:s._('Close breadcrumbs', 'breadcrumbs.expanded.closeBreadcrumbs', 'Label for the button that closes the expanded breadcrumbs view'),icon:"close",iconColor:"default",onClick:()=>{h({reason:"button_click"})},size:"sm"})]}),(0,M.jsx)(C.KJ,{color:"subtle",size:"300",children:(0,U.vQ)(s._('Recently viewed {{ interestName }} ideas', 'breadcrumbs.expanded.recentlyViewedInterestIdeas', 'Subtitle shown above the list of recently viewed ideas for a specific interest in the breadcrumbs, interestName: the name of the interest category'),{interestName:a?.toLowerCase()}).join("")}),(0,M.jsx)(C.az,{marginTop:2,children:(0,M.jsx)(C.so,{gap:2,justifyContent:"between",maxWidth:"80vw",overflow:"auto",children:l.map((e,l)=>(0,M.jsx)(tO,{index:l,pinId:e.id},e.id))})})]})})}let tW={backdropFilter:"blur(4px)",backgroundColor:"rgba(255, 255, 255, 0.90)",animationDelay:"100ms",transitionDelay:"10ms",transitionDuration:".15s",transitionTimingFunction:"ease-out",transitionProperty:"transform, opacity, width",filter:"drop-shadow( 0px 0px 8px rgba(0,0,0,0.1))",shrink:0,transformOrigin:"left center",overflowX:"clip",overflowY:"visible"},tH={...tW,transform:"translateY(200px)",opacity:0},tG={...tW,transform:"translateY(0)",opacity:1,display:"flex",flexDirection:"row",alignItems:"center",gap:2,width:111,height:52},t$={...tG,width:260},tQ={...tW,transform:"translateY(0)",opacity:1},tX={border:"1px solid white",borderRadius:"16px",marginBottom:"-1px"};function tq({toggle:e,recentPins:l,shouldShow:a,showFirstTimeUI:t,isAnimatingOut:i,justifyContent:n="start"}){(0,b.useEffect)(()=>{(0,f.A)("BreadCrumbsMinified","/app/common/react/components/BreadCrumbs/BreadCrumbsMinified.tsx")},[]);let[s,r]=(0,b.useState)(!0),[o,d]=(0,b.useState)(!1),u=s||o,{logContextEvent:c}=(0,eR.o)(),p=(0,b.useRef)(void 0),g=(0,b.useCallback)(()=>{r(!0),c({event_type:105,element:18069,component:15421})},[c]),m=(0,b.useCallback)(()=>{r(!1)},[]),h=(0,b.useCallback)(()=>{d(!0)},[]),y=(0,b.useCallback)(()=>{d(!1)},[]),_=(0,b.useMemo)(()=>l.slice(0,2),[l]),[v,k]=(0,b.useState)(!1),[x,S]=(0,b.useState)(void 0),P=(0,b.useRef)(null),w=(0,lK.J)(),A=(0,O.A)();(0,b.useLayoutEffect)(()=>{P.current&&S(P.current.scrollWidth+24)},[A]),(0,b.useEffect)(()=>{k(!0)},[w]);let F=(0,b.useCallback)(()=>{void 0!==p.current&&(window.clearTimeout(p.current),p.current=void 0)},[]),I=(0,b.useCallback)(()=>{F(),p.current=window.setTimeout(()=>{r(!0)},15e3)},[F]);(0,b.useEffect)(()=>{let e=()=>{I()},l=()=>{r(!1),I(),c({event_type:110,component:15421,element:18069})};return window.addEventListener("scroll",l,{passive:!0}),window.addEventListener("mousemove",e),window.addEventListener("keydown",e),window.addEventListener("touchstart",e,{passive:!0}),I(),()=>{window.removeEventListener("scroll",l),window.removeEventListener("mousemove",e),window.removeEventListener("keydown",e),window.removeEventListener("touchstart",e),F()}},[I,F,c]),(0,b.useMemo)(()=>96,[]);let T=(0,b.useMemo)(()=>{if(i)return{...tQ,opacity:1};if(!w)return u?t$:tQ;let e=a?tG:tH;if(a&&u&&(e=t$),"end"===n){let l="translateX(0)";return e===tH?l=tH.transform:e!==tG&&e!==tQ&&(l="translateY(0)"),{...e,transform:l,opacity:v&&a?1:0,display:"flex",justifyContent:"flex-end"}}return{...e,opacity:v&&a?1:0}},[a,w,v,i,u,n]),K=(0,b.useCallback)(()=>{c({event_type:101,component:15421,element:18069}),e()},[e,c]),L=(0,b.useCallback)(e=>{switch(e){case 0:return{...tX,rotate:"-8deg",transform:"translateX(8px)"};case 1:return{...tX,rotate:"8deg",transform:"translateX(-8px)"};default:return{...tX}}},[]);return(0,M.jsx)(C.Rp,{accessibilityLabel:A._('Recently viewed Pins', 'breadcrumbs.minified.recentlyViewedPins', 'Accessibility label for the breadcrumbs minified component'),onBlur:y,onFocus:h,onMouseEnter:g,onMouseLeave:m,onTap:K,rounding:400,tapStyle:"compress",children:(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:T},"data-test-id":"breadcrumbs-minified",direction:"column",display:"flex",elevation:"shadowFloating",height:52,justifyContent:"center",paddingX:3,paddingY:2,position:"relative",role:"button",rounding:400,width:u?x??232:111,children:(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{left:7}},left:!0,position:"absolute",children:(0,M.jsxs)(C.az,{ref:P,alignItems:"center",display:"flex",children:[(0,M.jsx)(C.so,{justifyContent:"between",children:_.map(({images:e,id:l},a)=>{let t=e["236x"],i=t?.url;return(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{...L(a),...i?{borderRadius:15,background:`url(${t?.url})`,backgroundSize:"cover",backgroundPosition:"center",boxShadow:"0 1.5px 6px 0 rgba(0, 0, 0, 0.20)"}:{}}},height:72,width:48,zIndex:new C.rk(2-a)},l)})}),(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{opacity:+!!u,transition:"opacity 0.3s ease-in"}},"data-test-id":"breadcrumbs-minified-label",marginStart:2,children:(0,M.jsx)(C.KJ,{overflow:"noWrap",size:"300",weight:"bold",children:A._('Compare products', 'breadcrumbs.expanded.compareProducts', 'Title shown when users can compare recently viewed products in the breadcrumbs')})})]})})})})}function tJ({l2Interest:e,onOpenExpanded:l,onDismiss:a}){(0,b.useEffect)(()=>{(0,f.A)("BreadCrumbsPopover","/app/common/react/components/BreadCrumbs/BreadCrumbsPopover.tsx")},[]);let t=(0,O.A)();return(0,M.jsx)(C.az,{color:"default","data-test-id":"breadcrumbs-popover",elevation:"shadowFloating",height:"fit-content",padding:4,rounding:400,width:250,children:(0,M.jsxs)(C.so,{alignItems:"end",direction:"column",gap:4,height:"100%",justifyContent:"between",children:[(0,M.jsxs)(C.so,{alignItems:"start",direction:"row",gap:2,justifyContent:"between",children:[(0,M.jsx)(C.KJ,{size:"300",children:(0,U.vQ)(t._('Looking for the perfect {{ interestName }}?', 'breadcrumbs.popover.title', 'Title for breadcrumbs popover asking about interest'),{interestName:e?.toLowerCase()}).join("")}),(0,M.jsx)(C.K0,{accessibilityLabel:t._('Dismiss', 'breadcrumbs.popover.dismissButton', 'Dismiss button for breadcrumbs popover'),icon:"close",onClick:a,size:"sm"})]}),(0,M.jsx)(C.$n,{color:"primary",onClick:l,size:"md",text:t._('Compare ideas', 'breadcrumbs.popoverCompare ideas.compareIdeas', 'Primary action to open expanded breadcrumbs')})]})})}var tY=a(706114),tZ=a(998556);function t0(e){return!!e&&"object"==typeof e&&"string"==typeof e.l2Interest&&"number"==typeof e.encounteredAt&&(null===e.dismissedAt||"number"==typeof e.dismissedAt)}function t1({l2Interest:e,pinId:l,enabled:a=!0}){let t=(0,b.useMemo)(()=>a&&e?{url:"/v3/users/me/recent/engaged/pin/stories/",params:{pin_preview_count:5,l2_interest:e,fields:"pin.description,pin.id,pin.images[236x]"},enabledRouteRefresh:!0,noCache:!0}:null,[a,e]),{data:i,refresh:n,isFetching:s,isLoaded:r}=(0,at.A)(t);return{recentPins:(0,b.useMemo)(()=>{if(!i||!Array.isArray(i))return[];let e=i?.find(e=>"user_recently_viewed_pins"===e.story_type)?.objects?.map(({id:e,images:l,description:a})=>({images:l,id:e,label:a,url:`/pin/${e}`}))||[],a=i?.find(e=>"user_recently_saved_pins"===e.story_type)?.objects?.map(({id:e,images:l,description:a})=>({images:l,id:e,label:a,url:`/pin/${e}`}))?.filter(l=>!e.some(e=>e.id===l.id))||[];return[...e,...a].filter(e=>e.id!==l).slice(0,4)},[i,l]),refresh:n,isFetching:s,isLoaded:r}}var t3=a(406661),t2=a(75840),t5=a(845754);function t6({l2Interest:e,pinId:l,justifyContent:a="start",minifiedVariant:t="default"}){(0,b.useEffect)(()=>{(0,f.A)("BreadCrumbs","/app/common/react/components/BreadCrumbs/BreadCrumbs.tsx")},[]);let[i,n]=(0,b.useState)(!1),[s,r]=(0,b.useState)(!1),[o,d]=(0,b.useState)(!1),[u,c]=(0,b.useState)(!1),{popoverDismissed:p,setPopoverDismissed:g,handlePopoverDismiss:m}=function({l2Interest:e}){let[l,a]=(0,b.useState)(()=>{if(!e)return!0;let l=null;try{l=(0,tZ.y1)().getItem(tY.mm)||null}catch{(0,aE.GV)("web.closeup.breadcrumbs.localStorage_errors",{tags:{operation:"getItem"}})}return!!(l&&t0(l))&&l.l2Interest===e&&null!==l.dismissedAt});(0,b.useEffect)(()=>{if(!e)return;let t=null;try{t=(0,tZ.y1)().getItem(tY.mm)||null}catch{(0,aE.GV)("web.closeup.breadcrumbs.localStorage_errors",{tags:{operation:"getItem"}})}if(t&&t0(t)&&t.l2Interest===e){let e=null!==t.dismissedAt;e!==l&&a(e);return}let i={l2Interest:e,encounteredAt:Date.now(),dismissedAt:null};try{(0,tZ.y1)().setItem(tY.mm,i)}catch{(0,aE.GV)("web.closeup.breadcrumbs.localStorage_errors",{tags:{operation:"setItem"}})}!1!==l&&(a(!1),(0,aE.GV)("web.closeup.breadcrumbs.popover.resurfaced",{tags:{l2_interest:e}}))},[e,l]);let t=(0,b.useCallback)(()=>{a(!0),(0,aE.GV)("web.closeup.breadcrumbs.popover.dismissed",{tags:{l2_interest:e}});try{let l=(0,tZ.y1)().getItem(tY.mm)||null,a=t0(l)?{...l,dismissedAt:Date.now()}:{l2Interest:e||"",encounteredAt:Date.now(),dismissedAt:Date.now()};(0,tZ.y1)().setItem(tY.mm,a)}catch{(0,aE.GV)("web.closeup.breadcrumbs.localStorage_errors",{tags:{operation:"setItem"}})}},[e]);return{popoverDismissed:l,setPopoverDismissed:a,handlePopoverDismiss:t}}({l2Interest:e}),h=(0,b.useRef)(null),{logContextEvent:y}=(0,eR.o)(),{experience:_}=(0,t3.A)(12),{checkExperiment:v}=(0,ll.A)(),k=v("closeup_dweb_breadcrumbs_by_vertical",{dangerouslySkipActivation:!0});(0,lo.A)(()=>{let e=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(e)}),(0,lo.A)(()=>{y({event_type:120,component:15421}),_?.experience_id===507740&&c(!0)});let{recentPins:x,refresh:S,isFetching:P,isLoaded:w}=t1({l2Interest:e,pinId:l,enabled:k.anyEnabled});(0,b.useEffect)(()=>{S()},[l,S]),(0,b.useEffect)(()=>{(0,aE.GV)(`web.closeup.breadcrumbs.displayed_pins.${x.length}`,{sampleRate:.1})},[x.length]);let A=(0,b.useCallback)(()=>{c(!1),i?(d(!0),setTimeout(()=>{n(!1),d(!1),"popover"===t&&g(!1)},300)):n(!0)},[i,t,g]),F=(0,b.useMemo)(()=>({toggle:A,recentPins:x,shouldShow:s,l2Interest:e||"",isAnimatingOut:o,showFirstTimeUI:u,justifyContent:a}),[A,x,s,e,o,u,a]);if(!e)return(0,aE.GV)("web.closeup.breadcrumbs.render.null",{tags:{reason:"no_l2_interest",variant:k.group},sampleRate:.1}),null;if(!v("closeup_dweb_breadcrumbs_by_vertical").anyEnabled)return null;if(x.length<3)return(0,aE.GV)("web.closeup.breadcrumbs.render.null",{tags:{reason:"insufficient_pins",variant:k.group,l2_interest:e},sampleRate:.1}),null;if(P||!w)return null;function I({id:e}){return(0,t2.A)(e?{name:"PinResource",options:{id:e,field_set_key:"detailed"}}:null),null}return(0,aE.GV)("web.closeup.breadcrumbs.render.non_null",{tags:{variant:k.group,l2_interest:e},sampleRate:.1}),(0,M.jsx)(eD.A,{name:"BreadCrumbs",children:(0,M.jsxs)(eN.A,{children:[(0,M.jsxs)(C.az,{position:"relative",children:[(0,M.jsx)(I,{id:x[0]?.id}),(0,M.jsx)(I,{id:x[1]?.id}),(0,M.jsx)(I,{id:x[2]?.id}),(0,M.jsx)(I,{id:x[3]?.id}),(!i||o)&&("popover"===t?(0,M.jsx)(C.az,{ref:h,bottom:!0,left:!0,position:"absolute",children:"end"===a?(0,M.jsx)(C.az,{position:"relative",width:111,children:(0,M.jsx)(C.az,{bottom:!0,position:"absolute",right:!0,children:!p&&(0,M.jsx)(tJ,{l2Interest:e,onDismiss:m,onOpenExpanded:A})})}):!p&&(0,M.jsx)(tJ,{l2Interest:e,onDismiss:m,onOpenExpanded:A})}):(0,M.jsx)(C.az,{ref:h,bottom:!0,left:!0,position:"absolute",children:"end"===a?(0,M.jsx)(C.az,{position:"relative",width:111,children:(0,M.jsx)(C.az,{bottom:!0,position:"absolute",right:!0,children:(0,M.jsx)(tq,{...F})})}):(0,M.jsx)(tq,{...F})})),(i||o)&&(0,M.jsxs)(b.Fragment,{children:["start"===a&&(0,M.jsx)(C.az,{bottom:!0,left:!0,position:"absolute",zIndex:new C.rk(1),children:(0,M.jsx)(tN,{...F})}),"end"===a&&(0,M.jsx)(C.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{transform:"translateX(111px)"}},position:"absolute",right:!0,children:(0,M.jsx)(tN,{...F})}),"center"===a&&(0,M.jsx)(C.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{left:"50%",transform:"translateX(calc(-50% + 116px))"}},position:"absolute",zIndex:new C.rk(1),children:(0,M.jsx)(tN,{...F})})]})]}),(0,M.jsx)(C.Wd,{zIndex:t5.dL,children:(0,M.jsx)(lU.X$,{anchors:{3022:h.current},idealDirection:"up",onAnchorTouch:"complete",placementId:12,scrollToDismiss:!0})})]})})}var t4=a(422411);let t8=new Set(["enabled","enabled_with_metadata","employees"]),t7=new Set(["enabled_without_metadata","enabled_relaxed"]);var t9=a(284966),ie=a(355272),il=a(821017),ia=a(778417);function it({activateExperiment:e,pin:l,experimentGroup:a=""}){(0,b.useEffect)(()=>{(0,f.A)("CompareEntrypoint","/app/www/pages/compare/components/CompareEntrypoint.tsx")},[]);let t=(0,S.Zp)(),[i,n]=(0,b.useState)(!1),[s,r]=(0,b.useState)(!1);(0,b.useEffect)(()=>{r(!0)},[]);let o=l?.l2_dominant_interest?.label,{recentPins:d,refresh:u,isLoaded:c}=t1({l2Interest:o,pinId:l?.id});(0,b.useEffect)(()=>{u()},[l?.id,u]);let p=(0,b.useMemo)(()=>{if(!l)return[];let e=function(e){if(!e?.id)return null;let l=(0,ia.Ax)(e,"236x");if(!l)return null;let a=e.images?.["236x"],t={"236x":{url:l,height:a?.height||0,width:a?.width||0}};return{id:e.id,url:`/pin/${e.id}`,label:e.description||e.title||"",images:t}}(l);return e?[e,...d]:[]},[l,d]);(0,lo.A)(()=>{let e=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(e)});let g=!!o,m=p.length>=2,h=m&&g,y=l?.type||"unknown",_=!!l?.images?.["236x"]?.url,[v,k]=(0,b.useState)(!1);c&&!v&&(k(!0),(0,aE.GV)("closeup.dweb.comparison_tool.has_recent_pins",{sampleRate:1,tags:{experiment_group:a,has_pins:m,recent_pins_count:p.length,has_l2_interest:g,pin_type:y}}),h||(0,aE.GV)("closeup.dweb.comparison_tool.entrypoint_ineligible",{sampleRate:1,tags:{experiment_group:a,reason:g?"insufficient_recent_pins":"no_l2_interest",recent_pins_count:p.length,has_l2_interest:g,pin_type:y}}));let[x,P]=(0,b.useState)(!1);h&&!x&&(P(!0),e(),(0,aE.GV)("closeup.dweb.comparison_tool.entrypoint_visible",{sampleRate:1,tags:{experiment_group:a,recent_pins_count:p.length,pin_type:y,has_pin_image:_}}),(0,aE.GV)("closeup.dweb.comparison_page.entrypoint_rendered",{sampleRate:1,tags:{experiment_group:a,recent_pins_count:p.length}}));let w=(0,b.useCallback)(()=>{l?.id&&((0,aE.GV)("closeup.dweb.comparison_page.entrypoint_clicked",{sampleRate:1,tags:{experiment_group:a,pointer_type:"mouse",recent_pins_count:p.length,pin_type:y}}),t(`/comparison/select/${l.id}?from=entrypoint`,{replace:!0}))},[l?.id,t,a,p.length,y]);if(!h)return null;let A={transform:s&&i?"translateY(0)":"translateY(200px)",opacity:s&&i?1:0,transition:`transform 800ms ${il.AT}, opacity 800ms ease-out`};return(0,M.jsxs)(b.Fragment,{children:[(0,M.jsx)(eE.A,{unsafeCSS:`
          .compare-entrypoint-wrapper {
            will-change: transform;
          }
        `}),(0,M.jsx)("div",{className:"compare-entrypoint-wrapper",style:A,children:(0,M.jsx)(tq,{justifyContent:"start",l2Interest:o||"",recentPins:p,shouldShow:i,toggle:w})})]})}var ii=a(788446);function is({pin:e,pinResource:l,topLevelTrafficSource:a,firstLoadComplete:t,relatedModulesContent:i,onWrapperClick:n,beforeBodyContent:s,afterBodyContent:r,isVideoPin:o,bodyContent:d,backButton:u}){(0,b.useEffect)(()=>{(0,f.A)("CloseupContent","/app/common/react/components/auth-desktop-web-closeup/CloseupContent.tsx")},[]);let c=(0,l3.Y)(),{closeupWithinMasonryEnabled:p,peekCloseupEnabled:g,viewportSize:m}=(0,J._G)(),{mainImage:h}=(0,B.M)(),{sideBySideRedesignFastFollowsEnabled:y}=(0,eI.A)(),_=(0,to.g)(),v=(0,ii.A)(),{isAuth:k}=(0,lN.A)(),{checkExperiment:x}=(0,ll.A)(),[S,P]=(0,b.useState)(!1),[w,A]=(0,b.useState)(!1),F=x("closeup_dweb_breadcrumbs_by_vertical",{dangerouslySkipActivation:!0}),I="start";"enabled_middle"===F.group?I="center":("enabled_right"===F.group||"enabled_popover"===F.group)&&(I="end");let K="enabled_popover"===F.group?"popover":"default",L=(0,T.A)({showProductDetailPage:!!e.is_eligible_for_pdp}),{anyEnabled:j,requiresMetadata:R,experimentGroup:z,activateExperiment:D}=(({skipExpActivation:e=!1}={})=>{let{checkExperiment:l}=(0,ll.A)(),a=(0,tD.qJ)(),{isAuthenticated:t}=(0,eU._8)(),i=(0,b.useCallback)(()=>{t&&a&&l("closeup_dweb_comparison_page")},[l,t,a]);if(!t||!a)return{anyEnabled:!1,group:"",requiresMetadata:!0,experimentGroup:"",activateExperiment:i};let n=l("closeup_dweb_comparison_page",e?{dangerouslySkipActivation:!0}:{}),s=n.group||"",r=t8.has(s)||!t7.has(s);return{anyEnabled:n.anyEnabled,group:n.group,requiresMetadata:r,experimentGroup:s,activateExperiment:i}})({skipExpActivation:!0}),E=(0,t4.c)(e),V=E.isComplete,O=!!e?.l2_dominant_interest?.label,U=!!e?.id,N=!R||V,W=[E.hasTitle,E.hasDescription,E.hasLink,E.hasMerchant,E.hasPrice,E.hasStock].filter(Boolean).length,H=!!e?.is_eligible_for_pdp,G=!!e?.rich_metadata,$=!!e?.domain,Q=e?.type||"unknown";(0,lo.A)(()=>{j&&((0,aE.GV)("closeup.dweb.comparison_tool.exp_eligible",{sampleRate:1,tags:{experiment_group:z,requires_metadata:R,has_product_metadata:V,has_l2_interest:O,has_pin_id:U,passes_metadata_check:N,metadata_fields_present:W,is_pdp_eligible:H,has_rich_metadata:G,pin_type:Q,is_video_pin:o}}),R&&!V&&(0,aE.GV)("closeup.dweb.comparison_tool.blocked_by_metadata",{sampleRate:1,tags:{experiment_group:z,has_title:E.hasTitle,has_description:E.hasDescription,has_link:E.hasLink,has_merchant:E.hasMerchant,has_price:E.hasPrice,has_stock:E.hasStock,missing_field:E.hasPrice?E.hasStock?E.hasMerchant?E.hasLink?E.hasTitle?E.hasDescription?"unknown":"description":"title":"link":"merchant":"stock":"price",metadata_fields_present:W,is_pdp_eligible:H,has_rich_metadata:G,has_merchant_domain:$}}),O||(0,aE.GV)("closeup.dweb.comparison_tool.blocked_by_l2_interest",{sampleRate:1,tags:{experiment_group:z,has_product_metadata:V,metadata_fields_present:W,is_pdp_eligible:H,pin_type:Q}}))}),(0,b.useEffect)(()=>{let e=setTimeout(()=>{P(!0)},1e3);return()=>clearTimeout(e)},[]),(0,b.useEffect)(()=>{if(j&&U&&N){let e=setTimeout(()=>{A(!0)},1e3);return()=>clearTimeout(e)}},[j,U,N]),(0,lo.A)(()=>{e.l2_dominant_interest?(0,aE.GV)("web.closeup.breadcrumbs.has_vertical.yes"):(0,aE.GV)("web.closeup.breadcrumbs.has_vertical.no")});let{error:X}=l,{story_pin_data_id:q}=e||{},[Y,Z]=(0,b.useState)(p||!o);(0,b.useEffect)(()=>{let e=Y?void 0:setTimeout(()=>Z(!0),1e3*!p);return()=>clearTimeout(e)},[p,Y]);let{isEligibleForStaticImageIdeaPin:ee}=le(e.story_pin_data_id),el=(0,b.useRef)(null),ea=(0,b.useRef)(null),[et,ei]=(0,b.useState)(void 0),en=252*Math.floor((et??1)/252)-16,es=(0,b.useCallback)(()=>{el.current&&ea.current&&ei(window.innerWidth)},[]);(0,l$.A)(()=>{window&&(0,aE.GV)("web.closeup.closeup_redesign.handleResize",{sampleRate:.1,tags:{sideBySideEnabled:y,isStoryPin:!!q,isVideoPin:o,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}),g&&es()},el),(0,lo.A)(()=>{window&&(0,aE.GV)("web.closeup.closeup_redesign.initialRender",{sampleRate:.1,tags:{sideBySideEnabled:y,isStoryPin:!!q,isVideoPin:o,windowHeight:window.innerHeight,windowWidth:window.innerWidth}})}),(0,b.useEffect)(()=>{g&&es()},[es,g]);let[er,eo]=(0,b.useState)(!1);(0,b.useEffect)(()=>{let e=(0,t9.A)(function(){h&&window&&(window.scrollY>h.height?eo(!0):eo(!1))},150);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[h]);let{maxWidth:ed}=(0,eS.Vc)();if(0===Object.keys(e).length&&X)return(0,M.jsx)(ie.A,{});let eu=!!q&&!ee,ec=Y&&i,ep=(0,ev.A)({hasPin:!!e,hasPinRichMetadata:!!e?.rich_metadata,hasPinRichMetadataProducts:!!e?.rich_metadata?.products,hasPinRichMetadataArticle:!!e?.rich_metadata?.article,hasPinRichMetadataRecipe:!!e?.rich_metadata?.recipe,hasPinStoryPinData:!!e?.story_pin_data}),eg=(0,M.jsx)("div",{ref:ea,className:"Closeup Module","data-test-id":t?"closeup-data-loaded":"",onClick:e=>{!k&&(eu||n(e),(0,lC.Qj)("closefakemodal"),c&&c?.abort("closefakemodal"))},role:"presentation",style:{cursor:k?void 0:"zoom-out",display:"flex",width:"100%",maxWidth:ed,margin:g?"0 auto":void 0},children:(0,M.jsxs)(C.so,{alignItems:"stretch",direction:"row",flex:"grow",justifyContent:"center",children:[g?(0,M.jsxs)(C.az,{dangerouslySetInlineStyle:{__style:{flexDirection:"column"}},display:"flex",marginTop:5,children:[u,s]}):(0,M.jsx)(b.Fragment,{children:s}),d,r]})},"closeup-content");return(0,M.jsxs)(C.az,{ref:el,width:"100%",children:[(0,M.jsxs)(C.so,{direction:p?"row":"column",justifyContent:"center",children:[!p&&eg,p&&!L&&(u||s)&&(0,M.jsx)(C.az,{alignItems:"center","data-test-id":t?"closeup-data-loaded":"",direction:"column",display:"flex",marginStart:4,children:(0,M.jsxs)(C.ib,{top:_,children:[u,(0,M.jsx)(C.az,{"aria-hidden":er,dangerouslySetInlineStyle:{__style:{transition:"opacity 300ms ease-in-out"}},opacity:100*!er,children:s})]})}),(0,M.jsx)(C.so.Item,{flex:"grow",children:(0,M.jsxs)(C.az,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{paddingRight:p&&!L?"80px":void 0}},direction:"column",display:"flex",justifyContent:"center",paddingX:4*!p,width:"100%",children:[g&&en&&"lg"!==m&&(0,M.jsx)(C.so.Item,{alignSelf:"center",children:(0,M.jsx)(lV.A,{id:"ShoppingModule",children:(0,M.jsx)(ls.A,{moduleWidth:en,pinKey:{type:"Legacy",data:e},trafficSource:a,viewParameter:ep})})}),L&&(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{insetInlineStart:0,marginInlineStart:`${v+24}px`,marginTop:`${_+8}px`}},position:"fixed",top:!0,zIndex:new C.rk(1),children:u}),S&&(0,M.jsx)(C.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{bottom:L?40:64,left:v}},left:!0,position:"fixed",zIndex:new C.rk(1),children:(0,M.jsx)(C.so,{alignItems:"stretch",justifyContent:I,width:"100%",children:(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{transform:"start"===I?void 0:`translateX(-${"center"===I?116:111}px)`}},paddingX:8,children:(0,M.jsx)(lV.A,{id:"BreadCrumbs",children:(0,M.jsx)(t6,{justifyContent:I,l2Interest:e.l2_dominant_interest?.label,minifiedVariant:K,pinId:e.id})})})})}),ec]})})]}),j&&(0,M.jsx)(b.Activity,{mode:w?"visible":"hidden",children:(0,M.jsx)(C.ib,{bottom:0,children:(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{bottom:"24px",left:"50%",transform:"translateX(-50%)",pointerEvents:"none"}},position:"absolute",children:(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:(0,M.jsx)(it,{activateExperiment:D,experimentGroup:z,pin:e})})})})})]})}var ir=a(760596),io=a(444772),id=a(360898),iu=a(171768),ic=a(777275);let ip=({abortNoActionPlacementTimeout:e,extraContext:l,placementId:a})=>{var t,i;let n,s;(0,b.useEffect)(()=>{(0,f.A)("ExperiencesAfterNoAction","/app/packages/experiences/Framework/ExperiencesAfterNoAction.tsx")},[]);let r=(0,lU.Ts)();return t=()=>{r("NoAction",l)},i=e?null:4e3,n=(0,b.useRef)(0),s=(0,b.useRef)(t),(0,b.useEffect)(()=>{s.current=t},[t]),(0,b.useEffect)(()=>{if("number"==typeof i)return n.current=window.setTimeout(()=>s.current(),i),()=>window.clearTimeout(n.current)},[i]),(0,M.jsx)(iu.A,{placementId:a})},ig=(0,eZ.A)(()=>Promise.resolve().then(a.bind(a,111196)),{ssr:!1},e=>111196,"ExperienceHeroCommon",e=>[]),im=function({abortNoActionPlacementTimeout:e,classProps:l,classState:a,commerceData:t,showCloseupContentRight:i,showProductDetailPage:n,paneWidth:s,maxWidth:r,descriptionPaneWidth:o,handleCarouselSwipe:d,handleFocus:u,setIsCommentAttachmentSelectorOpen:c,setIsCommentComposerFocused:p,setIsCommentPopoverInteractionActive:g,setIsCommentThreadExpanded:m,setIsCloseupMediaViewerOpen:h,setIsMediaViewerOpen:y,setIsProductDetailsExpanded:_,setIsShoppingModuleExpanded:v,handleBackButtonClick:k,closeupContent:f,isCommentAttachmentSelectorOpen:x,isCommentComposerFocused:S,isCommentPopoverInteractionActive:P,isCommentThreadExpanded:w,isCloseupMediaViewerOpen:A,isMediaViewerOpen:C,isProductDetailsExpanded:F,isShoppingModuleExpanded:I,closeupWithinMasonryEnabled:T,peekCloseupEnabled:K,setAbortNoActionPlacementTimeout:L,clientTrackingParams:j,calculatedImageHeight:R,setCalculatedImageHeight:z}){let{pin:D,pinId:E}=l,{visualState:{carouselData:V,mainImage:O,previewImage:U},viewportSize:N}=a,W=!C&&!A&&!x&&!T,H=(0,b.useMemo)(()=>({showCloseupContentRight:i,showProductDetailPage:n,viewportSize:N,paneWidth:s,maxWidth:r,descriptionPaneWidth:o,isCommentAttachmentSelectorOpen:x,isCommentComposerFocused:S,isCommentPopoverInteractionActive:P,isCommentThreadExpanded:w,isCloseupMediaViewerOpen:A,isMediaViewerOpen:C,isProductDetailsExpanded:F,isShoppingModuleExpanded:I,setIsCommentAttachmentSelectorOpen:c,setIsCommentComposerFocused:p,setIsCommentPopoverInteractionActive:g,setIsCommentThreadExpanded:m,setIsCloseupMediaViewerOpen:h,setIsMediaViewerOpen:y,setIsProductDetailsExpanded:_,setIsShoppingModuleExpanded:v,closeupWithinMasonryEnabled:T,peekCloseupEnabled:K,setAbortNoActionPlacementTimeout:L,clientTrackingParams:j,calculatedImageHeight:R,setCalculatedImageHeight:z}),[R,j,T,o,A,x,S,P,w,C,F,I,r,s,K,L,z,h,c,p,g,m,y,_,v,i,n,N]),$=(0,b.useMemo)(()=>({mainImage:O,previewImage:U,carouselInfo:V&&{carouselData:V,handleCarouselSwipe:d,viewType:A?675:3,componentType:D.is_eligible_for_pdp?14186:85,viewParameter:(0,ev.A)({hasPin:!0,hasPinRichMetadata:!!D.rich_metadata,hasPinRichMetadataProducts:!!D.rich_metadata?.products,hasPinRichMetadataArticle:!!D.rich_metadata?.article,hasPinRichMetadataRecipe:!!D.rich_metadata?.recipe,hasPinStoryPinData:!!D.story_pin_data})}}),[V,d,A,O,D.is_eligible_for_pdp,D.rich_metadata,D.story_pin_data,U]);return(0,M.jsx)(J.oh,{value:H,children:(0,M.jsxs)(B.m,{overrideValue:$,pinKey:{type:"Legacy",data:D},children:[(0,M.jsx)(iu.A,{placementId:1000141}),(0,M.jsx)(iu.A,{placementId:1000499}),(0,M.jsx)(ic.A,{placementId:1000140}),(0,M.jsx)(ip,{abortNoActionPlacementTimeout:e,extraContext:{pin_id:E,is_promoted:D.is_promoted},placementId:1000564}),(0,M.jsx)(lU.b5,{placementId:12}),(0,M.jsx)(lU.nU,{placementId:12}),(0,M.jsx)(lU.aR,{placementId:12}),(0,M.jsx)(lU.Vj,{placementId:12}),(0,M.jsx)(io.A,{placementId:12}),(0,M.jsx)(id.default,{placementId:12}),(0,M.jsx)(ae.A,{auxData:t,clientTrackingParams:j,objectId:E,view:3,viewParameter:(0,G.A)(l)?(0,ev.A)({hasPin:!!D,hasPinRichMetadata:!!D.rich_metadata,hasPinRichMetadataProducts:!!D.rich_metadata?.products,hasPinRichMetadataArticle:!!D.rich_metadata?.article,hasPinRichMetadataRecipe:!!D.rich_metadata?.recipe,hasPinStoryPinData:!!D.story_pin_data}):void 0,children:(0,M.jsxs)("div",{className:"reactCloseupScrollContainer","data-test-id":"closeup-layout",onFocus:u,children:[(0,M.jsx)(eD.A,{name:"SafeSuspense_Closeup_ExperienceHero",children:(0,M.jsx)(ig,{placementId:12})}),(0,M.jsx)(lU.r8,{placementId:12}),f,W&&(0,M.jsx)(ir.A,{onClose:k}),(0,M.jsx)(lU.Gl,{placementId:12})]})})]})})};var ih=a(681986);function iy(){(0,b.useEffect)(()=>{(0,f.A)("CloseupEndOfFilteredFeed","/app/common/react/components/auth-desktop-web-closeup/CloseupEndOfFilteredFeed.tsx")},[]);let e=(0,O.A)();return(0,M.jsxs)(C.az,{paddingY:16,children:[(0,M.jsxs)(C.so,{alignItems:"center",direction:"column",gap:4,children:[(0,M.jsx)(C.KJ,{align:"center",size:"400",weight:"bold",children:e._('You\'ve reached the end', 'closeup.filteredFeed.enfOfFeed.title', 'message to let users know they have reached the end of the filtered feed in closeup')}),(0,M.jsx)(C.KJ,{align:"center",children:e._('Try removing a few filters to help us show more results.', 'closeup.filteredFeed.enfOfFeed.actionOne', 'message to let users know they can remove filters to see more results')})]}),(0,M.jsx)(ih.A,{})]})}function i_(){(0,b.useEffect)(()=>{(0,f.A)("CloseupFilteredFeedNoResultsFound","/app/common/react/components/auth-desktop-web-closeup/CloseupFilteredFeedNoResultsFound.tsx")},[]);let e=(0,O.A)();return(0,M.jsx)(C.az,{paddingY:16,children:(0,M.jsxs)(C.so,{alignItems:"center",direction:"column",gap:4,children:[(0,M.jsx)(C.KJ,{align:"center",size:"400",weight:"bold",children:e._('No results found', 'closeup.filteredFeed.noResultsFound.title', 'message to let users know there are no results found for the selected filters in closeup')}),(0,M.jsx)(C.KJ,{align:"center",children:e._('Try removing a few filters to help us show more results.', 'closeup.filteredFeed.noResultsFound.actionOne', 'message to let users know they can remove filters to see more results')}),(0,M.jsx)(ih.A,{})]})})}var iv=a(395044);let ik={cursor:"auto"},ib=e=>{e.stopPropagation()};function ix({className:e,children:l}){return(0,b.useEffect)(()=>{(0,f.A)("FakeModalPageContent","/app/common/react/components/auth-desktop-web-closeup/FakeModalPageContent.tsx")},[]),(0,M.jsx)("div",{className:e,onClick:ib,role:"presentation",style:ik,children:l})}let iS=["closeup_module","shopping_module","inclusive_filters_module"];function iP(e){return e.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&iS.includes(e.type)).length}function iw(e){if(!e)return"";let[l,a]=e.split(":");return l&&a?l.includes("skin_color")?JSON.stringify({10:{tab_option_selections:[a]}}):l.includes("hair_pattern")?JSON.stringify({11:{tab_option_selections:[a]}}):l.includes("body_type_range")?JSON.stringify({12:{tab_option_selections:[a]}}):"":""}var iA=a(970403),iC=a(410541),iF=a(182267),iI=a(890922);function iT({isFromBackButton:e,referringSource:l,relatedModulesRef:a}){!e&&a?.current&&l===iI.I.SHOPPING_FILTER&&setTimeout(()=>{a.current?.scrollIntoView(),window.scrollBy(0,-100)},10)}var iK=a(45645),iL=a(989457),ij=a(386379),iM=a(745489);function iR({coverImages:e,height:l,isHovered:a,onClick:t,onMouseEnter:i,onMouseLeave:n,textType:s,text:r,url:o,width:d,dataTestId:u}){(0,b.useEffect)(()=>{(0,f.A)("ActionBubble","/app/www/discover/Bubbles/ActionBubble.tsx")},[]);let c=e&&(e["236x"]||e["280x280"]);return(0,M.jsx)(iM.A,{backgroundColor:"gray",coverImage:c,height:l,isHovered:a,onClick:t,onMouseEnter:i,onMouseLeave:n,url:o,width:d,children:(0,M.jsx)(C.az,{alignItems:"center","data-test-id":u,display:"flex",height:l,justifyContent:"center",padding:3,position:"absolute",top:!0,width:d||"100%",children:"text"===s?(0,M.jsx)(C.az,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,M.jsx)(C._Y,{align:"center",color:"light",size:"600",children:r})}):(0,M.jsx)(C.az,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,M.jsx)(C.KJ,{align:"center",weight:"bold",children:r})})})})}function iz({data:e}){(0,b.useEffect)(()=>{(0,f.A)("ShoppingStoryTemplates","/app/common/react/components/shopping/templates/ShoppingStoryTemplates.tsx")},[]);let{action:l,container_type:a,objects:t,title:i}=e||{},{format:n}=i??{},{text:s,url:r,user:o={}}=l??{},{image_large_url:d,full_name:u,avatar_color_index:c}=o,{images:p}=t?.find(e=>"pin"===e.type)||{},g=null,m=(0,ij.A)({url:r})?"nofollow":"none";return 81===a&&(g=(0,M.jsxs)(C.so,{direction:"column",gap:{row:0,column:2},children:[(0,M.jsxs)(C.az,{position:"relative",children:[(0,M.jsx)(iR,{coverImages:p??void 0,height:236,text:n??"",textType:"text",url:r??""}),o.imageUrl&&(0,M.jsx)(C.az,{left:!0,padding:2,position:"absolute",top:!0,children:(0,M.jsx)(iL.eu,{color:c||void 0,name:u||"",outline:!0,size:"md",src:d??""})})]}),(0,M.jsx)(C.vx,{fullWidth:!0,href:r??"",rel:m,size:"lg",text:s??""})]})),g}let iD=[81,"UPSELL_PACKAGE_SQUARE"];var iE=a(326376),iB=a(210909),iV=a(832556),iO=a(355710),iU=a(538678),iN=a(696852),iW=a(79946),iH=a(803489),iG=a(869558),i$=a(464224),iQ=a(553510),iX=a(8627),iq=a(753115);let iJ=(0,eZ.A)(()=>a.e("62102").then(a.bind(a,57123)),void 0,e=>57123,"app-packages-StructuredFeed-ModuleReps-utils-StructuredFeedStoryModule",e=>["62102"]);function iY(e){return"columnSpan"in e?e.columnSpan:"story"===e.type?e.display_options?.content_display?.grid_layout?.cols??1:1}let iZ=(void 0!==g||(g=a(799593)).hash&&"e14ca1f7206af247fd92152e908713dc"!==g.hash&&console.error("The definition of 'AuthDesktopWebCloseupRelatedPins_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),g),i0=({closeupBody:e,surface:l="RelatedPinGrid",clientTrackingParams:a,isFilteredFeed:t,lfvExperiences:i,relatedPinsResource:n,setHasRelatedPins:s,i18n:r,closeupWithinMasonryEnabled:o,logContextEvent:d,relatedPinsInRow:u,pin:c,relatedPinsContainerRef:p,topLevelTrafficSource:g,viewParameter:m,relatedModulesStopwatch:h})=>{let y,{checkExperiment:_}=(0,ll.A)(),v=(0,T.A)({showProductDetailPage:!1}),k=(0,iq.A)(_,"related_pins"),[f,x]=(0,b.useState)(n.auxData?.grid_layout?.w_h_ratio),[P,w]=(0,b.useState)(!0),A=(0,lK.J)()?(0,iN.K)():(0,iN.B)(),F=(0,b.useRef)(null),I=(0,b.useRef)(null),K=(0,iF.A)(),L=(0,b.useMemo)(()=>(n.data||[]).filter(e=>"pin"!==e.type&&[i$.eS.SKIN,i$.eS.HAIR,i$.eS.BODY].includes(e.story_type??"")).find(e=>(0,iV._9)(e.story_type??"")),[n]),{closeupMasonryModules:j,hasShoppingModule:R,inclusiveFilters:z}=(0,iA.Ay)({pinId:c.entityId,inclusiveModuleToCache:L,showProductDetailPage:!1}),D=z?(0,iV.FU)(z.story_type??""):"",{inInclusiveEfficientRefinements:E}=(0,iC.A)(D),{search:B}=(0,S.zy)(),V=iw(new URLSearchParams(B).get("filters")??""),O=o&&E&&V,U=(0,eg.A)(O?{name:"ApiResource",options:{url:`/v3/pins/${c.entityId}/related/pins/filter/`,data:{fields:iK.A,related_pins_tabs_selections:V}}}:null),N=O?U:n,{isAtEnd:W,fetchMore:H,data:G,isFetching:$,nextBookmark:Q}=N;(0,lo.A)(()=>{d({event_type:13,view_parameter:m,view_type:3,component:86,clientTrackingParams:a})}),(0,b.useEffect)(()=>{!f&&N.auxData?.grid_layout?.w_h_ratio&&(x(N.auxData.grid_layout.w_h_ratio),F.current=window)},[o,f,N]);let X=`relatedPins:${c.entityId}`,q=(0,b.useMemo)(()=>["related_products_button_footer","related_domain_carousel","related_products_feed_header"],[]),J=(G&&G?.findIndex(e=>"pin"===e.type))??0,Y=(G||[]).slice(J).filter(e=>"pin"===e.type||!q.includes(e?.story_type??"")),Z=(0,b.useMemo)(()=>[...o?j:[],...Y||[]],[o,j,Y]),ee=(0,b.useMemo)(()=>(G||[]).slice(J).filter(e=>"pin"===e.type||!q.includes(e?.story_type??"")),[G,J,q]),el=(0,b.useMemo)(()=>{let e=[];return o&&e.push(...j),e.push(...ee),e},[j,o,ee]),ea=K?el:Z,et=E&&R&&!!z,ei=(0,b.useMemo)(()=>({pin_id:c.entityId}),[c.entityId]),en=(0,b.useMemo)(()=>iP(ea),[ea]),es=(0,a5.HR)(),er=({data:a,itemIdx:t})=>{let n,s=(0,ev.A)({hasPin:!!c,hasPinRichMetadata:!!c.richMetadata,hasPinRichMetadataProducts:!!c.richMetadata?.products,hasPinRichMetadataArticle:!!c.richMetadata?.article,hasPinRichMetadataRecipe:!!c.richMetadata?.recipe,hasPinStoryPinData:!!c.storyPinData}),r=t-en;if(et&&("shopping_module"===a.type||"inclusive_filters_module"===a.type))"shopping_module"===a.type&&(n=(0,M.jsxs)(C.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,M.jsx)(ls.A,{moduleWidth:"100%",pinKey:c,trafficSource:g,viewParameter:s}),z?.story_type&&D&&(0,M.jsx)(C.az,{marginTop:2,children:(0,M.jsx)(iv.default,{filter:D,pinId:c.entityId,story:z,viewParameter:s})})]}));else switch(a.type){case"closeup_module":n=e;break;case"shopping_module":n=(0,M.jsx)(ls.A,{moduleWidth:"100%",pinKey:c,trafficSource:g,viewParameter:s});break;case"inclusive_filters_module":D&&(n=(0,M.jsx)(iv.default,{filter:D,pinId:c.entityId,story:z,viewParameter:s}));break;case"story":switch((0,aE.GV)("web_story_card_type",{sampleRate:1,tags:{story_type:a.story_type||"unknown",surface:"closeup"}}),a.story_type){case"BUBBLE_ONE_COL":n=(0,M.jsx)(iG.default,{bubbles:a.objects,id:a.id??"",referringSource:a.referring_source,slotIndex:r,storyType:a.story_type,title:a.title,viewParameter:s,viewType:3});break;case"related_query_shop_upsell_closeup":n=(0,M.jsx)(iE.default,{itemIdx:r,story:a,viewParameter:s,viewType:3});break;default:n=null}if(a.container_type)if(iD.includes(a.container_type))n=(0,M.jsx)(iz,{data:a});else{let e;(0,iW.A)(a.container_type)&&(n=(0,M.jsx)(iJ,{initialSlotIndex:r,story:a,storyKey:{type:"Legacy",data:a},styleOverrides:{showModuleBorder:"number"!=typeof(e=iY(a))||e>1},view:3,viewParameter:s}))}break;default:{let e=(0,iO.A)(i),t=es(a.id),o=(0,M.jsx)(tE.A,{auxData:{source:g},componentType:13007,imageOnlyOption:e?"image-only":"default",parentPinKey:null,pinImageCrop:f?{height:236*f,width:236}:null,pinKey:{type:"Legacy",data:t||a},shouldWrapOnProfiler:!0,slotIndex:r,surface:l,trackingParams:a?.tracking_params,viewData:K?ei:{pin_id:c.entityId},viewParameter:s,viewType:3});n=k?(0,M.jsx)(iX.A,{children:o}):o}}return(0,M.jsx)(ix,{children:n})},eo=N.data?N.data.length:0,ed=e=>{let l=(()=>{if("u"<typeof window)return null;let e=window.innerWidth;return e<iQ.A.sm?"xs":e<iQ.A.md?"sm":e<iQ.A.lg?"md":e<iQ.A.xl?"lg":e<iQ.A.xxl?"xl":e<iQ.A.xxxl?"xxl":"xxxl"})();null===l||P&&0!==e&&(0,aE.uI)("closeup.relatedFeed.pinCount",e,{sampleRate:1,tags:{screen_size:l,closeup_dweb_blended_ui_organic:v?"enabled":"control"}})};(0,b.useEffect)(()=>{s(0!==eo)},[eo,s]);let eu=(0,b.useRef)(!0),ec=(0,b.useRef)(0),ep=({result:e})=>{ec.current=performance.now(),"ABORT"===e?A.abort():"COMPLETE"===e&&A.stop(ec.current)};(0,b.useEffect)(()=>{!eu.current||(P||(h?.abort(),eu.current=!1),0!==eo&&(W&&(h?.stop(),eu.current=!1),ec.current>0&&(h?.stop(ec.current),eu.current=!1)))},[P,W,h,h?.isTiming,eo]),(0,b.useEffect)(()=>{!A.isActive()||(P||A.abort(),0!==eo&&(W&&A.stop(),ec.current>0&&A.stop(ec.current)))},[P,W,A,eo]);let em=(t||!!O)&&"-end-"===Q,eh=(0,lO.A)({isHiddenPin:c?.isHidden,isUnsafePin:c?.isUnsafe}),ey=!!(o&&(1===ea.length||R&&2===ea.length)),e_=(0,b.useMemo)(()=>o?(0,iA.iM)(E):void 0,[o,E]);return K?y=e_:o&&(y=(0,iA.iM)(!!E)),(0,M.jsx)(tg.A,{onVisibilityChange:e=>{w(e.some(e=>e.isIntersecting))},options:{threshold:[0]},children:e=>(0,M.jsx)(C.az,{ref:e,children:(0,M.jsx)(C.az,{ref:p,children:(0,M.jsx)(ae.A,{clientTrackingParams:a,component:86,viewParameter:(0,ev.A)({hasPin:!!c,hasPinRichMetadata:!!c.richMetadata,hasPinRichMetadataProducts:!!c.richMetadata?.products,hasPinRichMetadataArticle:!!c.richMetadata?.article,hasPinRichMetadataRecipe:!!c.richMetadata?.recipe,hasPinStoryPinData:!!c.storyPinData}),children:(0,M.jsxs)(b.Fragment,{children:[(0,M.jsx)(iU.A,{isAtEndOfFeed:W,isPlaceholderGrid:$&&(!ea.length||ey),itemCount:ea.length,onVisuallyCompletePinCount:ed,stopwatchContext:h,stopwatchSetVisuallyCompleteResult:ep,children:(0,M.jsx)(iB.default,{_getResponsiveModuleConfigForSecondItem:y,align:o?"center":void 0,cacheKey:X,getColumnSpanConfig:o?iY:void 0,isFetching:$,isGridCentered:u,isLoadedAccessibilityLabel:ea.length>0?r._('Loaded more related product results', 'closeup.relatedProducts.results', 'Accessibility label for loaded more related product results'):r._('Loaded related products result', 'closeup.relatedProducts.results', 'Accessibility label for loaded related products result'),isLoadingAccessibilityLabel:ea.length>0?r._('Loading more related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading more related products results'):r._('Loading related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading related products results'),isLoadingStateEnabled:eh,items:ea,layout:"basic",loadItems:H,masonryRef:I,minCols:o?2:void 0,renderItem:er,scrollContainerRef:F,serverRender:!0,virtualize:iA.E0})}),em&&eo>0&&(0,M.jsx)(iy,{}),em&&0===eo&&(0,M.jsx)(i_,{})]})})})})})};function i1({pinKey:e,relatedModulesRef:l,...a}){(0,b.useEffect)(()=>{(0,f.A)("AuthDesktopWebCloseupRelatedPins","/app/common/react/components/auth-desktop-web-closeup/AuthDesktopWebCloseupRelatedPins.tsx")},[]);let t=(0,O.A)(),i=(0,lx.A)(),{clientTrackingParams:n,closeupWithinMasonryEnabled:s}=(0,J._G)(),r=(0,S.zy)(),o=(0,S.wQ)(),d=(0,K.A)(iZ,e),u=(0,iH.A)(r.search).rs,c="POP"===o;return(0,b.useEffect)(()=>{iT({isFromBackButton:c,referringSource:u,relatedModulesRef:l})},[c,r,u,l]),(0,M.jsx)(i0,{...a,clientTrackingParams:n,closeupWithinMasonryEnabled:s,i18n:t,logContextEvent:i,pin:d,relatedPinsInRow:s})}let i3=(0,eZ.A)(()=>Promise.resolve().then(a.bind(a,395044)),void 0,e=>395044,"app-common-react-components-auth-desktop-web-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters",e=>[]),i2=(0,eZ.A)(()=>a.e("19631").then(a.bind(a,952290)),void 0,e=>952290,"app-common-react-components-auth-desktop-web-closeup-CloseupRelatedModules-CloseupRelatedModuleOneTapConfiguration",e=>["19631"]),i5=(0,eZ.A)(()=>a.e("39622").then(a.bind(a,544327)),void 0,e=>544327,"app-common-react-components-auth-desktop-web-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader",e=>["39622"]),i6=(void 0!==m||(m=a(244053)).hash&&"971b4142368a9c9c2539396c3d46601d"!==m.hash&&console.error("The definition of 'CloseupRelatedModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),m),i4=function({clientTrackingParams:e,pinKey:l,searchQuery:a,setRelatedPinsHeaderRef:t,slotIndex:i,story:n,trafficSource:s,viewParameter:r,viewportSize:o,headerRef:d}){let u=(0,K.A)(i6,l),{closeupWithinMasonryEnabled:c}=(0,J._G)();if(!n)return null;let{story_type:p}=n,g=(0,iV.FU)(p);return"related_products_collage"===p?(0,M.jsx)(C.az,{alignSelf:"center","data-test-id":"related-modules-one-tap-configuration",children:(0,M.jsx)(i2,{pinKey:u,searchQuery:a,slotIndex:i,storyKey:{type:"Legacy",data:n},trafficSource:s,viewParameter:r,viewportSize:o})}):(0,iV._9)(p)&&g?!c&&(0,M.jsx)(C.az,{alignSelf:"center",children:(0,M.jsx)(i3,{filter:g,pinId:u.entityId,story:n,viewParameter:r})}):"related_modules_header"===p?d&&(0,M.jsx)(C.az,{ref:t,"data-test-id":"related-modules-header",children:(0,M.jsx)(i5,{clientTrackingParams:e,headerRef:d,slotIndex:i,storyId:n.id,storyType:p,title:n.title?.format,viewParameter:r})}):null};var i8=a(15176),i7=a(570090);let i9=new Set([...eS.Ce,"related_domain_carousel","related_products_collage",i$.eS.SKIN,i$.eS.HAIR,i$.eS.BODY]),ne=(void 0!==h||(h=a(399433)).hash&&"6e9df46eeb81bd3bc9e029d3803080bf"!==h.hash&&console.error("The definition of 'CloseupRelatedModulesContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),h);function nl({clientTrackingParams:e,closeupBody:l,isVideoPin:a,isYoutubePin:t,pinKey:i,relatedResourceOptions:n,searchQuery:s,relatedPinsContainerRef:r,setRelatedPinsHeaderRef:o,topLevelTrafficSource:d,trafficSource:u,viewParameter:c,viewportSize:p,relatedModulesStopwatch:g}){let{closeupWithinMasonryEnabled:m}=(0,J._G)(),[h,y]=(0,b.useState)(!a),{checkExperiment:_}=(0,ll.A)(),{search:v}=(0,S.zy)(),k=new URLSearchParams(v).get("utm_source"),f=(0,eg.A)(h&&"ads_manager"!==k?n:null),x=(0,i7.A)(),P=(0,b.useRef)(null),w=(0,b.useCallback)(e=>{e&&(P.current=e)},[]),[A,F]=(0,b.useState)(!0);(0,b.useEffect)(()=>{let e=h?void 0:setTimeout(()=>y(!0),m&&(a||t&&"enabled_delay"===_("web_closeup_youtube_player").group)?1e3:0);return()=>clearTimeout(e)},[m,a,h,_,t]);let I=(0,K.A)(ne,i);return(0,M.jsx)(lQ.A,{metricName:"RelatedModulesFeed",children:(0,M.jsxs)(C.az,{ref:w,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[A&&(f.data||[]).filter(e=>"story_type"in e&&null!=e.story_type&&i9.has(e.story_type)).map((l,a)=>(0,M.jsx)(C.az,{"data-test-id":`related-module-${l.id}`,direction:"column",display:"flex",children:(0,M.jsx)(i4,{clientTrackingParams:e,headerRef:P,pinKey:I,searchQuery:s,setRelatedPinsHeaderRef:o,slotIndex:a,story:l,trafficSource:u,viewParameter:c,viewportSize:p})},`related-module-${l.id}`)),(0,M.jsx)(i1,{closeupBody:l,lfvExperiences:x,pinKey:I,relatedModulesRef:P,relatedModulesStopwatch:g,relatedPinsContainerRef:r,relatedPinsResource:f,setHasRelatedPins:F,topLevelTrafficSource:d,viewParameter:c})]})})}function na(e){(0,b.useEffect)(()=>{(0,f.A)("CloseupRelatedModulesContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupRelatedModules/CloseupRelatedModulesContainer.tsx")},[]);let l=(0,lK.J)(),a=(0,i8.x$)(l?"related_feed_pageload":"related_feed"),t=l?(0,iN.K)():(0,iN.B)();return(0,lo.A)(()=>{a?.start(),t.start()}),(0,M.jsx)(nl,{...e,relatedModulesStopwatch:a})}let nt=["236x","474x","564x","736x"];function ni({carouselData:e,images:l,product:a,shouldUnifyImageSizes:t}){var i,n,s;let r;return e?.carousel_slots?.length?e:a?.additional_images?.length?(i=a.additional_images,n=e?.index,s=a.id,r=[...l?[{images:l}]:[],...(i??[]).map(({canonical_images:e,image_signature:l})=>({images:e||void 0,image_signature:l||void 0}))],{carousel_slots:t?function(e){function l(e,{imageKey:l,height:a,width:t}){return e.images&&e.images[l]&&(e={...e,images:{...e.images,[l]:{...e.images[l],height:a,width:t}}}),e}let a=nt.map(function(l){let a=Math.min(...e.map(e=>e.images&&e.images[l]&&e.images[l].height||1/0)),t=Math.min(...e.map(e=>e.images&&e.images[l]&&e.images[l].width||1/0));return{imageKey:l,height:a,width:t}});return e.map(e=>a.reduce(l,e))}(r):r,index:n||0,id:s}):e||void 0}var nn=a(857062);let ns=e=>{let{url:l,width:a,height:t}=e||{};return l&&a&&t?{url:l,width:a,height:t}:void 0};function nr(e){let{pin:l,pinId:a,pinResource:t}=e,i=(0,b.useMemo)(()=>l,[l]),n=(0,b.useMemo)(()=>({pinKey:{type:"Legacy",data:i}}),[i]),{mainPinImage:s}=(0,nn.A)(n);return(0,b.useMemo)(()=>{var e;let l,n;return n=ni({carouselData:(l={...(e={pin:i,pinId:a,pinResource:t,mainImage:s}).pin,...e.pinResource.data}).carousel_data,images:l.images,product:(l.rich_metadata||l.rich_summary)?.products?.[0]}),{availableWidthForContentOnRight:!1,backButtonLabelFitInScreen:null,closeupBodyContainerHeight:0,closeupContainerHeight:0,firstLoadComplete:!1,didLongClickThrough:!1,didPinClickThrough:!1,didShortClickThrough:!1,didMountAfterSavePlacement:!1,isCloseupMaximized:!1,isCommentSectionOpen:!0,isOverRelatedPins:null,isRelatedInterestsBannerDismissed:!1,intervalId:null,landOnCurrentPage:!1,loginModalOptions:null,modalOpen:!1,myTry:e.pin?{isDoneByMe:!!e.pin.done_by_me}:null,newshubCloseupCapBackButtonCount:0,passScrollThreshold:!1,pin:l,pinId:e.pinId,campaignCreationTriggered:!1,relatedPinsUpsellShown:!1,showBackButton:!0,showProductDetailPage:!!l.is_eligible_for_pdp,shopping:{catalogId:-1,variantId:void 0},viewportSize:"lg",visualState:{carouselData:n&&{...n,index:e.pin.carousel_data?.index||0},mainImage:e.mainImage,previewImage:ns(l.images?.["236x"])},v1DeprecationModalDismissed:!1}},[s,i,a,t])}let no=(0,lU.Yd)(12,(e,l)=>({pin_id:e.pinId,email_id:e.emailId,did_long_clickthrough:l.didLongClickThrough||!1,did_pin_clickthrough:l.didPinClickThrough||!1,did_repin:l.didRepin||!1,is_own_or_group_pin:l.is_own_or_group_pin||!1,login_page_type:l.loginPageType||"unknown",scroll_to_threshold:l.scrollToThreshold,pin_image_signature:l.pin_image_signature,is_creator_card_shown:!!function({hasOfficialUser:e,domain:l,hasLinkDomainOfficialUser:a,hasLinkUserWebsiteOfficialUser:t,hasNativeCreator:i,hasThirdPartyPinOwner:n,isPromoted:s,pinnerDomainUrl:r,pinnerDomainVerified:o}){return(t||a||n||e||o&&r===l)&&!s||!!i}({domain:e.pin.domain??"",hasLinkDomainOfficialUser:!!e.pin.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!e.pin.link_user_website?.official_user,hasNativeCreator:!!e.pin.native_creator,hasThirdPartyPinOwner:!!e.pin.third_party_pin_owner,isPromoted:!!e.pin.is_promoted,pinnerDomainUrl:e.pin.pinner?.domain_url??"",pinnerDomainVerified:!!e.pin.pinner?.domain_verified}),creator_username:e.pin?.closeup_attribution?.full_name}));var nd=a(780526),nu=a(72047),nc=a(479048),np=a(733334),ng=a(257300),nm=a(850462),nh=a(253913),ny=a(594789),n_=a(488283),nv=a(455758),nk=a(520592),nf=a(706466),nb=a(356954),nx=a(696591);let nS=(void 0!==y||(y=a(451407)).hash&&"efee9cd30f69b524ed9920746ed65ceb"!==y.hash&&console.error("The definition of 'useHandleBackButtonClick_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),y);function nP({logCommerceAuxData:e,deepLinkBackGoesToBoard:l,element:a,goBack:t,pinKey:i,routePush:n,trafficSource:s,viewer:r,requestContext:o,viewType:d,viewParameterType:u,componentType:c},p){let g=(0,K.A)(nS,i),m=(0,j.A)(g),h=r.isAuth&&r.partner;return{onHandleBackButtonClick:(0,b.useCallback)(()=>{let i,r=g.promotedLeadForm?.leadId,y=e?m():null;g.promotedIsLeadAd?(p({event_type:4100,view_type:175,view_parameter:null,component:null,object_id_str:g.entityId,aux_data:{...y,lead_form_id:r,is_lead_ad:1}}),p({event_type:10369,view_type:175,view_parameter:null,component:14307,duration_ns:13606e6,object_id_str:g.entityId,aux_data:{lead_form_id:r,is_lead_ad:1}})):p({aux_data:y,event_type:101,view_type:d||3,view_parameter:u||(0,ev.A)({hasPin:!0,hasPinRichMetadata:!!g.richMetadata,hasPinRichMetadataProducts:!!g.richMetadata?.products,hasPinRichMetadataArticle:!!g.richMetadata?.article,hasPinRichMetadataRecipe:!!g.richMetadata?.recipe,hasPinStoryPinData:!!g.storyPinData}),...c?{component:c}:void 0,element:a||34});let _="deep_linking"===s&&!l,{utm_source:v,news_hub_id:k}={utm_source:(i=new URL(o.fullPath,o.origin).searchParams).get("utm_source")??"",utm_medium:i.get("utm_medium")??"",utm_campaign:i.get("utm_campaign")??"",news_hub_id:i.get("news_hub_id")??""};return"31"==`${v}`&&k?n(`/news_hub/${k}`):_?n(h?"/homefeed/":"/"):t()},[c,l,a,m,t,e,p,g.entityId,g.promotedIsLeadAd,g.promotedLeadForm?.leadId,g.richMetadata,g.storyPinData,o.fullPath,o.origin,n,s,u,d,h])}}var nw=a(621877),nA=a(889816);function nC({conversation_id:e,senderId:l,pinId:a}){(0,ng.A)({url:"/v3/conversations/{conversation}/message/mark_seen/",urlParams:{conversation:e},method:"POST",data:{sender:l,pin:a}})}function nF(e){(0,b.useEffect)(()=>{(0,f.A)("AuthDesktopWebCloseup","/app/common/react/components/auth-desktop-web-closeup/AuthDesktopWebCloseup.tsx")},[]);let{clientTrackingParams:l,closeupWithinMasonryEnabled:a=!1,conversation_id:t,conversationOpen:i,didRepin:n,getStringifiedCommerceAuxData:s,isEligibleForStaticImageIdeaPin:r,isLandingPage:o,logContextEvent:d,onHandleBackButtonClick:u,openInbox:c,orbacActingAs:p,peekCloseupEnabled:g=!1,pin:m,pinDerivedData:h,pinId:y,pinResource:_,relatedPinsContainerRef:v,senderId:k,setAbortNoActionPlacementTimeout:x,setIsCommentThreadExpanded:S,setMostRecentPinId:P,setMostRecentPinImage:w,setPlacementExtraContext:A,shouldShowInbox:C,storyPinTaggedProductsResource:F,verticalNavWidth:I,viewer:K}=e,{pin:L,shopping:j,visualState:R,isCloseupMaximized:z=!1,isCommentSectionOpen:D=!1,didShortClickThrough:E=!1,didPinClickThrough:B=!1,firstLoadComplete:V=!1,intervalId:O,viewportSize:U="lg",isOverRelatedPins:N=!1}=e.initialState||{},[W,H]=(0,b.useState)(L),[$,Q]=(0,b.useState)(R),[X,q]=(0,b.useState)(z),[J,Y]=(0,b.useState)(D),[Z,ee]=(0,b.useState)(E),[el,ea]=(0,b.useState)(B),[et,ei]=(0,b.useState)(V),[en,es]=(0,b.useState)(O),[er,eo]=(0,b.useState)(U),[ed,eu]=(0,b.useState)(N),ec=(0,b.useRef)(!1),ep=(0,b.useRef)(!1),eg=(0,b.useRef)(0),em=(0,b.useRef)(null),eh=(0,b.useRef)(null),ey=(0,nb.A)(y),ek=(0,nb.A)(n),ef=(0,nb.A)(o),eb=(0,b.useCallback)(e=>{em.current=e},[]),ex=(0,b.useCallback)(e=>{eh.current=e},[]),eP=(0,b.useCallback)(()=>{if(!ep.current)return;let{BREAKPOINT:e,EXP_SM_BREAKPOINT:l,SM_BREAKPOINT:t}=(0,eS.BQ)({verticalNavWidth:I}),i=a?l:t,n="lg";"u">typeof window&&window.innerWidth<e&&(n=window.innerWidth<i?"sm":"md"),eo(n)},[a,I]),ew=(0,b.useMemo)(()=>(0,t9.A)(eP,50),[eP]),eA=(0,b.useCallback)(()=>{clearInterval(en),A&&A({didLongClickThrough:!0})},[en,A]),{pinFormattedLink:eC,trafficSource:eF,isCloseupMediaViewerOpen:eI}=e,eT=(0,b.useCallback)(e=>{let a=!!m?.story_pin_data_id&&r,{wasImageClicked:t,auxData:i,componentType:n=a?228:4,elementType:o=t?35:a?11157:361,viewType:u=eI?675:3}=e||{},c=(0,ev.A)({hasPin:!!m,hasPinRichMetadata:!!m?.rich_metadata,hasPinRichMetadataProducts:!!m?.rich_metadata?.products,hasPinRichMetadataArticle:!!m?.rich_metadata?.article,hasPinRichMetadataRecipe:!!m?.rich_metadata?.recipe,hasPinStoryPinData:!!m?.story_pin_data}),p={...s?.(),...i||{},is_promoted:m?.is_promoted};K?.isAuth&&!el&&A&&(A({didPinClickThrough:!0}),ea(!0)),a&&d?.({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:m?.id,url:eC}}),d?.({event_type:101,object_id_str:y,component:n,element:o,clientTrackingParams:l,aux_data:{...s?.(),...i||{}}}),d?.({event_type:12,object_id_str:y,view_type:u,view_parameter:c,component:n,element:o,aux_data:{...p,...(0,n_.A)(m.link_utm_applicable_and_replaced)},clientTrackingParams:l}),d?.({event_type:8948,view_type:u,view_parameter:c,component:n,element:o,object_id_str:y,clientTrackingParams:l,aux_data:{click_type:"clickthrough",closeup_navigation_type:eF&&(0,e_.N9)(eF)?"deeplink":"click",...s?.(),...i||{}}}),t&&es(window.setInterval(eA,12e4)),eg.current=Date.now(),Z&&ee(!1),x(!0)},[eC,K,eF,d,s,r,eI,m,el,A,y,l,Z,x,eA]),eK=(0,b.useCallback)(()=>{clearInterval(en),A&&A({didLongClickThrough:!1})},[en,A]),eL=(0,b.useCallback)(()=>{eg.current>0&&(ee(Date.now()-eg.current<5e3),eg.current=0)},[]),ej=(0,b.useCallback)(()=>{d?.({event_type:101,object_id_str:W?.id,component:4,element:0,clientTrackingParams:l,aux_data:{...s?.()}}),x(!0)},[d,W?.id,l,s,x]),eM=(0,b.useCallback)(()=>{u()},[u]),eR=(0,b.useCallback)(e=>{et&&Q(l=>({...l,carouselData:{...l.carouselData||{},index:e}}))},[et]),ez=(0,b.useMemo)(()=>(0,t9.A)(()=>{if(!eh.current)return;let e=ld.Wk,l=(eh.current?.getBoundingClientRect().top??0)<=e;eu(e=>!!l||e&&l),!l&&ed&&eu(!1)},10),[ed]),eD=(0,b.useCallback)(e=>{q(!e),em&&(em.ariaHidden=!e)},[q]),eE=(0,b.useCallback)(e=>{e.stopPropagation(),eM()},[eM]),eB=(0,b.useCallback)(e=>{Y(!!e),S?.(!!e),e&&d?.({component:13464,element:11981,event_type:10554,view_type:3})},[d,S]),eV=(0,b.useCallback)(()=>{let l=m?.board||{},a=e.viewer,t=l.is_collaborative&&(0,nu.A)(l?.collaborated_by_me,l?.owner?.id,a);return!!(a.isAuth&&m?.pinner?.id===a.id||t)},[m?.board,m?.pinner?.id,e.viewer]),eO=(0,b.useCallback)(()=>{let l,{mainImage:a}=e;if(!et)return;let t=ni({carouselData:m?.carousel_data,images:m?.images,product:m?.rich_metadata?.products?.[0]||m?.rich_summary?.products?.[0]}),i=(t?.carousel_slots||[])[0]||{},n=(0,nc.A)(i.images),s=$.carouselData,r=$.mainImage||{url:""},o=s?.index||0;l=t&&(t.carousel_slots?.length||0)>1?{mainImage:a,carouselData:{...t,index:o},previewImage:ns(m?.images?.["236x"])}:n?.url?{mainImage:{url:n.url,height:n.height||1,width:n.width||1}}:{mainImage:a,previewImage:ns(m?.images?.["236x"])};let d=l.carouselData?.id,u=s?.id,c=l.carouselData?.carousel_slots,p=s?.carousel_slots,g=l.mainImage?.url??"",h=r.url??"";(u!==d||JSON.stringify(p)!==JSON.stringify(c)||h!==g)&&Q(l)},[m,e,et,$]),{addCloseup:eU,getTrackedNearDupSigs:eN}=(0,nx._1)()||{},{setCurrentlyViewingPinId:eW,setLastVisitedPinId:eH}=(0,nA.C1)();(0,b.useEffect)(()=>{let{didRepin:l,isLandingPage:a,pinResource:{data:i},pwtSurfaceContext:n}=e;eO(),et&&!ec.current&&(n?.removeConstraint?.("thumbnailsLoaded"),(0,lC.$Q)("thumbnailsLoaded"),ec.current=!0),i&&!et&&(i.carousel_data&&(i.carousel_data.index=$.carouselData?.index||0),H(i),ei(!0)),t&&k&&y&&ey!==y&&nC({conversation_id:t,senderId:k,pinId:y});let s={};((0,tZ.y1)().getItem(tY.NB)||"").includes(`/pin/${y}`)&&a&&(s.loginPageType="pin"),l&&(s.didRepin=!0),m?.image_signature&&(s.pin_image_signature=m.image_signature),s.is_own_or_group_pin=eV();let r=ek!==l||e.isLandingPage!==ef||ey!==y;!(0,nh.A)(s)&&r&&A&&A({...s})},[y,k,t,e,et,ec,$.carouselData,A,ey,eO,m.image_signature,eV,ek,ef]),(0,b.useEffect)(()=>{m.near_dup_sig&&eU&&eU(m.near_dup_sig)},[eU,m.near_dup_sig]),(0,lo.A)(()=>(ep.current=!0,t&&k&&y&&nC({conversation_id:t,senderId:k,pinId:y}),t&&(i?.(t),C&&c?.()),m?.image_signature&&w?.(m.image_signature),y&&(P?.(y),eW?.(y)),A&&A({is_own_or_group_pin:eV()}),eP(),window.addEventListener("resize",ew),window.addEventListener("focus",eL),window?.location?.search?.includes("invite_code=")&&(0,nm.A)(),()=>{y&&eH?.(y),eW?.(null),window.removeEventListener("resize",ew),window.removeEventListener("focus",eL),ep.current=!1}));let e$=eQ.QH,eX=e.isCommentThreadExpanded||!1,{recommendation_reason:eq}=m,{contextPinIds:eJ,landingContext:eY,searchQuery:eZ,topLevelTrafficSource:e0,topLevelTrafficSourceDepth:e1}=e,e3={name:"RelatedModulesResource",options:{additional_fields:(0,b.useCallback)(()=>["pin.gen_ai_topics"],[])(),pin_id:m.id||y,context_pin_ids:eJ,context_near_dup_image_sigs:eN?eN(m.id||y):[],homefeed_source_sig:eq&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(eq.reason||"")&&eq.reason_id,page_size:12,search_query:eZ,source:eF,top_level_source:e0,top_level_source_depth:e1,is_pdp:!1,landing_context:eY}},e2=(0,eG.Hs)(K,m.pinner?.id,p),e5=(!!m.id||!!y)&&!e2||a,e6=(0,T.A)({showProductDetailPage:!1}),e4=F?.data||[],{isLimitedLogin:e8,routePush:e7,showRepinOnInitialRender:e9,trendsData:le,userBusinessRoleResource:ll}=e,la=(0,M.jsx)(tR,{clientTrackingParams:l,closeupWithinMasonryEnabled:a,didShortClickThrough:Z,executeClickthrough:eT,handleBackButtonClick:eM,handleCarouselSwipe:eR,handleCloseupBodyContainerRef:eb,handleIdeaCloseupCommentIconClick:eB,handleSaveClicked:ej,isCloseupMaximized:X,isEligibleForStaticImageIdeaPin:r,isLimitedLogin:e8,maxWidth:e$,onToggleIdeaPinCloseupPanel:eD,peekCloseupEnabled:g,pin:m,pinDerivedData:h,pinResource:_,routePush:e7,shopping:j,showRepinOnInitialRender:e9,storyPinTaggedProducts:e4,trafficSource:eF,trendsData:le,updateViewportSize:eP,userBusinessRoleResource:ll,viewportSize:er}),lt=(0,M.jsx)(nk.A,{handleScroll:ez,onClick:eM,showShadow:ed,size:e6?"lg":"xl"}),li=(0,M.jsx)(is,{backButton:lt,bodyContent:la,firstLoadComplete:et,isVideoPin:h.isVideoPin,onWrapperClick:eE,pin:m,pinResource:_,relatedModulesContent:e5?(0,M.jsx)(i8.Ce,{children:(0,M.jsx)(i8.YP,{children:(0,M.jsx)(na,{clientTrackingParams:l,closeupBody:la,isVideoPin:h.isVideoPin,isYoutubePin:h.isYoutubePin,pinKey:{type:"Legacy",data:m},relatedPinsContainerRef:v,relatedResourceOptions:e3,searchQuery:eZ,setRelatedPinsHeaderRef:ex,topLevelTrafficSource:e0,trafficSource:eF,viewParameter:(0,ev.A)({hasPin:!!m,hasPinRichMetadata:!!m?.rich_metadata,hasPinRichMetadataProducts:!!m?.rich_metadata?.products,hasPinRichMetadataArticle:!!m?.rich_metadata?.article,hasPinRichMetadataRecipe:!!m?.rich_metadata?.recipe,hasPinStoryPinData:!!m?.story_pin_data}),viewportSize:er})})}):(0,M.jsx)(b.Fragment,{})}),{abortNoActionPlacementTimeout:ln,calculatedImageHeight:ls,isCommentAttachmentSelectorOpen:lr,isCommentComposerFocused:lu,isCommentPopoverInteractionActive:lc,isMediaViewerOpen:lp,isShoppingModuleExpanded:lg,setCalculatedImageHeight:lm,setIsCloseupMediaViewerOpen:lh,setIsCommentAttachmentSelectorOpen:ly,setIsCommentComposerFocused:l_,setIsCommentPopoverInteractionActive:lv,setIsMediaViewerOpen:lk,setIsShoppingModuleExpanded:lf}=e;return(0,M.jsx)(im,{abortNoActionPlacementTimeout:ln,calculatedImageHeight:ls,classProps:e,classState:{...e.initialState,pin:W,shopping:j,visualState:$,isCloseupMaximized:X,isCommentSectionOpen:J,didShortClickThrough:Z,didPinClickThrough:el,firstLoadComplete:et,intervalId:en,viewportSize:er,isOverRelatedPins:ed},clientTrackingParams:l,closeupContent:li,closeupWithinMasonryEnabled:a,descriptionPaneWidth:e$-eQ.qr-4*!!a,handleBackButtonClick:eM,handleCarouselSwipe:eR,handleFocus:eK,isCloseupMediaViewerOpen:eI,isCommentAttachmentSelectorOpen:lr,isCommentComposerFocused:lu,isCommentPopoverInteractionActive:lc,isCommentThreadExpanded:eX,isMediaViewerOpen:lp,isShoppingModuleExpanded:lg,maxWidth:e$,paneWidth:eQ.qr,peekCloseupEnabled:g,setAbortNoActionPlacementTimeout:x,setCalculatedImageHeight:lm,setIsCloseupMediaViewerOpen:lh,setIsCommentAttachmentSelectorOpen:ly,setIsCommentComposerFocused:l_,setIsCommentPopoverInteractionActive:lv,setIsCommentThreadExpanded:S,setIsMediaViewerOpen:lk,setIsShoppingModuleExpanded:lf,showCloseupContentRight:e6&&"sm"!==er||!a&&(({isWideVideo:e,viewportSize:l,peekCloseupEnabled:a})=>!["md","sm"].includes(l)&&!e||a&&"sm"!==l)({isWideVideo:!!(0,a1.A)((0,G.A)({pin:m}))?.isWideVideo,viewportSize:er,peekCloseupEnabled:g}),showProductDetailPage:!1})}let nI=no(function(e){var l;(0,b.useEffect)(()=>{(0,f.A)("AuthDesktopWebCloseup","/app/common/react/components/auth-desktop-web-closeup/AuthDesktopWebCloseup.tsx")},[]);let{logContextEvent:a}=(0,eR.o)(),{pin:t,viewer:i,pinResource:n,pinId:s,goToCampaignCreation:r,deepLinkBackGoesToBoard:o,goBack:d,routePush:u,trafficSource:c}=e,p=(0,O.A)(),g=(0,ll.A)(),m=(0,th.A)(),h=(0,eU._8)(),[y,_]=(0,b.useState)(!1),[v,k]=(0,b.useState)(!1),[x,P]=(0,b.useState)(!1),[C,F]=(0,b.useState)(!1),[I,T]=(0,b.useState)(!1),[K,L]=(0,b.useState)(!1),[R,z]=(0,b.useState)(!1),[D,E]=(0,b.useState)(0),[B,V]=(0,b.useState)(!1),U=(0,ii.A)(),N=(0,b.useRef)(null),{isRelatedPins10PercentVisible:W,setIsRelatedPins10PercentVisible:H}=(0,ak.K)();(0,b.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{H(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),l=N?.current;return N?.current&&e.observe(N?.current),()=>{l&&e.unobserve(l)}},[N,H]);let{setMostRecentPinId:G,setMostRecentPinImage:$}=(0,nA.C1)(),Q=(0,j.A)({type:"Legacy",data:t}),X=(0,e_.Xt)(t.embed?.type)&&"gif"||t.is_eligible_for_pdp&&"productPin"||t.rich_summary?.type_name==="recipe"&&"recipePin"||!!t.story_pin_data_id&&"storyPin"||!!t.videos?.video_list&&"video"||"image",{conversationOpen:q}=(0,nw.A)(),J=(0,aF.A)(),Y=(0,nd.A)(),Z=(0,l3.Y)(),ee=(0,S.zy)(),el=(0,nf.CG)(),[ea,et]=(0,b.useState)(!1),{advertiser:ei}=h,en=(0,e$.uB)(ei,s),es=(0,nv.A)({type:"Legacy",data:t}),{landingContext:er}=(0,ny.A)(),eo=(0,eG.H7)(i,J),ed=(0,np.A)({pinKey:{type:"Legacy",data:t}}),{onHandleBackButtonClick:eu}=nP({logCommerceAuxData:t.promoted_is_lead_ad,deepLinkBackGoesToBoard:o,goBack:d,routePush:u,trafficSource:c,viewer:i,requestContext:h,pinKey:{type:"Legacy",data:t}},a);(0,b.useEffect)(()=>{n.data&&!ea&&r&&et(!0)},[n.data,ea,r]);let ec=!!t,ep=(0,b.useRef)(!1);ec&&Z&&!ep.current&&(Z.addBinaryAnnotation("pinType",X,"STRING"),(0,lC.tL)("pinType",X,"STRING"),ep.current=!0);let em=t.sponsorship?.sponsor?.id,eh=!t.is_repin&&!!em,ey=(0,eg.A)(em&&eh&&i.isAuth&&"storyPin"===X?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${em}/me/ad_accounts_permissions/`}}:null),ev=i.isAuth&&(l=i.country,!A.includes(l))&&(0,w.WX)({orbacSubjectId:eo,pinIsRepin:t.is_repin,pinPinnerId:t.pinner?.id,viewerId:i.id,viewerIsPartner:i.isPartner}),{data:ek,isLoaded:ef}=(0,eg.A)(ev?{name:"ApiResource",options:{url:`/v3/trends/partner/${i.id||""}/trends_for_pin/${t.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:eb}=(0,eI.A)(),ex=(0,b.useMemo)(()=>({data:ek,isLoaded:!ev||ef}),[ek,ef,ev]),eS=!!t.story_pin_data_id,eP=nr({pin:t,pinId:s,pinResource:n}),{mainPinImage:ew}=(0,nn.A)({pinKey:{type:"Legacy",data:t}});return ea?(window.location.assign(en),(0,M.jsx)(b.Fragment,{})):(0,M.jsx)(nF,{...e,abortNoActionPlacementTimeout:B,calculatedImageHeight:D,clientTrackingParams:ed,closeupWithinMasonryEnabled:eb,conversationOpen:q,experimentsClient:g,getSterlingURL:Y,getStringifiedCommerceAuxData:Q,i18n:p,initialState:eP,isCloseupMediaViewerOpen:I,isCommentAttachmentSelectorOpen:y,isCommentComposerFocused:v,isCommentPopoverInteractionActive:x,isCommentThreadExpanded:C,isEligibleForStaticImageIdeaPin:eS,isMediaViewerOpen:K,isRelatedPins10PercentVisible:W,isShoppingModuleExpanded:R,landingContext:er,location:ee,logContextEvent:a,mainImage:ew,onHandleBackButtonClick:eu,orbacActingAs:J,peekCloseupEnabled:!eb,pinFormattedLink:es,pwtSurfaceContext:Z,relatedPinsContainerRef:N,requestContext:h,setAbortNoActionPlacementTimeout:V,setCalculatedImageHeight:E,setIsCloseupMediaViewerOpen:T,setIsCommentAttachmentSelectorOpen:_,setIsCommentComposerFocused:k,setIsCommentPopoverInteractionActive:P,setIsCommentThreadExpanded:F,setIsMediaViewerOpen:L,setIsShoppingModuleExpanded:z,setMostRecentPinId:G,setMostRecentPinImage:$,toastManager:el,trackInteraction:m,trendsData:ex,userBusinessRoleResource:ey,verticalNavWidth:U})});function nT(e){(0,b.useEffect)(()=>{(0,f.A)("AuthDesktopWebCloseup","/app/common/react/components/auth-desktop-web-closeup/AuthDesktopWebCloseup.tsx")},[]);let l=(0,at.A)({url:"/v3/storypins/{pin}/products/",params:{pin:e.pin.id,fields:ao},noCache:!0});return(0,M.jsx)(nI,{...e,storyPinTaggedProductsResource:l})}var nK=a(932369);function nL(e){let{previous:l}=(0,aC.qD)(),a=0===l.length,{children:t}=e,i=(0,S.zy)(),n=(0,lN.A)(),s=(0,x.wA)(),{isBot:r}=(0,eU._8)(),{dropdownOpen:o}=(0,nw.A)(),d=(0,a5.zy)(),u=!!d[e.pinId]&&(d[e.pinId].saved||!!d[e.pinId].savedInfo),c=d[e.pinId]||e.pinResource.data||{},p=e.pinResource.data?.story_pin_data?.pages?.[0]?.blocks?.[0]?.video,g=c?.story_pin_data?.pages?.[0]?.blocks?.[0];p&&g&&!g?.video&&((c?.story_pin_data?.pages?.[0]?.blocks?.[0]).video=p);let m="inbox"===(0,iH.A)(i.search).tab;return t({isLandingPage:a,isLimitedLogin:!!n.isAuth&&n.isLimitedLogin,didRepin:u,openInbox:o,pin:c,shouldShowInbox:m,updateExperienceForPlacement:e=>{s((0,nK.xL)([e],r))}})}var nj=a(243439),nM=a(858537);let nR=`
      ::view-transition-group(image),
      ::view-transition-group(video) {
        animation-timing-function: cubic-bezier(0.55, 0, 0, 1);
      }
      ::view-transition-old([view-transition-name="video"]) {
        display: none;
      }
      ::view-transition-new([view-transition-name="video"]) {
        animation: none;
      }
    `,nz=function({children:e}){return(0,M.jsxs)(b.Fragment,{children:[(0,M.jsx)(eE.A,{unsafeCSS:nR}),e]})};var nD=a(342256),nE=a(169176),nB=a(836664);let nV={display:"block",position:"relative",cursor:"auto"};var nO=a(710825),nU=a(506651);function nN(e){(0,b.useEffect)(()=>{(0,f.A)("ProductStickyContainer","/app/common/react/components/shopping/ProductDetailPage/ProductStickyContainer.tsx")},[]);let{disabled:l,height:a,top:t=0,zIndex:i}=e,n=(0,b.useRef)(null),s=(0,nU.A)();if(l)return e.children;let r=n.current?.getBoundingClientRect().top||0;return(0,M.jsx)(C.az,{ref:n,"data-test-id":"product-sticky-container",id:"product-sticky-container ",children:(0,M.jsx)(C.ib,{height:a,top:s+t+r,zIndex:i,children:e.children})})}function nW({isStoryPin:e,isWideVideo:l,pin:a,trafficSource:t,viewParameterType:i,onClickThrough:n,showStructuredDescription:s,didShortClickThrough:r,goBack:o,isInStream:d=!1,isDeletedStoryPin:u,onSaveButtonClick:c,onUpdate:p,outerBodyStyle:g,routePush:m,showPartnerModule:h,showPinStats:y,showTrendsOnPinCloseup:_,showRepinOnInitialRender:v,trendsData:k,viewType:x}){(0,b.useEffect)(()=>{(0,f.A)("ProductDetailPageBody","/app/common/react/components/ProductDetailPage/ProductDetailPageBody.tsx")},[]);let S=(0,b.useRef)(null),P=(0,b.useRef)(null),w=(0,b.useRef)(null),{checkExperiment:A}=(0,ll.A)(),C=(0,lN.A)(),{closeupWithinMasonryEnabled:I,clientTrackingParams:T}=(0,J._G)(),K=(0,aF.A)(),L=(0,eG.H7)(C,K),j=lp(90),R=lg(),{isCloseupMediaViewerEnabled:z}=(0,ah.A)({isShufflePin:!!a?.shuffle}),D=(0,b.useCallback)(()=>{n&&n({componentType:129}),R.setClickthroughComponentForSurvey("legoMaybeLink")},[n,R]),[E,B]=(0,b.useState)(!1),V=!!a.is_eligible_for_aggregated_comments,{setClickthroughComponentForSurvey:O,imageContainerRef:U}=R,{getViewParameter:N}=eb({type:"Legacy",data:a}),W=N(i),H=(0,b.useCallback)(()=>{n({wasImageClicked:!0})},[n]),G=eQ.bZ,$=(0,M.jsx)(lV.A,{id:"VisualContentContainer",children:(0,M.jsx)(aK,{handleImageClickThrough:H,imageContainerRef:U,isStoryPin:e,isWideVideo:l,onSaveButtonClick:c,pin:a,setClickthroughComponentForSurvey:O,trafficSource:t,viewParameter:W,viewParameterType:i,visualContentContainerRef:V?j.visualContentContainerRef:void 0})}),Q=(0,M.jsx)(lV.A,{id:"ProductStickyContainer-2",children:(0,M.jsx)(nN,{disabled:!1,top:-16,zIndex:lW.d8,children:$})}),X=(0,e9.A)({pinKey:{type:"Legacy",data:a},orbacActingAs:K,viewer:C}),q=(0,M.jsx)(b.Fragment,{children:(0,M.jsx)(lV.A,{id:"ProductMetadata",children:(0,M.jsx)(nO.A,{blendedUIScrollContainerRef:w,clientTrackingParams:T,detailsScrollContainerRef:S.current,isBoardOwnerOrCollaborator:X,isLoadingNewlyCreatedComment:E,onClickThrough:n,outerPaddingSize:G,pinKey:{type:"Legacy",data:a},showPartnerModule:h,showPDPComments:V,showPinStats:y,showStructuredDescription:s,showTrendsOnPinCloseup:_,trendsData:k,viewParameter:W})})}),Y=A("web_collage_add_from_closeup",{dangerouslySkipActivation:!0}).anyEnabled,Z=(0,M.jsx)(lV.A,{id:"CloseupBodyLayout",children:(0,M.jsx)(a$,{actionBarContainerRef:P,blendedUIScrollContainerRef:w,closeupActionBarMaxWidth:I?void 0:eQ.bo,descriptionContentMaxHeight:V?j.descriptionContentMaxHeight:void 0,didShortClickThrough:r,disableLeadPin:!0,goBack:o,isCloseupMaximized:!1,isDeletedStoryPin:u,isEligibleForPinReactions:!a.is_promoted&&!a.is_downstream_promotion&&!u,isInStream:d,isStoryPin:e,isWideVideo:l,marginBottom:8*!I,metadata:q,metadataContainerRef:S,onClickThrough:D,onSaveButtonClick:c,onUpdate:p,orbacSubjectId:L,outerBodyStyle:g,outerPaddingSize:G,pin:a,routePush:m,setIsLoadingNewlyCreatedComment:B,showPDPComments:V,showPromoteBanner:!1,showRepinOnInitialRender:v,trafficSource:t,viewer:C,viewParameter:W,viewType:x,visualContentContainer:s&&!z?Q:$,visualContentContainerRef:V?j.visualContentContainerRef:void 0,webLinkSurveyState:R})});return Y?(0,M.jsx)(F.U,{pinId:a.id,children:Z}):Z}let nH=(0,eZ.A)(()=>a.e("40641").then(a.bind(a,167690)),{ssr:!1},e=>167690,"CloseupPartnerModule",e=>["40641"]),nG=(0,eZ.A)(()=>a.e("6313").then(a.bind(a,999551)),{ssr:!1},e=>999551,"SponsorshipApprovalModule",e=>["6313"]),n$={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},nQ={boxShadow:void 0,borderRadius:16},nX=({closeupWithinMasonryEnabled:e,didShortClickThrough:l,executeClickthrough:a,handleBackButtonClick:t,handleSaveButtonClick:i,isLimitedLogin:n,maxWidth:s,orbacActingAs:r,pin:o,pinResource:d,routePush:u,showRepinOnInitialRender:c,showStructuredDescription:p,trendsData:g,userBusinessRoleResource:m,trafficSource:h,viewer:y,viewportSize:_})=>{(0,b.useEffect)(()=>{(0,f.A)("ProductDetailPageBodyContainer","/app/common/react/components/ProductDetailPage/ProductDetailPageBodyContainer.tsx")},[]);let{checkExperiment:v}=(0,ll.A)(),{isBoostV2Enabled:k}=(0,eV.A)({isQuickPromotableByPinner:o.is_quick_promotable_by_pinner,hasBeenBoostPromoted:o.has_been_boost_promoted}),{id:x,sponsorship:S,story_pin_data_id:P,story_pin_data:A}=o,F=!!P,I=!!A?.is_deleted,{creator:T,sponsor:K,status:L}=S||{},{username:j}=T||{},{username:R}=K||{},{refresh:z}=d,D=(0,eG.H7)(y,r),{data:E}=m||{},B=!o.is_repin&&!!R,V=R===y.username?[aJ.Xf.OWNER]:E?.permissions,O=R===y.username||!!V?.find(e=>aY.includes(e)),U=R===y.username||!!V?.find(e=>aY.includes(e)),{isWideVideo:N}=(0,a1.A)((0,G.A)({pin:o}))||{},W=(0,a0.A)({type:"Legacy",data:o},y,D),H=(0,w.Ac)(g?.data),$=B&&y.isAuth&&v("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(O&&0===L||U&&1===L),Q=F&&(A?.pages?.length??0)>0,X=(0,aZ.r6)(y,_,W,H,g,$),q=e?nQ:n$;return(0,M.jsx)(C.az,{dangerouslySetInlineStyle:{__style:F?{...nV,width:"100%"}:{}},"data-test-id":"gradient",display:"flex",id:"gradient",justifyContent:"center",children:(0,M.jsx)(b.Fragment,{children:(0,M.jsx)(lV.A,{id:"ResponsiveCloseupContainer",children:(0,M.jsx)(tI.A,{isStoryPin:F,isWideVideo:N,children:(0,M.jsx)(eD.A,{name:"CloseupBody",children:(0,M.jsxs)(C.az,{children:[(0,M.jsxs)(C.az,{alignItems:N?"center":void 0,direction:N?"column":void 0,display:N?"flex":void 0,children:[$&&"number"==typeof L&&(0,M.jsx)(C.az,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,M.jsx)(eD.A,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,M.jsx)(lV.A,{id:"SponsorshipApprovalModule",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(nG,{business_role:V,creatorUsername:j??"",pinId:x,sponsorshipStatus:L})})})})}),X&&!e&&(0,M.jsx)(C.az,{"data-test-id":"PartnerModule",width:"lg"===_&&N?s:"100%",children:(0,M.jsx)(eD.A,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,M.jsx)(lV.A,{id:"PartnerModule",children:(0,M.jsx)(eN.A,{children:(0,M.jsx)(nH,{borderStyle:q,isBoostV2Enabled:k,isStoryPin:F,pinKey:{type:"Legacy",data:o},showPinStats:W,trendsData:H?g?.data?.results:null,viewportSize:_})})})})})]}),(0,M.jsx)(lV.A,{id:"ProductDetailPageBody",children:(0,M.jsx)(nW,{didShortClickThrough:l,goBack:t,isDeletedStoryPin:!!I,isStoryPin:F,isWideVideo:!!N,onClickThrough:a,onSaveButtonClick:i,onUpdate:z,outerBodyStyle:F?null:q,pin:o,routePush:u,showPartnerModule:X,showPinStats:W,showRepinOnInitialRender:!n&&c,showStructuredDescription:p,showTrendsOnPinCloseup:H,trafficSource:h,trendsData:g,viewParameterType:Q?157:void 0,viewType:3})})]})})})})})})},nq=(0,eZ.A)(()=>a.e("62102").then(a.bind(a,57123)),void 0,e=>57123,"StructuredFeedStoryModule",e=>["62102"]),nJ=(0,eZ.A)(()=>a.e("89592").then(a.bind(a,611534)),void 0,e=>611534,"app-common-react-components-auth-desktop-web-closeup-CloseupRelatedModules-DomainModule",e=>["89592"]),nY=(0,eZ.A)(()=>Promise.resolve().then(a.bind(a,395044)),void 0,e=>395044,"app-common-react-components-auth-desktop-web-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters",e=>[]),nZ=(0,eZ.A)(()=>a.e("39622").then(a.bind(a,544327)),void 0,e=>544327,"app-common-react-components-auth-desktop-web-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader",e=>["39622"]),n0=(void 0!==_||(_=a(332033)).hash&&"fb9c133d2a86e090538a92171d6d3f63"!==_.hash&&console.error("The definition of 'ProductDetailPageRelatedModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),_),n1=function({clientTrackingParams:e,pinKey:l,setRelatedPinsHeaderRef:a,slotIndex:t,story:i,topLevelTrafficSource:n,viewParameter:s,viewportSize:r,headerRef:o}){let d=(0,K.A)(n0,l),{closeupWithinMasonryEnabled:u}=(0,J._G)();if(!i)return null;let{container_type:c,story_type:p}=i,g=(0,iV.FU)(p);if((0,iW.A)(c)){let e=88===c,l=90===c;return(0,M.jsx)(C.az,{marginBottom:e||l?0:12,paddingX:12*!!l,children:(0,M.jsx)(nq,{componentFallback:13176,initialSlotIndex:t,story:i,storyKey:{type:"Legacy",data:i},surface:"ShoppingDynamicHeightGrid",view:3,viewParameter:s})})}return(0,iV._9)(p)&&g?!u&&(0,M.jsx)(C.az,{alignSelf:"center",children:(0,M.jsx)(nY,{filter:g,pinId:d.entityId,story:i,viewParameter:s})}):["related_products_feed_header","related_modules_header"].includes(p)?o&&(0,M.jsx)(C.az,{ref:a,"data-test-id":"related-modules-header",children:(0,M.jsx)(nZ,{clientTrackingParams:e,headerRef:o,slotIndex:t,storyId:i.id,storyType:p,title:i.title?.format,viewParameter:s})}):"related_domain_carousel"===p?(0,M.jsx)(C.az,{display:"flex",justifyContent:"center",marginBottom:12,children:(0,M.jsx)(nJ,{closeupImageSignature:d.imageSignature||"",data:i,slotIndex:t,storyId:i.id,storyType:p,topLevelTrafficSource:n,viewParameter:s,viewportSize:r})}):null};var n3=a(180229);let n2=(0,eZ.A)(()=>a.e("62102").then(a.bind(a,57123)),void 0,e=>57123,"app-packages-StructuredFeed-ModuleReps-utils-StructuredFeedStoryModule",e=>["62102"]),n5=()=>(0,M.jsx)(b.Fragment,{children:Array(12).fill(void 0).map((e,l)=>(0,M.jsx)(C.az,{marginEnd:4,width:236},`empty-pin-${l}`))}),n6=(void 0!==v||(v=a(1501)).hash&&"86cb4963f4714e2184c01e13236c3616"!==v.hash&&console.error("The definition of 'ProductDetailPageRelatedPins_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),v);function n4(e){return 154===e.container_type?2:e.columnSpan??e.display_options?.content_display?.grid_layout?.cols??1}function n8({surface:e="PdpRelatedPinGrid",closeupBody:l,closeupInclusiveFilters:a,inclusiveModuleToCache:t,isFetching:i=!1,pinKey:n,relatedPins:s,showResponsiveInclusiveFilters:r,topLevelTrafficSource:o}){(0,b.useEffect)(()=>{(0,f.A)("ProductDetailPageRelatedPins","/app/common/react/components/ProductDetailPage/ProductDetailPageRelatedModules/ProductDetailPageRelatedPins.tsx")},[]);let d=(0,O.A)(),{closeupWithinMasonryEnabled:u}=(0,J._G)(),c=(0,K.A)(n6,n),p=(0,i7.A)(),g=(0,b.useRef)(null),{checkExperiment:m}=(0,ll.A)(),h=(0,iq.A)(m,"related_pins"),{hasShoppingModule:y,inclusiveFilters:_}=(0,iA.Ay)({pinId:c.entityId,inclusiveModuleToCache:t,showProductDetailPage:!0}),v=r&&y&&!!_,k=(0,ev.A)({hasPin:!!c,hasPinRichMetadata:!!c.richMetadata,hasPinRichMetadataProducts:!!c.richMetadata?.products,hasPinRichMetadataArticle:!!c.richMetadata?.article,hasPinRichMetadataRecipe:!!c.richMetadata?.recipe,hasPinStoryPinData:!!c.storyPinData}),x=(0,b.useMemo)(()=>iP(s),[s]),S=({data:t,itemIdx:i})=>{let n=(0,iO.A)(p),s=i-x,r=null;if(v&&("shopping_module"===t.type||"inclusive_filters_module"===t.type))"shopping_module"===t.type&&(r=(0,M.jsxs)(C.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,M.jsx)(ls.A,{moduleWidth:"100%",pinKey:c,trafficSource:o,viewParameter:k}),(0,M.jsx)(C.az,{marginTop:2,children:a})]}));else switch(t.type){case"closeup_module":r=l;break;case"shopping_module":r=(0,M.jsx)(ls.A,{moduleWidth:"100%",pinKey:c,trafficSource:o,viewParameter:k});break;case"inclusive_filters_module":r=a;break;case"story":switch(154===t.container_type&&(r=(0,M.jsx)(n3.A,{slotIndex:s,story:t,viewParameter:k,viewType:3})),t.story_type){case"BUBBLE_ONE_COL":r=(0,M.jsx)(iG.default,{bubbles:t.objects,id:t.id,referringSource:t.referring_source,slotIndex:s,storyType:t.story_type,title:t.title,viewParameter:k,viewType:3});break;case"related_query_shop_upsell_closeup":r=(0,M.jsx)(iE.default,{itemIdx:s,story:t,viewParameter:k,viewType:3})}(0,iW.A)(t.container_type)&&(r=(0,M.jsx)(n2,{initialSlotIndex:s,story:t,storyKey:{type:"Legacy",data:t},styleOverrides:{showModuleBorder:n4(t)>1},view:3,viewParameter:k}));break;default:let d=(0,M.jsx)(tE.A,{componentType:13176,imageOnlyOption:n?"image-only":"default",parentPinKey:null,pinKey:{type:"Legacy",data:t},shouldWrapOnProfiler:!0,slotIndex:s,surface:e,trackingParams:t.tracking_params,viewData:{pin_id:c.entityId},viewParameter:k,viewType:3});r=h?(0,M.jsx)(iX.A,{children:d}):d}return(0,M.jsx)(ix,{children:r})},P={isLoadedAccessibilityLabel:s.length>0?d._('Loaded more related product results', 'closeup.relatedProducts.results', 'Accessibility label for loaded more related product results'):d._('Loaded related products result', 'closeup.relatedProducts.results', 'Accessibility label for loaded related products result'),isLoadingAccessibilityLabel:s.length>0?d._('Loading more related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading more related products results'):d._('Loading related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading related products results')},w=u?(0,M.jsx)(iB.default,{_getResponsiveModuleConfigForSecondItem:(0,iA.iM)(!!r),align:"center",getColumnSpanConfig:n4,isFetching:i,isLoadingStateEnabled:!0,items:s,layout:"basic",masonryRef:g,minCols:2,renderItem:S,serverRender:!0,virtualize:iA.E0,...P}):(0,M.jsxs)(C.az,{dangerouslySetInlineStyle:{__style:{marginLeft:"5px"}},children:[(0,M.jsx)(iB.default,{getColumnSpanConfig:n4,isFetching:i,isLoadingStateEnabled:!0,items:s,renderItem:S,...P}),(0,M.jsx)(n5,{})]});return(0,M.jsx)(lQ.A,{metricName:"RelatedModulesFeed",children:(0,M.jsx)(ae.A,{component:86,viewParameter:k,children:w})})}var n7=a(481714),n9=a(930750);let se=(void 0!==k||(k=a(390106)).hash&&"85ae0703574c2bc161bc13206c3184f8"!==k.hash&&console.error("The definition of 'ProductDetailPageRelatedModules_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),k);function sl({clientTrackingParams:e,closeupBody:l,excludeStories:a,initialSlotIndex:t=0,isFilteredFeed:i,pinKey:n,relatedModulesFeedResource:s,setRelatedPinsHeaderRef:r,topLevelTrafficSource:o,viewParameter:d,viewportSize:u,containerRef:c}){let p=(0,K.A)(se,n),{search:g}=(0,S.zy)(),{closeupWithinMasonryEnabled:m}=(0,J._G)(),h=iw(new URLSearchParams(g).get("filters")??""),y=(0,b.useMemo)(()=>(s.data||[]).filter(e=>["SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries","inclusive_onebar_pills_on_closeup"].includes(e?.story_type??"")).find(e=>(0,iV._9)(e?.story_type??"")),[s]),{closeupMasonryModules:_,hasShoppingModule:v,inclusiveFilters:k}=(0,iA.Ay)({pinId:p.entityId,inclusiveModuleToCache:y,showProductDetailPage:!0}),f=k?(0,iV.FU)(k.story_type??""):"",{inInclusiveEfficientRefinements:x}=(0,iC.A)(f),P=x&&v&&!!k,w=m&&x&&h,A=(0,eg.A)(w?{name:"ApiResource",options:{url:`/v3/pins/${p.entityId}/related/pins/filter/`,data:{fields:iK.A,related_pins_tabs_selections:h}}}:null),{data:F,isAtEnd:I,isFetching:T,fetchMore:L,nextBookmark:j}=w?A:s,R=(0,b.useMemo)(()=>(F||[]).filter(e=>!(a&&"story"===e.type&&e.story_type&&a.includes(e.story_type))),[F,a]),z=i&&"-end-"===j,D=F?F.length:0,E=(0,b.useMemo)(()=>(0,n9.A)(R),[R]),B=(0,b.useCallback)(e=>!!("pin"===e.type||"story"===e.type&&(n7.c.has(e.story_type)||n7.S.has(e.story_type)||154===e.container_type)),[]),V=(0,S.wQ)(),O=(0,b.useRef)(t),U=(0,iH.A)(g).rs,N="POP"===V;(0,b.useEffect)(()=>{iT({isFromBackButton:N,referringSource:U,relatedModulesRef:c})},[N,g,U,c]);let W=(0,b.useMemo)(()=>k&&f?(0,M.jsx)(iv.default,{filter:f,pinId:p.entityId,story:k,viewParameter:d}):null,[k,f,d,p.entityId]),{storyModules:H,allPins:G}=(0,b.useMemo)(()=>{let l=[],a=[...P?_.filter(e=>"inclusive_filters_module"!==e.type):_],t=0;return E.length>0&&E.forEach((i,n)=>{0===n&&(O.current=0,t=0);let s=0;Array.isArray(i)?(s+=i.length,a.push(...i.filter(B))):"story"===i.type&&(s+="objects"in i&&Array.isArray(i.objects)?i.objects.length:1,l.push((0,M.jsx)(C.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,M.jsx)(n1,{clientTrackingParams:e,headerRef:c,pinKey:p,setRelatedPinsHeaderRef:r,slotIndex:t,story:i,topLevelTrafficSource:o,viewParameter:d,viewportSize:u})},Array.isArray(i)?i[0]?.id:i.id))),O.current=t+=s}),{storyModules:l,allPins:a}},[_,E,B,e,p,r,o,d,u,c,P]);return(0,M.jsxs)(b.Fragment,{children:[H,(0,M.jsx)(lV.A,{id:"ProductDetailPageRelatedPins",children:(0,M.jsx)(n8,{closeupBody:l,closeupInclusiveFilters:W,inclusiveModuleToCache:y,initialSlotIndex:O.current,isFetching:T,pinKey:p,relatedPins:G,showResponsiveInclusiveFilters:x,surface:i?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:o})}),(0,M.jsx)(C.WY,{fetchMore:L,isAtEnd:I,isFetching:T}),z&&D>0&&(0,M.jsx)(iy,{}),z&&0===D&&(0,M.jsx)(i_,{})]})}function sa({relatedPinsContainerRef:e,relatedResourceOptions:l,viewParameter:a,...t}){(0,b.useEffect)(()=>{(0,f.A)("ProductDetailPageRelatedModules","/app/common/react/components/ProductDetailPage/ProductDetailPageRelatedModules/ProductDetailPageRelatedModules.tsx")},[]);let{search:i}=(0,S.zy)(),n=new URLSearchParams(i).get("utm_source"),s=(0,eg.A)("ads_manager"===n?null:l);return(0,M.jsx)(C.az,{ref:e,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:e&&(0,M.jsx)(lV.A,{id:"RelatedModulesFeed",children:(0,M.jsx)(sl,{...t,containerRef:e,excludeStories:[],initialSlotIndex:0,isFilteredFeed:!1,relatedModulesFeedResource:s,relatedResourceOptions:l,viewParameter:a})})})}var st=a(395999),si=a(409652),sn=a(294056);function ss({conversation_id:e,senderId:l,pinId:a}){(0,ng.A)({url:"/v3/conversations/{conversation}/message/mark_seen/",urlParams:{conversation:e},method:"POST",data:{sender:l,pin:a}})}function sr(e){(0,b.useEffect)(()=>{(0,f.A)("ProductDetailPage","/app/common/react/components/ProductDetailPage/ProductDetailPage.tsx")},[]);let{clientTrackingParams:l,closeupWithinMasonryEnabled:a,conversation_id:t,conversationOpen:i,didRepin:n,dispatch:s,goToCampaignCreation:r,i18n:o,initialState:d,isLandingPage:u,isLimitedLogin:c,logContextEvent:p,mainImage:g,onHandleBackButtonClick:m,openInbox:h,orbacActingAs:y,peekCloseupEnabled:_,pin:v,pinFormattedLink:k,pinId:x,pinResource:S,pwtSurfaceContext:P,requestContext:w,routePush:A,senderId:F,setAbortNoActionPlacementTimeout:I,setMostRecentPinId:K,setMostRecentPinImage:L,setPlacementExtraContext:R,shouldShowInbox:z,showRepinOnInitialRender:D,showStructuredDescription:E,toastManager:B,trackInteraction:V,trafficSource:O,trendsData:U,userBusinessRoleResource:N,verticalNavWidth:W,viewer:H}=e,{visualState:$,didShortClickThrough:Q=!1,isOverRelatedPins:X=!1,viewportSize:q="lg",firstLoadComplete:J=!1,campaignCreationTriggered:Y=!1,intervalId:Z}=d||{},ee=d?.didPinClickThrough||!1,[el,ea]=(0,b.useState)($),[et,ei]=(0,b.useState)(Q),[en,es]=(0,b.useState)(q),[er,eo]=(0,b.useState)(X),[ed,eu]=(0,b.useState)(J),[ec,ep]=(0,b.useState)(Y),[eg,em]=(0,b.useState)(Z),[eh,ey]=(0,b.useState)(ee),{addCloseup:ek,getTrackedNearDupSigs:ef}=(0,nx._1)()||{},{setCurrentlyViewingPinId:eb,setLastVisitedPinId:ex}=(0,nA.C1)(),eS=(0,b.useCallback)(()=>{ea(e=>{let l=ni({carouselData:v.carousel_data,images:v.images,product:(v.rich_metadata||v.rich_summary)?.products?.[0]});return{...e,carouselData:l}})},[v]);(0,lo.A)(()=>{let e=function({richPinData:e={}}){return e?.products?.[0]}({richPinData:v.rich_summary});!el.carouselData&&(e?.has_multi_images||e?.videos?.length)&&eS()});let[eP,ew]=(0,b.useState)(!1),eA=(0,b.useRef)(!1),eC=(0,b.useRef)(null),eF=(0,b.useRef)(0),eI=(0,b.useMemo)(()=>{let e=(v||{}).board||{},l=e.is_collaborative&&(0,nu.A)(e.collaborated_by_me,e.owner?.id,H);return!!(H.isAuth&&v.pinner?.id===H.id||l)},[v,H]),eT=(0,b.useCallback)(()=>{let{isWideVideo:e}=(0,a1.A)((0,G.A)({pin:v}))||{};eA.current&&es(function({isWideVideo:e,hasCarouselData:l,closeupWithinMasonryEnabled:a,verticalNavWidth:t}){let{BREAKPOINT:i,WIDE_VIDEO_BREAKPOINT:n,WIDE_PDP_BREAKPOINT:s,SM_BREAKPOINT:r,EXP_SM_BREAKPOINT:o,SM_WITH_CAROUSEL_BREAKPOINT:d}=(({verticalNavWidth:e})=>({BREAKPOINT:1056+e,WIDE_VIDEO_BREAKPOINT:998+e,WIDE_PDP_BREAKPOINT:1300+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:860+e,SM_WITH_CAROUSEL_BREAKPOINT:960+e,BACK_BUTTON_WIDE_BREAKPOINT:1135+e,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:1465+e,BACK_BUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,BACK_BUTTON_WITH_LABEL_WIDE_CAROUSEL_BREAKPOINT:1640+e,BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:780+e,BACK_BUTTON_NARROW_BREAKPOINT:630+e}))({verticalNavWidth:t}),u=i,c=a?o:r;return(e&&(u=n),l&&(u=s,c=a?d:c),window?.innerWidth<c)?"sm":window?.innerWidth<u?"md":"lg"}({isWideVideo:!!e,hasCarouselData:!!el?.carouselData,closeupWithinMasonryEnabled:a,verticalNavWidth:W}))},[a,v,W,el?.carouselData]),eK=(0,b.useCallback)(()=>{eF.current>0&&(ei(Date.now()-eF.current<5e3),eF.current=0)},[]);(0,lo.A)(()=>{eA.current=!0,t&&F&&x&&ss({conversation_id:t,senderId:F,pinId:x}),t&&(i(t),z&&h()),v.image_signature&&L(v.image_signature),x&&(K(x),eb(x)),R&&R({is_own_or_group_pin:eI});let e=(0,tZ.y1)().getItem(tY.Gq)||"";return e&&e===x&&((0,tZ.y1)().removeItem(tY.Gq),V({action:"trigger",item:"unauth-save-button-quicksave"}),(0,st.A)({description:v.description,entityId:v.id,link:v.link,promotedIsRemovable:v.promoted_is_removable,title:v.title},o,p).then(e=>{let{id:l,url:a,name:t}=e;s((0,sn.R)({boardId:l,url:a,title:t||"",pinId:x,nodeId:v.node_id})),B.showToast(({hideToast:l})=>(0,M.jsx)(si.A,{boardName:e.name,boardUrl:e.url,onHide:l,pinImageUrl:v.images?.["236x"]?.url??""}))})),eT(),window.addEventListener("resize",eT),window.addEventListener("focus",eK),window?.location?.search?.includes("invite_code=")&&(0,nm.A)(),()=>{x&&ex(x),eb(null),window.removeEventListener("resize",eT),window.removeEventListener("focus",eK),eA.current=!1}});let eL=(0,b.useCallback)(()=>{let{advertiser:e}=w,l=(0,e$.uB)(e,x);ep(!0),window.location.assign(l)},[x,w]),eM=(0,b.useCallback)((e,l)=>{let a={visualState:el,didShortClickThrough:et,didPinClickThrough:eh,isOverRelatedPins:er,firstLoadComplete:ed,campaignCreationTriggered:ec,intervalId:eg,viewportSize:en,backButtonLabelFitInScreen:!1,closeupBodyContainerHeight:0,closeupContainerHeight:0},t=function(e,l){switch(l.type){case"gallerySelect":return{shopping:l.select};case"pinLoaded":{let a=e.myTry?{}:{myTry:{isDoneByMe:l.pin.done_by_me}};return{pin:l.pin,...a,firstLoadComplete:!0}}case"tryChange":return{myTry:{isDoneByMe:l.isDoneByMe}};default:throw"impossible"}}(a,e);t.visualState!==a.visualState&&t.visualState&&ea(t.visualState),t.didShortClickThrough!==a.didShortClickThrough&&t.didShortClickThrough&&ei(t.didShortClickThrough),t.didPinClickThrough!==a.didPinClickThrough&&t.didPinClickThrough&&ey(t.didPinClickThrough),t.isOverRelatedPins!==a.isOverRelatedPins&&t.isOverRelatedPins&&eo(t.isOverRelatedPins),t.firstLoadComplete!==a.firstLoadComplete&&t.firstLoadComplete&&eu(t.firstLoadComplete),t.campaignCreationTriggered!==a.campaignCreationTriggered&&t.campaignCreationTriggered&&ep(t.campaignCreationTriggered),t.intervalId!==a.intervalId&&em(t.intervalId),t.viewportSize!==a.viewportSize&&t.viewportSize&&es(t.viewportSize),l&&l()},[el,et,eh,er,ed,ec,eg,en]),eR=(0,b.useCallback)(()=>{let e;if(!ed)return;let l=ni({carouselData:v.carousel_data,images:v.images,product:(v.rich_metadata||v.rich_summary)?.products?.[0]}),a=(l?.carousel_slots||[])[0]||{},t=(0,nc.A)(a.images),i=el.carouselData,n=el.mainImage||{url:""},s=i?.index||0;e=l&&(l.carousel_slots?.length||0)>1?{mainImage:g,carouselData:{...l,index:s},previewImage:ns(v.images?.["236x"])}:t?.url?{mainImage:{url:t.url,height:t.height||1,width:t.width||1}}:{mainImage:g,previewImage:ns(v.images?.["236x"])},(i?.id!==e.carouselData?.id||JSON.stringify(i?.carousel_slots)!==JSON.stringify(e.carouselData?.carousel_slots)||n.url!==e.mainImage.url)&&(ea(e),eT())},[ed,v.carousel_data,v.images,v.rich_metadata,v.rich_summary,el.carouselData,el.mainImage,g,eT]),ez=(0,b.useCallback)(()=>{let{carouselData:e}=el;return function({viewportSize:e,hasCarouselData:l}){return l&&["lg","md"].includes(e)}({viewportSize:en,hasCarouselData:!!e})},[en,el]);(0,b.useEffect)(()=>{eR(),!ed||ez()||eP||(P?.removeConstraint("thumbnailsLoaded"),(0,lC.$Q)("thumbnailsLoaded"),ew(!0));let{data:e}=S;e&&!ed&&(e.carousel_data&&(e.carousel_data.index=el.carouselData?.index||0),eM({type:"pinLoaded",pin:e})),t&&F&&x&&ss({conversation_id:t,senderId:F,pinId:x}),S.data&&!ec&&r&&eL();let l={};((0,tZ.y1)().getItem(tY.NB)||"").includes(`/pin/${x}`)&&u&&(l.loginPageType="pin"),n&&(l.didRepin=!0),v.image_signature&&(l.pin_image_signature=v.image_signature),l.is_own_or_group_pin=eI,!(0,nh.A)(l)&&R&&R({...l})},[ed,ec,S.data,x,el.carouselData,v.image_signature,t,F,n,u,eP,r,eR,ez,S,eI,R,P,eM,eL]),(0,b.useEffect)(()=>{v.near_dup_sig&&ek&&ek(v.near_dup_sig)},[ek,v.near_dup_sig]);let eD=(0,b.useCallback)(e=>{eC.current=e||null},[]),eE=(0,b.useCallback)(()=>{clearInterval(eg),R&&R({didLongClickThrough:!0})},[eg,R]),eB=(0,j.A)({type:"Legacy",data:v}),eV=(0,b.useCallback)(e=>{let a=!!v.story_pin_data,{wasImageClicked:t,auxData:i,componentType:n=a?228:4,elementType:s=t?35:a?11157:361,viewType:r=3}=e||{},o=(0,ev.A)({hasPin:!0,hasPinRichMetadata:!!v.rich_metadata,hasPinRichMetadataProducts:!!v.rich_metadata?.products,hasPinRichMetadataArticle:!!v.rich_metadata?.article,hasPinRichMetadataRecipe:!!v.rich_metadata?.recipe,hasPinStoryPinData:!!v.story_pin_data}),d={...eB(),...i||{}};H&&H.isAuth&&!eh&&R&&(R({didPinClickThrough:!0}),ey(!0)),a&&p({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:v.id,url:k}}),p({event_type:101,object_id_str:x,component:n,element:s,aux_data:d,clientTrackingParams:l}),p({event_type:12,object_id_str:x,view_type:r,view_parameter:o,component:n,element:s,aux_data:d,clientTrackingParams:l}),p({event_type:8948,view_type:r,view_parameter:o,component:n,element:s,object_id_str:x,aux_data:{click_type:"clickthrough",closeup_navigation_type:O&&(0,e_.N9)(O)?"deeplink":"click",...d}}),p({event_type:12,object_id_str:x,view_type:r,view_parameter:o,component:n,element:s,aux_data:{...d,...(0,n_.A)(v.link_utm_applicable_and_replaced)},clientTrackingParams:l}),t&&em(window.setInterval(eE,12e4)),eF.current=Date.now(),et&&ei(!1),I(!0)},[v.story_pin_data,v.rich_metadata,v.id,eB,H,eh,R,p,x,l,O,et,I,k,eE,v.link_utm_applicable_and_replaced]),eU=(0,b.useCallback)(()=>{clearInterval(eg),R&&R({didLongClickThrough:!1})},[eg,R]),eN=(0,b.useCallback)(()=>{p({event_type:101,object_id_str:v.id,component:4,element:13306,clientTrackingParams:l,aux_data:{...eB()}}),I(!0)},[v.id,p,l,eB,I]),eW=(0,b.useCallback)(()=>{m()},[m]),eH=(0,b.useCallback)(e=>{ed&&ea(l=>({...l,carouselData:{...l.carouselData||{},index:e}}))},[ed]),eX=(0,b.useCallback)(()=>(0,t9.A)(()=>{if(!eC.current)return;let e=ld.Wk,l=eC.current.getBoundingClientRect().top<=e;er!==l&&eo(l)},10)(),[er]),eq=(0,b.useCallback)(e=>{e.stopPropagation(),eW()},[eW]),{abortNoActionPlacementTimeout:eJ,contextPinIds:eY,getAdditionalFields:eZ,pinDerivedData:e0,topLevelTrafficSource:e1,topLevelTrafficSourceDepth:e3,searchQuery:e2,isCommentAttachmentSelectorOpen:e5,isCommentComposerFocused:e6,isCommentPopoverInteractionActive:e4,isCommentThreadExpanded:e8,isProductDetailsExpanded:e7,setIsCommentAttachmentSelectorOpen:e9,setIsCommentComposerFocused:le,setIsCommentPopoverInteractionActive:ll,setIsCommentThreadExpanded:la,setIsProductDetailsExpanded:lt,isCloseupMediaViewerOpen:li,setIsCloseupMediaViewerOpen:ln,landingContext:ls,relatedPinsContainerRef:lr}=e,lu=eB(),{isWideVideo:lc}=(0,a1.A)((0,G.A)({pin:v}))||{},lp=(0,T.A)({showProductDetailPage:!0}),lg=lp?"sm"!==en:!a&&(({isWideVideo:e,viewportSize:l,peekCloseupEnabled:a})=>!["md","sm"].includes(l)&&!e||a&&"sm"!==l)({isWideVideo:!!lc,viewportSize:en,peekCloseupEnabled:_}),{recommendation_reason:lm}=v,lh=(0,b.useMemo)(()=>({name:"RelatedModulesResource",options:{additional_fields:eZ(),pin_id:v.id,context_pin_ids:eY,context_near_dup_image_sigs:ef?ef(v.id||x):[],homefeed_source_sig:lm&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(lm.reason??"")&&lm.reason_id,page_size:12,search_query:e2,source:O,top_level_source:e1,top_level_source_depth:e3,is_pdp:v.is_eligible_for_pdp,landing_context:ls}}),[eZ,v.id,eY,ef,x,lm,e2,O,e1,e3,v.is_eligible_for_pdp,ls]),ly=(0,eG.Hs)(H,v.pinner?.id,y),l_=!!v.id&&!ly||a,lv=a?eQ.qr:eQ.bo,lk=ez()&&lg?eQ.tb:lv,lf=ez()?eQ.h3:eQ.DG,lb=a||"lg"!==en?lk:lf-lk,lx=ed&&(ez()||a),lS=lx&&(0,M.jsx)(lV.A,{id:"ProductStickyContainer",children:(0,M.jsx)(nN,{disabled:!E||a,children:(0,M.jsx)(lV.A,{id:"ImageContainerPerf",children:(0,M.jsx)(eO.A,{containerId:"InnerScrollContainer",children:(0,M.jsx)(lV.A,{id:"SecondaryCarousel",children:(0,M.jsx)(ej.A,{accessibilityControls:`closeup-image-container-${v.id}`,commerceData:lu,pinId:v.id,size:"sm",surfaceType:"closeup",viewParameter:(0,ev.A)({hasPin:!!v,hasPinRichMetadata:!!v.rich_metadata,hasPinRichMetadataProducts:!!v.rich_metadata?.products,hasPinRichMetadataArticle:!!v.rich_metadata?.article,hasPinRichMetadataRecipe:!!v.rich_metadata?.recipe,hasPinStoryPinData:!!v.story_pin_data})})})})})})}),lP=lx&&(0,M.jsx)(C.az,{width:80}),lw=(0,b.useMemo)(()=>(0,M.jsx)(lV.A,{id:"ProductDetailPageBodyContainer",children:(0,M.jsx)(nX,{closeupWithinMasonryEnabled:a,didShortClickThrough:et,executeClickthrough:eV,handleBackButtonClick:eW,handleSaveButtonClick:eN,isLimitedLogin:c,maxWidth:lf,orbacActingAs:y,pin:v,pinResource:S,routePush:A,showRepinOnInitialRender:D,showStructuredDescription:E,trafficSource:O,trendsData:U,userBusinessRoleResource:N,viewer:H,viewportSize:en})}),[a,et,eV,eW,eN,c,lf,y,v,S,A,D,E,O,U,N,H,en]),lA=(0,M.jsx)(lV.A,{id:"CloseupContent",children:(0,M.jsx)(is,{isVideoPin:e0.isVideoPin,pin:v,pinResource:S,topLevelTrafficSource:e1,didShortClickThrough:et,firstLoadComplete:ed,viewportSize:en,relatedModulesContent:l_?(0,M.jsx)(lV.A,{id:"ProductDetailPageRelatedModules",children:(0,M.jsx)(sa,{closeupBody:lw,pinKey:{type:"Legacy",data:v},relatedPinsContainerRef:lr,relatedResourceOptions:lh,setRelatedPinsHeaderRef:eD,topLevelTrafficSource:e1,viewParameter:(0,ev.A)({hasPin:!!v,hasPinRichMetadata:!!v.rich_metadata,hasPinRichMetadataProducts:!!v.rich_metadata?.products,hasPinRichMetadataArticle:!!v.rich_metadata?.article,hasPinRichMetadataRecipe:!!v.rich_metadata?.recipe,hasPinStoryPinData:!!v.story_pin_data}),viewportSize:en})}):(0,M.jsx)(b.Fragment,{}),afterBodyContent:lP,beforeBodyContent:lS,bodyContent:lw,onWrapperClick:eq,backButton:(0,M.jsx)(nk.A,{onClick:eW,size:lp?"lg":"xl"}),isProductDetailsExpanded:e7,peekCloseupEnabled:_,setIsCommentAttachmentSelectorOpen:e9,setIsCommentComposerFocused:le,setIsCommentPopoverInteractionActive:ll,setIsCommentThreadExpanded:la,setIsCloseupMediaViewerOpen:ln,setIsProductDetailsExpanded:lt,closeupWithinMasonryEnabled:a,setAbortNoActionPlacementTimeout:I})});return(0,M.jsx)(lV.A,{id:"CloseupLayout",children:(0,M.jsx)(im,{abortNoActionPlacementTimeout:eJ,beforeBodyContent:lS,classProps:{...e,location:{pathname:"",search:"",hash:""}},classState:{...e.initialState,pin:v,visualState:el,didShortClickThrough:et,didPinClickThrough:eh,firstLoadComplete:ed,intervalId:eg,viewportSize:en,isOverRelatedPins:er},clientTrackingParams:l,commerceData:lu,showCloseupContentRight:lg,showProductDetailPage:!0,paneWidth:lk,maxWidth:lf,descriptionPaneWidth:lb,handleCarouselSwipe:eH,handleFocus:eU,handleScroll:eX,handleBackButtonClick:eW,closeupContent:lA,isCloseupMediaViewerOpen:li,isCommentAttachmentSelectorOpen:e5,isCommentComposerFocused:e6,isCommentPopoverInteractionActive:e4,isCommentThreadExpanded:e8,isProductDetailsExpanded:e7,peekCloseupEnabled:_,setIsCommentAttachmentSelectorOpen:e9,setIsCommentComposerFocused:le,setIsCommentPopoverInteractionActive:ll,setIsCommentThreadExpanded:la,setIsCloseupMediaViewerOpen:ln,setIsProductDetailsExpanded:lt,closeupWithinMasonryEnabled:a,setAbortNoActionPlacementTimeout:I})})}let so=no(function(e){let{clientTrackingParams:l,pin:a,pinResource:t,pinId:i,viewer:n,deepLinkBackGoesToBoard:s,goBack:r,routePush:o,trafficSource:d}=e,{logContextEvent:u}=(0,eR.o)(),c=(0,th.A)(),p=(0,O.A)(),g=(0,eU._8)(),m=(0,ll.A)(),h=!!(a.is_eligible_for_pdp&&!a.story_pin_data&&a.formatted_description?.components),[y,_]=(0,b.useState)(!1),[v,k]=(0,b.useState)(!1),[f,S]=(0,b.useState)(!1),[P,A]=(0,b.useState)(!1),[C,F]=(0,b.useState)(!1),[I,T]=(0,b.useState)(!1),[K,L]=(0,b.useState)(!1),R=(0,b.useRef)(null),{setMostRecentPinId:z,setMostRecentPinImage:D}=(0,nA.C1)(),E=(0,j.A)({type:"Legacy",data:a}),B=(0,nv.A)({type:"Legacy",data:a}),V=(0,e_.Xt)(a.embed?.type)&&"gif"||!!a.is_eligible_for_pdp&&"productPin"||a.rich_summary?.type_name==="recipe"&&"recipePin"||a.story_pin_data_id&&"storyPin"||!!a.videos?.video_list&&"video"||"image",{conversationOpen:U}=(0,nw.A)(),N=(0,ii.A)(),{landingContext:W}=(0,ny.A)(),H=(0,aF.A)(),G=(0,eG.H7)(n,H),$=a.sponsorship?.sponsor?.id,Q=!a.is_repin&&!!$,X=(0,eg.A)($&&Q&&n.isAuth&&"storyPin"===V?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${$}/me/ad_accounts_permissions/`}}:null),{onHandleBackButtonClick:q}=nP({logCommerceAuxData:!0,deepLinkBackGoesToBoard:s,element:13310,goBack:r,routePush:o,trafficSource:d,viewer:n,requestContext:g,pinKey:{type:"Legacy",data:a}},u),J=n.isAuth&&(0,w.WX)({orbacSubjectId:G,pinIsRepin:a.is_repin,pinPinnerId:a.pinner?.id,viewerId:n.id,viewerIsPartner:n.isPartner}),{data:Y,isLoaded:Z}=(0,eg.A)(J?{name:"ApiResource",options:{url:`/v3/trends/partner/${n.id||""}/trends_for_pin/${a.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:ee}=(0,eI.A)(),el=nr({pin:a,pinId:i,pinResource:t}),{mainPinImage:ea}=(0,nn.A)({pinKey:{type:"Legacy",data:a}}),et=(0,b.useCallback)(()=>["pin.gen_ai_topics"],[]);return(0,M.jsx)(lV.A,{id:"ProductDetailPageInner",children:(0,M.jsx)(sr,{...e,abortNoActionPlacementTimeout:y,clientTrackingParams:l,closeupWithinMasonryEnabled:ee,conversationOpen:U,dispatch:(0,x.wA)(),experimentsClient:m,getAdditionalFields:et,getSterlingURL:(0,nd.A)(),getStringifiedCommerceAuxData:E,i18n:p,initialState:el,isCloseupMediaViewerOpen:K,isCommentAttachmentSelectorOpen:v,isCommentComposerFocused:f,isCommentPopoverInteractionActive:P,isCommentThreadExpanded:C,isProductDetailsExpanded:I,landingContext:W,logContextEvent:u,mainImage:ea,onHandleBackButtonClick:q,orbacActingAs:H,peekCloseupEnabled:!ee,pinFormattedLink:B,pwtSurfaceContext:(0,l3.Y)(),relatedPinsContainerRef:R,requestContext:g,setAbortNoActionPlacementTimeout:_,setIsCloseupMediaViewerOpen:L,setIsCommentAttachmentSelectorOpen:k,setIsCommentComposerFocused:S,setIsCommentPopoverInteractionActive:A,setIsCommentThreadExpanded:F,setIsProductDetailsExpanded:T,setMostRecentPinId:z,setMostRecentPinImage:D,showStructuredDescription:h,toastManager:(0,nf.CG)(),trackInteraction:c,trendsData:{data:Y,isLoaded:!J||Z},userBusinessRoleResource:X,verticalNavWidth:N})})});var sd=a(255889),su=a(871292),sc=a(441961);function sp(e,l=!1){let a=e||window.location.href;(0,su.A)(`/login?next=${l?(0,sc.A)(a,{type:"signup"}):encodeURIComponent(a)}`)}var sg=a(544673),sm=a(106301),sh=a(816964);let sy=(0,eZ.A)(()=>a.e("80905").then(a.bind(a,332940)),void 0,e=>332940,"app-common-react-components-StatusPin-StatusPinCloseup",e=>["80905"]),s_=(0,P.A)(e=>({isVideoPin:!!e&&(0,e_.Jf)(e),isYoutubePin:!!e&&(0,e_.rT)({isVideo:e.is_video,link:e.link})}));function sv({checkExperiment:e,clientTrackingParams:l,currentHistoryStack:a,navigate:t,location:i,params:n,pinResource:s,requestContext:r,searchPinCloseupViewed:o,goToCampaignCreation:d,showRepin:u,closeupComponentToRender:c,...p}){(0,b.useEffect)(()=>{(0,f.A)("CloseupContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupContainer.tsx")},[]);let g=s.data,m=s.isLoaded,h=(0,b.useRef)(null),y=(0,lN.A)(),_="id"in y?y.id:"",v=m&&g&&g.pinner&&y.isAuth&&y.username===g.pinner.username&&m&&g&&"extension"===g.method,{trafficSource:k,topLevelTrafficSource:x,topLevelTrafficSourceDepth:S,contextPinIds:P}=(0,nj.A)(a,y.isAuth);S>1&&"pin"!==k&&(0,aE.GV)("p2p.traffic_source.client",{sampleRate:.1,tags:{trafficSource:k,topLevelTrafficSource:x,topLevelTrafficSourceDepth:S}});let w=(0,sd.V)(a),A=(0,iH.A)(i.search);(0,b.useEffect)(()=>{h.current!==g&&function({navigate:e,isBot:l,location:a,viewerId:t,viewerIsAuth:i}){!l&&t&&"u">typeof window&&(0,sg.K)(window.location,t,!1,i,l=>e(l,{state:a.state,replace:!0}))}({navigate:t,isBot:r.isBot,location:i,viewerId:_,viewerIsAuth:y.isAuth}),h.current=g},[t,i,h,g,r.isBot,y.isAuth,y,_]),(0,b.useEffect)(()=>()=>{w&&g?.id&&o(g.id,w)},[g?.id,w,o]);let C=(0,b.useMemo)(()=>({viewType:3,viewParameter:(0,ev.A)({hasPin:!!g,hasPinRichMetadata:!!g?.rich_metadata,hasPinRichMetadataProducts:!!g?.rich_metadata?.products,hasPinRichMetadataArticle:!!g?.rich_metadata?.article,hasPinRichMetadataRecipe:!!g?.rich_metadata?.recipe,hasPinStoryPinData:!!g?.story_pin_data})}),[g]),F=(0,b.useMemo)(()=>({featuredCommentId:n.comment_id||""}),[n.comment_id]),I=(0,b.useMemo)(()=>(function({boardUrl:e,currentHistoryStack:l,navigate:a,isFromExtension:t=!1,hasViewerPartner:i}){return()=>{l.map(e=>{var l;return!!(l=e.location)&&((0,sd.g)(l)||(({pathname:e})=>/^\/pin\/[\w-]+\/activity\/tried\/?$/.test(e))(l))}).find(e=>!0===e)||t?t&&1===l.length?a(e??""):a(-1):i?a("/homefeed/"):a("/")}})({boardUrl:g?.board?.url,currentHistoryStack:a,navigate:t,isFromExtension:!!v,hasViewerPartner:!!("partner"in y&&y.partner)}),[a,t,v,g?.board?.url,y]);return(0,M.jsx)(lV.A,{id:"FeaturedCommentProvider",children:(0,M.jsx)(nD.j,{children:(0,M.jsx)(nE.J,{value:F,children:(0,M.jsx)(lV.A,{id:"SearchParamsContextProvider",children:(0,M.jsx)(sm.n,{value:C,children:(0,M.jsx)(lV.A,{id:"OneBarProductFiltersContextProvider",children:(0,M.jsx)(nB.Q,{children:(0,M.jsx)(lV.A,{id:"ViewTransitionProvider",children:(0,M.jsx)(nz,{children:(0,M.jsx)(lV.A,{id:"ExperienceCloseupFeatures",children:(0,M.jsx)(lU.tc,{children:(0,M.jsx)(lV.A,{id:"CloseupBodyContextProvider",children:(0,M.jsx)(ak.i,{children:(0,M.jsx)(lV.A,{id:"CloseupReduxWrapper",children:(0,M.jsx)(nL,{pinId:n.id||"",pinResource:s,children:({isLandingPage:e,isLimitedLogin:a,didRepin:i,openInbox:r,pin:o,shouldShowInbox:g,updateExperienceForPlacement:m})=>{let h={clientTrackingParams:l,contextPinIds:P,conversation_id:A.conversation_id,deepLinkBackGoesToBoard:v,emailId:A.e_t,forceSendFeedback:A.fsf,goBack:I,goToCampaignCreation:d,messageId:A.message,onLoginClick:sp,pinId:n.id??"",pinResource:s,routePush:t,searchQuery:w,senderId:A.sender,showRepinOnInitialRender:u,topLevelTrafficSource:x,topLevelTrafficSourceDepth:S,trafficSource:k,viewer:y,didRepin:i,isLandingPage:e,isLimitedLogin:a,openInbox:r,pin:o,pinDerivedData:s_(o),shouldShowInbox:g,updateExperienceForPlacement:m,...p};switch(c){case"ProductDetailPage":return(0,M.jsx)(lV.A,{id:"ProductDetailPage",children:(0,M.jsx)(so,{...h})});case"CloseupWithStoryPinProducts":return(0,M.jsx)(lV.A,{id:"CloseupWithStoryPinProducts",children:(0,M.jsx)(nT,{...h})});default:return(0,M.jsx)(lV.A,{id:"CloseupDefault",children:(0,M.jsx)(nI,{...h})})}}})})})})})})})})})})})})})})})}function sk(e){(0,b.useEffect)(()=>{(0,f.A)("CloseupContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupContainer.tsx")},[]);let{pinResource:l}=e,a=l.data,{is_hidden:t,is_unsafe:i}=a||{},n=a?.story_pin_data?.has_product_pins,s=(0,lO.A)({isHiddenPin:t,isUnsafePin:i});return(0,M.jsx)(lV.A,{id:"CloseupContainerCommon",children:(0,M.jsx)(sv,{...e,closeupComponentToRender:s&&n?"CloseupWithStoryPinProducts":"CloseupDefault"})})}function sf(e){(0,b.useEffect)(()=>{(0,f.A)("CloseupContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupContainer.tsx")},[]);let l=(0,x.wA)(),a=(0,lN.A)(),t=(0,S.g)(),i=(0,aC.V)(),n={...e,navigate:(0,S.Zp)(),location:(0,S.zy)(),params:t,requestContext:(0,eU._8)(),searchPinCloseupViewed:(e,a)=>l((0,sh.Fm)(e,a))},{checkExperiment:s}=(0,ll.A)(),r=(0,b.useMemo)(()=>["pin.gen_ai_topics"],[]);return(0,M.jsx)(nM.A,{addFields:r,orbacSubjectId:(0,eG.H7)(a,(0,aF.A)()),pinId:t.id||"",children:({pinResource:e})=>{let l=e&&e.data;return l&&(0,e_.MI)(l.video_status)?(0,M.jsx)(J.oh,{children:(0,M.jsx)(sy,{...n,onClickThrough:()=>{},pinKey:{type:"Legacy",data:l}})}):(0,M.jsx)(lV.A,{id:"CloseupContainerInner",children:(0,b.createElement)(sk,{...n,key:t.id,checkExperiment:s,currentHistoryStack:i,pinResource:e})})}})}},395044(e,l,a){a.r(l),a.d(l,{default:()=>c});var t=a(61163),i=a(859471),n=a(798249),s=a(62725),r=a(832556),o=a(678358),d=a(464224),u=a(562615);function c({filter:e,pinId:l,story:a,viewParameter:c}){(0,i.useEffect)(()=>{(0,t.A)("CloseupRelatedModulesInclusiveFilters","/app/common/react/components/auth-desktop-web-closeup/CloseupRelatedModules/CloseupRelatedModulesInclusiveFilters.tsx")},[]);let{closeupWithinMasonryEnabled:p}=(0,o._G)(),{custom_properties:g,title:m,objects:h}=a,{format:y="",args:_=[]}=m||{},{query:v=""}=_[0]||{},{viewType:k,inInclusiveEfficientRefinements:f,inclusiveFilterParam:b,onClickApplyFilters:x}=(0,s.A)({filter:e,searchQuery:v,viewParameter:c});if(!e)return null;let S=(()=>{switch(e){case d.zB.BODY:return h;case d.zB.SKIN:return g?.skin_tone_filter_list;case d.zB.HAIR:return(0,r.Ay)(e,g)||[];default:return[]}})();if(!S||S.length<1)return null;let P=p?d.P4.CLOSEUP_FEED:d.P4.CLOSEUP_STACKED,w=f?d.P4.CLOSEUP_RESPONSIVE:P,A=p&&!f;return(0,u.jsx)(n.A,{currentlyAppliedFiltersParamTerm:A?void 0:f?b:void 0,filter:e,filterList:S,headerTitle:y??"",moduleType:A?d.P4.CLOSEUP_FEED:w,onClickApplyFilters:x,pinId:l,searchQuery:v,showAuthCloseupWithinMasonry:A,viewParameter:c,viewType:k})}},798249(e,l,a){a.d(l,{A:()=>u});var t=a(61163),i=a(859471),n=a(150880),s=a(154508),r=a(432709),o=a(464224),d=a(562615);let u=({filter:e,filterList:l,headerTitle:a,pinId:u,searchQuery:c,viewParameter:p,showAuthCloseupWithinMasonry:g=!1,moduleType:m=o.P4.CLOSEUP_FEED,currentlyAppliedFiltersParamTerm:h,onClickApplyFilters:y,viewType:_})=>{(0,i.useEffect)(()=>{(0,t.A)("UnifiedInclusiveFiltersModule","/app/common/react/components/auth-desktop-web-closeup/CloseupRelatedModules/UnifiedInclusiveFiltersModule.tsx")},[]);let v=e===o.zB.HAIR,k=(0,d.jsx)(r.A,{currentlyAppliedFiltersParamTerm:h,filters:l,headerTitle:a,moduleType:m,onClickApplyFilters:y,pinId:u,query:v?c:void 0,showHairPatternEducationIcon:v,type:e,viewParameter:p,viewType:_});return g?(0,d.jsx)(n.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:s.OU,gap:"12px"}},"data-test-id":"auth-inclusive-filter",direction:"column",display:"flex",justifyContent:"center",padding:4,rounding:600,children:k}):k}},62725(e,l,a){a.d(l,{A:()=>d});var t=a(979638),i=a(410541),n=a(586733),s=a(306618),r=a(890922),o=a(464224);let d=({filter:e,searchQuery:l,viewParameter:a,unauthCloseupRedesignEnabled:d=!1})=>{let{logContextEvent:u}=(0,n.o)(),c=(0,t.Zp)(),{pathname:p,search:g}=(0,t.zy)(),m=new URLSearchParams(g).get("filters"),{inInclusiveEfficientRefinements:h}=(0,i.A)(e),y=e===o.zB.SKIN?13863:13864,_=e===o.zB.SKIN?13803:14935,v=e===o.zB.SKIN?10418:13358;return{onClickApplyFilters:e=>{let t=d?r.I.RS:r.I.TYPED;if(l&&u({element:v,view_type:3,view_parameter:a,event_type:101,component:_,aux_data:{entered_query:l,filter_value:e,story_type:y}}),h){let l=e?`?filters=${e}`:"";m&&m===e?c(p):c(`${p}${l}`,{replace:!0})}else c((0,s.A)({query:l||"",rs:t||"",scope:"pins",filters:e}))},viewComponentType:y,viewType:3,clickComponentType:_,elementType:v,inInclusiveEfficientRefinements:h,inclusiveFilterParam:m}}},8805(e,l,a){a.d(l,{A:()=>m});var t=a(61163),i=a(859471),n=a(610355),s=a(150880),r=a(538329),o=a(131094),d=a(678358),u=a(558360),c=a(558826),p=a(562615);function g({isDarkMode:e,onPress:l,testId:a,label:t,peekCloseupEnabled:i,withShadow:n}){return(0,p.jsxs)(s.az,{dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":a,display:"inlineBlock",position:"relative",children:[n&&(0,p.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{background:e?"linear-gradient(90deg, rgba(0, 0, 0, 0) 0%, black 100%)":"linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, white 100%)",right:"100%"}},height:"100%",position:"absolute",width:"48px"}),(0,p.jsx)(s.Rp,{fullWidth:!1,onTap:l,children:(0,p.jsxs)(s.KJ,{size:i?"200":"300",weight:"bold",children:["...",t]})})]})}function m({children:e,isDarkMode:l,descriptionDir:a}){(0,i.useEffect)(()=>{(0,t.A)("TruncatedDescription","/app/common/react/components/auth-desktop-web-closeup/Description/TruncatedDescription.tsx")},[]);let m=(0,i.useRef)(null),[h,y]=(0,i.useState)(0),[_,v]=(0,i.useState)(0),[k,f]=(0,i.useState)(!0),[b,x]=(0,i.useState)(!1),[S,P]=(0,i.useState)(!1),[w,A]=(0,i.useState)(!1),C=(0,r.A)(),{closeupWithinMasonryEnabled:F,peekCloseupEnabled:I}=(0,d._G)(),T=F||I,K=T?1:3,L=600*!!T;(0,i.useEffect)(()=>{if(m.current&&k){let e,l=(0,u.IC)(m.current),a=(e=m.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;x(()=>!!a&&(m.current&&(m.current.style.webkitLineClamp="unset",v(m.current?.scrollHeight??0),m.current.style.webkitLineClamp=K.toString()),!0)),f(!1),A(l>=K&&a),y(m.current?.clientHeight)}},[k,f,K,h,_,b]);let j=`${h}px`,M=`${h+_}px`,R=`
    .TruncatedDescription-enter{
      max-height: ${j};
    }
    .TruncatedDescription-enter-active {
      max-height: ${M};
      transition: max-height ${L}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-enter-done {
      max-height: ${M};
    }
    .TruncatedDescription-exit {
      max-height: ${M};
    }
    .TruncatedDescription-exit-active {
      max-height: ${j};
      transition: max-height ${L}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-exit-done {
      max-height: ${j};
    }
    [data-test-id="truncated-description"] div[role=button] {
      outline-offset: -2px;
      outline-width: 2px;
    }
  `,z=e=>{let a=e?C._('more', 'storyPin.previewText.more', 'Story pin preview more text truncation'):C._('less', 'storyPin.previewText.less', 'Story pin preview less text truncation');return(0,p.jsx)(g,{isDarkMode:l,label:a,onPress:()=>P(e),peekCloseupEnabled:I,testId:`${e?"more":"less"}-description-container`,withShadow:e&&T})},D=(0,i.useRef)(null);return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(o.A,{unsafeCSS:R}),(0,p.jsx)(n.A,{classNames:"TruncatedDescription",in:S,nodeRef:D,onEnter:()=>x(!1),onExited:()=>x(!0),timeout:L,children:(0,p.jsx)(s.az,{ref:D,"data-test-id":"truncated-description",flex:"grow",overflow:T?"hidden":"visible",position:"relative",width:F?"100%":void 0,children:(0,p.jsx)(c.A,{dir:a,children:(0,p.jsxs)(s.KJ,{ref:m,align:"ltr"===a?"forceLeft":void 0,lineClamp:k||b?K:0,size:I?"200":"300",children:[e,w?(0,p.jsxs)(i.Fragment,{children:[S&&z(!1),(0,p.jsx)(s.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:T?"opacity 200ms ease-in-out":void 0,visibility:b?"visible":"hidden"}},opacity:100*!!b,position:"absolute",right:!0,children:z(!0)})]}):null]})})})})]})}},545635(e,l,a){a.d(l,{A:()=>t});function t(e){return"string"==typeof e&&("function"==typeof e.replaceAll?e.replaceAll(" ",""):e.replace(/ /g,"")).length>0}},725068(e,l,a){a.d(l,{A:()=>k});var t,i=a(859471);a(825193);var n=a(339856),s=a(593451),r=a(693154),o=a(535273),d=a(538329),u=a(537641),c=a(438098),p=a(601185),g=a(917348),m=a(870540),h=a(847753),y=a(164676),_=a(678358);let v=(void 0!==t||(t=a(55087)).hash&&"6d07d6f4226aa8095d2c36e8662982e3"!==t.hash&&console.error("The definition of 'useMediaContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function k({pinKey:e}){let l=(0,d.A)(),a=(0,r.A)(),{checkExperiment:t}=(0,p.A)(),k=(0,m.A)(),{mainImage:f,carouselInfo:b,previewImage:x,isGif:S,imgSrc:P}=(0,s.M)(),w=(0,o.A)(v,e),A=(0,g.A)(),{aggregatedPinData:C,altText:F,autoAltText:I,isEligibleForPdp:T,isEligibleForRelatedProducts:K,pinner:L,richMetadata:j,trackedLink:M,utmLink:R,link:z,method:D,shuffle:E}=w,B=!T&&b?.carouselData,V=!!C?.isShopTheLook,O=!!K&&!V&&!T&&!B&&!E,U=(0,h.EL)(a,k)&&t("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,N=w.images_orig?.url,W=b?.carouselData?function(e){let{carousel_slots:l,index:a}=e;return l&&void 0!==a&&(l[a]||{}).image_signature?l[a].image_signature:null}(b.carouselData):w.imageSignature,H=(0,c.iF)({trackedLink:M,link:z,utmLink:R}),G="catalog_bulk_create"===D||j?.products,$=H&&G?decodeURIComponent(H):H,Q=(0,h.TO)(a,k)===L?.username&&U,{closeupWithinMasonryEnabled:X,paneWidth:q,showProductDetailPage:J}=(0,_._G)(),{closeupBodyWidth:Y}=(0,y.K)(),{height:Z,width:ee}=f,el=(0,i.useMemo)(()=>({naturalWidth:ee,naturalHeight:Z,alt:(0,n.A)({altText:F,autoAltText:I,i18n:l}),src:S?P:!A&&P?.startsWith("https://i.pinimg.com/")?(0,u.A)(P)||x?.url||"":x?.url||""}),[ee,Z,F,I,l,S,A,P,x?.url]),ea=(0,i.useMemo)(()=>({naturalHeight:el.naturalHeight,naturalWidth:el.naturalWidth,mainImage:{alt:el.alt,src:S?el.src:P},...!S&&{previewImage:{alt:"",src:S?"":el.src}}}),[el.alt,el.naturalHeight,el.naturalWidth,el.src,P,S]);return{disablePinTagButton:Q,imageProps:el,imageSignature:W,imageWithPreview:ea,isScenePin:O,link:$,maxCloseupImageWidth:X&&Y||q,originalImageUrl:N,showProductDetailPage:J}}},462993(e,l,a){a.d(l,{A:()=>n});var t=a(859471),i=a(971289);function n(){let e=(0,i.Ay)();return(0,t.useMemo)(()=>"desktop"===e?"desktop":"tablet"===e?"tablet":"android_app"===new URLSearchParams(window.location.search).get("utm_source")?"android_app":"mweb",[e])}},959355(e,l,a){a.d(l,{A:()=>n});var t=a(859471),i=a(679902);function n(){let[e]=(0,t.useState)(()=>(0,i.A)());return e}},192537(e,l,a){function t(e){let l={};if(void 0!==e.sessionId&&(l.sessionId=e.sessionId),void 0!==e.advertiserId&&(l.advertiserId=e.advertiserId),void 0!==e.surface&&(l.surface=e.surface),void 0!==e.additionalData)try{l.additionalData=JSON.stringify(e.additionalData)}catch{l.additionalData=JSON.stringify({error:"serialization_failed"})}return l}function i(e,l){e({event_type:18384,component:l.component,...void 0!==l.element?{element:l.element}:{},...void 0!==l.pinId?{object_id_str:l.pinId}:{},event_data:{pinBoostEventData:{step:l.step,is_quick_promotable:l.isQuickPromotable,is_quick_promoted:l.isQuickPromoted,...t(l)}}})}function n(e,l){let a=t(l),i=Object.keys(a).length>0;e({event_type:18385,component:l.component,...void 0!==l.pinId?{object_id_str:l.pinId}:{},...void 0!==l.errorMessage?{aux_data:{error_message:l.errorMessage}}:{},...i?{event_data:{pinBoostEventData:a}}:{}})}a.d(l,{j:()=>i,x:()=>n})},858537(e,l,a){a.d(l,{A:()=>u});var t=a(859471),i=a(164735),n=a(586733),s=a(539855),r=a(205392),o=a(430705),d=a(935504);function u(e){let{logContextEvent:l}=(0,n.o)(),a=(0,o.A)({name:"PinResource",options:(0,i.A)(e.pinId,e.orbacSubjectId,e.addFields)}),u=a.data,c=(0,d.A)(null!=u?{type:"Legacy",data:u}:null);return(0,t.useEffect)(()=>{if(!u)return;let e=(0,s.A)({hasPin:!!u,hasPinRichMetadata:!!u.rich_metadata,hasPinRichMetadataProducts:!!u.rich_metadata?.products,hasPinRichMetadataArticle:!!u.rich_metadata?.article,hasPinRichMetadataRecipe:!!u.rich_metadata?.recipe,hasPinStoryPinData:!!u.story_pin_data});l({event_type:7408,view_parameter:e,object_id_str:u.id,view_type:3,view_data:{pin_id:u.id,closeup_rich_types:u.shopping_flags||[]},aux_data:{...c()}}),u.aggregated_pin_data&&(u.aggregated_pin_data.is_shop_the_look||u.aggregated_pin_data.is_stela)&&l({event_type:7579,view_parameter:e,object_id_str:u.id,view_type:3,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:u.aggregated_pin_data.is_shop_the_look,pin_is_stela:u.aggregated_pin_data.is_stela})}}),(0,r.Uy)("resource");let a="DEFAULT";u.is_eligible_for_pdp?a=u.is_eligible_for_pdp_plus?"product_detail_page_plus":"product_detail_page":u.story_pin_data_id&&(a="story_pin"),"DEFAULT"!==a&&(0,r.JT)(a)},[u,c]),e.children({pinResource:a})}},436344(e,l,a){a.r(l),a.d(l,{default:()=>y});var t,i=a(61163),n=a(859471);a(825193);var s=a(150880),r=a(779037),o=a(991205),d=a(743372),u=a(535273),c=a(538329),p=a(802209),g=a(168079),m=a(562615);let h=(void 0!==t||(t=a(908392)).hash&&"8ad2e699556c5cc82f96a8800796d777"!==t.hash&&console.error("The definition of 'EndCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),y=({clientTrackingParams:e,watchAgain:l,pinKey:a,rounded:t=!0})=>{(0,n.useEffect)(()=>{(0,i.A)("EndCard","/app/common/react/components/auth-desktop-web-closeup/StoryPin/EndCard.tsx")},[]);let y=(0,u.A)(h,a),_=(0,c.A)(),v=(0,d.A)();(0,g.A)(()=>{v({event_type:120,view_type:3,component:13799})});let k=()=>{l()};return(0,m.jsx)(s.az,{alignItems:"center",bottom:!0,color:"washDark","data-test-id":"story-pin-end-card",direction:"column",display:"flex",height:"100%",justifyContent:"center",left:!0,opacity:90,padding:4,position:"absolute",right:!0,rounding:t?p.Tx:0,top:!0,width:"100%",children:(0,m.jsx)(s.so,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",width:"100%",children:(0,m.jsxs)(s.so,{alignContent:"start",direction:"column",gap:{row:0,column:8},justifyContent:"start",children:[(0,m.jsx)(s.so,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(o.default,{buttonText:_._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished'),clientTrackingParams:e,pinKey:y,shownWithinMasonry:!0})}),(0,m.jsxs)(s.so,{alignItems:"center",children:[(0,m.jsx)(r.A,{accessibilityLabel:_._('Replay button', 'storyPin.closeup.endCard.replay', 'Button label to navigate to previous page'),handleClick:k,icon:"arrow-clockwise",iconColor:"inverse",testId:"closeup-replay-button"}),(0,m.jsx)(s.az,{children:(0,m.jsx)(s.Rp,{onTap:k,rounding:200,children:(0,m.jsx)(s._Y,{color:"light",overflow:"normal",size:"400",children:_._('Replay', 'storyPin.closeup.endCard.replay', 'Button label to navigate to previous page')})})})]})]})})})}},722460(e,l,a){a.d(l,{A:()=>B,I:()=>D});var t,i,n,s,r=a(61163),o=a(859471);a(825193);var d=a(150880),u=a(154508),c=a(679051),p=a(106386),g=a(693154),m=a(934503),h=a(535273),y=a(219053),_=a(538329),v=a(726329),k=a(542975),f=a(601185),b=a(430705);a(78284);var x=a(881541),S=a(971289),P=a(917348),w=a(780291),A=a(531152),C=a(162497),F=a(678358),I=a(430393),T=a(699613),K=a(408738),L=a(562615);let j=(0,K.A)(()=>Promise.resolve().then(a.bind(a,362545)),void 0,e=>362545,"app-packages-StructuredFeed-ModuleReps-CarouselModule-DeprecatedCarouselModule",e=>[]),M=(void 0!==t||(t=a(553721)).hash&&"d26e3ac796a31f48dbe9ccd4f7da5852"!==t.hash&&console.error("The definition of 'ShoppingModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),R=(void 0!==i||(i=a(62918)).hash&&"fa557ac735f6f302b9043df97457e701"!==i.hash&&console.error("The definition of 'ShoppingModule_v3GetStelaShoppingCarousel' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),z=(void 0!==n||(n=a(902531)).hash&&"4bfa11c5e4686f2db2c0dcfe5802bd45"!==n.hash&&console.error("The definition of 'ShoppingModuleQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function D(e){let l=(0,g.A)(),a=l&&l.isAuth,t=(0,S.qJ)(),i=(0,A.A)(),n=function({pinId:e}){return(0,p.d4)(({pinbuilder:l})=>{if(!e)return null;let{pinItems:a,pinTags:t}=l,i=a?.[e];if(!i)return null;let n=i.pinTagIds??[];if(0===n.length)return null;let s=n.map(e=>t?.[e]).filter(Boolean);return s.length>0?s:null})}({pinId:e}),s=(0,T.HR)(),r=(0,b.A)(i?null:{name:"ApiResource",noCache:!!n,options:{url:a?`/v3/visual_search/stela/pins/${e}/module/`:`/v3/seo/stela/pins/${e}/module/`,data:{fields:(0,I.A)()}}}),o=(0,y.A)({strategy:i?"GraphQL":"Legacy",query:z,variables:{pinId:e,isDesktop:t,isAuth:a},options:{fetchPolicy:n?"store-and-network":"network-only"},useGetLegacyData:({pinId:e})=>{let l=r.data?.map(e=>({...e,objects:e?.objects?.map(e=>{if(e?.type==="pin"&&e?.id){let l=s(e?.id||"");if(l)return l}return e})}));return r?{...r,data:l}:null}}),d=o?.v3GetStelaShoppingCarouselQuery?.__typename==="V3GetStelaShoppingCarousel"?o.v3GetStelaShoppingCarouselQuery:null,u=(0,h.A)(R,d),c=u?u.data:null;if(i){let e=void 0!==o;return{data:c,isLoading:!e,isLoaded:e}}return{data:c,isLoading:r.isFetching,isLoaded:r.isLoaded}}let E=({children:e,id:l,storyRef:t,viewParameter:i,pinId:n,hasAutoTags:r})=>{let o=(void 0!==s||(s=a(381123)).hash&&"967fc795bbfb9844686a21d73abf35e0"!==s.hash&&console.error("The definition of 'ShoppingModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),{contentIds:u,displayOptions:c,slot:p,storyId:g,storyType:m,trackingParams:y}=(0,h.A)(o,t),_=c?.contentDisplay?.componentType,k=(0,v.bi)({clientTrackingParams:y,componentType:_,contextLogData:{story_id:g,story_type:m,content_ids:u,has_auto_tags:r,root_pin_id:n},impressionType:"Story",loggingId:g,slotIndex:p||0,viewParameter:i,viewType:3});return(0,L.jsx)(d.az,{ref:k,children:e},l)};function B({moduleWidth:e,pinKey:l,trafficSource:a,unauthCloseupRedesignEnabled:t,viewParameter:i}){(0,o.useEffect)(()=>{(0,r.A)("ShoppingModule","/app/common/react/components/auth-desktop-web-closeup/VisualSearch/ShoppingModule.tsx")},[]);let n=(0,_.A)(),s=`carousel-${(0,o.useId)()}`,{checkExperiment:p}=(0,f.A)(),{isAuth:y}=(0,g.A)(),v=(0,A.A)(),b=y&&p("web_stl_css_carousel").anyEnabled,{closeupWithinMasonryEnabled:S,peekCloseupEnabled:I,viewportSize:T}=(0,F._G)(),K=S||t,R=(0,h.A)(M,l),z=(0,o.useRef)(null),[B,V]=(0,o.useState)(void 0),{data:O,isLoading:U,isLoaded:N}=D(R.entityId),W=O?.[0],H=(0,P.A)()?o.useEffect:o.useLayoutEffect,G=c.A;H(()=>{if(!b&&z.current&&K){let e=Math.floor((z.current.offsetWidth+8)/G);V(l=>l===e?l:e)}},[N,K,G,b]);let $=(0,o.useMemo)(()=>{let e;return v?null:(e=W?(0,m.s8)(W):null)&&"LegacyData"===e.kind?e.singularLegacyData:null},[v,W]),Q=(0,w.A)({cropSource:5,entrypoint:"feed_module",isProductPage:!0,pinId:R.entityId,requestParams:W?.action?.requestParams??"",trafficSource:a}),X=I&&"lg"===T,q=(0,o.useMemo)(()=>({buttonSizeOverride:"lg",carouselContainerMarginBottom:K?0:void 0,flexDirection:X?"column":"row",gutterWidth:u.T3,justifyContent:"start",navigationFabSize:32,showPagination:K}),[K,X]),J=(0,o.useMemo)(()=>K?{type:"inline"}:{type:"classic"},[K]),Y=(0,o.useMemo)(()=>{if(!K&&!(I&&"lg"===T))return{};let e={paddingLeft:b?void 0:`${u.T3}px`};return K?{...e,border:b?void 0:u.OU}:e},[K,I,T,b]);if(U)return(0,L.jsx)(d.az,{height:1,width:e});if(N&&(!O||0===O.length))return null;let Z="number"==typeof W?.displayOptions?.contentDisplay?.componentType?W.displayOptions?.contentDisplay?.componentType:void 0,ee=(R?.collectionPin?.itemData||[]).some(e=>e?.source===7),el=e=>{let l=R?.collectionPin?.itemData?.find(l=>e.entityId===l.pinId),a=l?.source;return{has_auto_tags:7===a,root_pin_id:R?.entityId,...a?{source:a}:{}}};return(0,L.jsx)(o.Fragment,{children:(0,L.jsx)(d.so,{alignItems:"center",dataTestId:"shopping-module",direction:"column",justifyContent:"center",width:e,children:(0,L.jsx)(d.az,{dangerouslySetInlineStyle:{__style:Y},maxWidth:t?e:void 0,rounding:K&&!b?400:0,width:e,children:O?.filter(Boolean).map(e=>{if(null==e)return null;let{action:l,containerType:a,storyId:t}=e;if(139!==a)return null;{let a=e.title?.format||"",r=y&&l?.url?l.url:Q;return(0,L.jsx)(E,{hasAutoTags:ee,id:t,pinId:R.entityId,storyRef:e,viewParameter:i,children:(0,L.jsxs)(d.az,{ref:z,children:[(0,L.jsx)(d.az,{display:"none",id:s,children:(0,k.$)(n._('{{heading}} carousel', 'closeup.shoppingModule.carousel.ariaLabel', 'Accessibility label for the shopping carousel, where heading is the title of the carousel. heading: title of the carousel'),{heading:a})}),b?(0,L.jsx)(x.A,{accessibilityLabelledBy:s,component:Z,getProductTagAuxData:el,heading:a,itemWidth:c.A,itemWidthHeightRatio:1,parentPinKey:R,saveButtonOptions:J,showBorder:K,showMarkers:K,showNavigationButtons:!0,storyKey:e,surface:"ShoppingGridSmallCarousel",view:3,viewParameter:i}):(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)(d.az,{marginBottom:4,marginStart:2,marginTop:4,children:(0,L.jsx)(d._Y,{accessibilityLevel:2,align:"start",id:"shop-the-look-heading",size:"400",children:a})}),(0,L.jsx)(j,{accessibilityLabelledBy:s,addContentRight:(0,L.jsx)(d.az,{width:C.Z}),allowHover:!0,contentVisibleItemCountOverride:B,dangerouslySetActionUrl:r,disableHeader:!0,itemWidth:K?G:void 0,itemWidthHeightRatio:1,parentPinKey:R,productTagParentPinId:R.entityId,saveButtonOptions:J,story:$,storyKey:e,styleOverrides:q,surface:"ShoppingGridSmallCarousel",view:3,viewParameter:i})]})]})},t)}})})})})}},164735(e,l,a){a.d(l,{A:()=>t});let t=(e,l,a,t)=>({id:e,field_set_key:"auth_web_main_pin",add_fields:a?a.join(","):void 0,client_tracking_params:void 0,noCache:!0,fetch_visual_search_objects:!0,...l?{orbac_subject_id:l}:Object.freeze({}),get_page_metadata:!!t})},620648(e,l,a){a.d(l,{A:()=>r,x:()=>s});var t=a(548253),i=a(162497),n=a(678358);let s=.25;function r({showProductDetailPage:e=!1,mainImage:l,skipAspectRatioCheck:a=!1}={}){let{viewportSize:o}=(0,n._G)();if(!(0,t.A)({showProductDetailPage:e}))return{maxHeight:void 0};if(!a&&l){let{height:e=0,width:a=0}=l;if(a/e<s)return{maxHeight:void 0}}return{maxHeight:"sm"===o?i.t4:i.gr}}},970403(e,l,a){a.d(l,{Ay:()=>m,E0:()=>u,hX:()=>g,iM:()=>c});var t=a(859471),i=a(154508),n=a(548253),s=a(722460),r=a(678358);function o(e){return"object"==typeof e&&null!==e&&"type"in e&&"shopping_module"===e.type}function d(e){return"object"==typeof e&&null!==e&&"type"in e&&"inclusive_filters_module"===e.type}let u=e=>"object"!=typeof e||null===e||!("virtualize"in e)||(e.virtualize??!0),c=(e,l)=>a=>{if(!e&&o(a)||e&&(o(a)||d(a))||l&&(o(a)||d(a)))return{min:2,max:9}},p=({inBlendedUIExp:e,isAuth:l=!0})=>{let a=l?i.iI:i.nQ;return e?{...a,columnSpan:{...a.columnSpan,...i.CD}}:a};function g(e,l,a){let n=p({inBlendedUIExp:!1,isAuth:!1}),s=(0,t.useMemo)(()=>({...i.zQ}),[]),r=(0,t.useMemo)(()=>({...i.IO}),[]);return{closeupMasonryModules:(0,t.useMemo)(()=>{if(!l)return[];let e=[n];return a&&e.push(r),e.push(s),e},[l,n,a,r,s])}}function m({pinId:e,inclusiveModuleToCache:l,showProductDetailPage:a}){let o=(0,s.I)(e),{closeupWithinMasonryEnabled:d}=(0,r._G)(),u=(0,n.A)({showProductDetailPage:a}),[c,g]=(0,t.useState)(l);!c&&l&&g(l);let m=(0,t.useMemo)(()=>p({inBlendedUIExp:u}),[u]),h=(0,t.useMemo)(()=>({...i.zQ}),[]),y=(0,t.useMemo)(()=>({...i.IO}),[]),_=o?.data&&o.data.length>0,v=(0,t.useMemo)(()=>{let e=[m];return _&&e.push(h),c&&e.push(y),e},[m,_,c,h,y]);return d?{closeupMasonryModules:v,hasShoppingModule:_,inclusiveFilters:c}:{closeupMasonryModules:[],inclusiveFilters:void 0}}},410541(e,l,a){a.d(l,{A:()=>s});var t=a(177127),i=a(601185),n=a(464224);function s(e){let{checkExperiment:l}=(0,i.A)(),{sideBySideRedesignFastFollowsEnabled:a}=(0,t.A)(),s=a&&e===n.zB.SKIN&&l("web_closeup_inclusive_refinement",{dangerouslySkipActivation:!0}).anyEnabled,r=a&&e===n.zB.HAIR&&l("web_closeup_hair_refinement",{dangerouslySkipActivation:!0}).anyEnabled,o=a&&e===n.zB.BODY&&l("web_btr_closeup",{dangerouslySkipActivation:!0}).anyEnabled;return{inInclusiveEfficientRefinements:!!(s||r||o)}}},418396(e,l,a){a.d(l,{A:()=>c}),a(825193);var t,i=a(733334),n=a(586733),s=a(535273),r=a(488283),o=a(438098),d=a(935504);let u=(void 0!==t||(t=a(907012)).hash&&"d38a7b9f18791089cd1df852e3863570"!==t.hash&&console.error("The definition of 'useHandleTitleClick_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),c=function({pinKey:e,pinId:l,viewParameter:a,trafficSource:t}){let{logContextEvent:c}=(0,n.o)(),p=(0,s.A)(u,e),g=(0,i.A)({pinKey:p}),m=(0,d.A)(p);return()=>{let e=m();c({event_type:12,object_id_str:l,view_type:3,component:85,view_parameter:a,clientTrackingParams:g,aux_data:{...e,...(0,r.A)(p?.linkUtmApplicableAndReplaced)}}),c({event_type:8948,clientTrackingParams:g,view_type:3,view_parameter:a,component:85,object_id_str:l,aux_data:{click_type:"clickthrough",closeup_navigation_type:t&&(0,o.N9)(t)?"deeplink":"click",...e}})}}},649811(e,l,a){a.d(l,{A:()=>o});var t=a(693154),i=a(601185),n=a(971289),s=a(870540),r=a(847753);function o(e){let l=(0,n.qJ)(),{checkExperiment:a}=(0,i.A)(),o=(0,s.A)(),d=(0,t.A)(),u=(0,r.H7)(d,o),c=!l||a("web_sce_organic_pinbuilder_dep").anyEnabled;return!u&&(e&&a("sce_lightswitch_organic"),!l||!!c)}},45645(e,l,a){a.d(l,{A:()=>t});let t=["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","pin.access","pin.ad_data","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.collection_pin()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description","pin.description_html","pin.domain","pin.dominant_color","pin.done_by_me","pin.embed","pin.favorited_by_me","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_downstream_promotion","pin.is_eligible_for_web_closeup","pin.is_go_linkless","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.product_metadata()","product_metadata.shopping_flags","pin.should_open_in_stream","pin.sponsorship","pin.story_pin_data()","pin.story_pin_data_id","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","pincarouselslot.videos()","user.ads_only_profile_site","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.is_ads_only_profile","user.type","user.username","video.id","video.video_list[V_HLSV4,V_720P,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"]},395999(e,l,a){a.d(l,{A:()=>i});var t=a(427471);async function i(e,l,a){let i=l._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),n=async()=>t.A.create("BoardResource",{name:i,layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}}).callCreate(),{resource_response:{data:s}}=await n(),r=async l=>t.A.create("RepinResource",{board_id:l,description:e.description||"",is_removable:e.promotedIsRemovable??void 0,link:e.link,pin_id:e.entityId||"",title:e.title||""}).callCreate({showError:!1}),o=s.id;return await r(o),a({event_type:20,object_id_str:o,aux_data:{board_title:i}}),a({event_type:5,object_id_str:e.entityId||""}),s}},991205(e,l,a){a.r(l),a.d(l,{default:()=>p});var t,i=a(61163),n=a(859471);a(224989);var s=a(979638),r=a(366136),o=a(535273),d=a(803489),u=a(562615);let c=(void 0!==t||(t=a(55879)).hash&&"06fe8d9d3c50cfa5c040fbb0e9a14675"!==t.hash&&console.error("The definition of 'IdeaPinSecondarySendButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function p({buttonText:e,clientTrackingParams:l,pinKey:a,shownWithinMasonry:t}){(0,n.useEffect)(()=>{(0,i.A)("IdeaPinSecondarySendButton","/app/common/react/components/social/IdeaPinSecondarySendButton.tsx")},[]);let p=(0,o.A)(c,a),g=p?.imageUrl,m=p?.description,h=(0,s.zy)(),[y,_]=(0,n.useState)(!!(0,d.A)(h.search).share);return(0,u.jsx)(r.default,{buttonText:e,controllerOptions:{flyoutDisplayOptions:{showCaret:!0,shownWithinMasonry:t},isFlyoutOpen:y,loggingOptions:{component:228,element:10942,viewParameter:157,viewType:3},onFlyoutDismiss:()=>_(!1),onToggleFlyout:()=>_(!y),sendObject:{type:"pin",description:m,id:p?.entityId??"",imageUrl:g,url:`/pin/${p?.entityId}/`,clientTrackingParams:l}},iconColor:"inverse"})}},759513(e,l,a){a.d(l,{A:()=>_});var t,i=a(61163),n=a(859471);a(224989);var s=a(949613),r=a(586936),o=a(535273),d=a(485043),u=a(492523),c=a(578547),p=a(826258),g=a(562615);function m(e,l,a){var t;return(l="symbol"==typeof(t=function(e,l){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,l||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}(l,"string"))?t:t+"")in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}let h=(void 0!==t||(t=a(961821)).hash&&"ce07acf2409b70d391c02aa34c238945"!==t.hash&&console.error("The definition of 'AuthDesktopWebCloseupVideoWithVisibility_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);class y extends n.Component{constructor(...e){super(...e),m(this,"handleVisibilityChanged",e=>{let{pinId:l,isPromoted:a,setCurrentVideo:t,pauseAutoplay:i,videosAutoplaying:n,videoStartTime:s}=this.props,r=(0,c.A)(l,n);e&&!r?t({pinId:l,isPromoted:!!a,currentTime:s}):!e&&r&&i({pinId:l,isPromoted:!!a,currentTime:this.currentVideoCurrentTime})}),m(this,"handleVideoTimeChange",e=>{let{pinId:l,videosAutoplaying:a}=this.props;(0,c.A)(l,a)&&(this.currentVideoCurrentTime=e.time)})}componentDidUpdate(e){let{appInFocus:l}=e,{appInFocus:a,pauseAutoplay:t,pinId:i,isPromoted:n,setCurrentVideo:s,videosAutoplaying:r}=this.props,o=(0,c.A)(i,r),d=(0,u.A)(i,r);this.currentVideoCurrentTime=d??this.currentVideoCurrentTime,a!==l&&!a&&o?(this.pausedDueToBrowserOutOfFocus=!0,t({pinId:i,isPromoted:!!n,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&a&&(this.pausedDueToBrowserOutOfFocus=!1,s({pinId:i,isPromoted:!!n,currentTime:this.currentVideoCurrentTime}))}componentWillUnmount(){let{pinId:e,isPromoted:l,pauseAutoplay:a}=this.props;a({pinId:e,isPromoted:!!l,currentTime:this.currentVideoCurrentTime})}render(){let{pauseAutoplay:e,pin:l,setCurrentVideo:a,videoStartTime:t,videosAutoplaying:i,...n}=this.props;return(0,g.jsx)(s.A,{id:"VisibilityChangedWrapper",children:(0,g.jsx)(d.A,{onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!1,...n,children:(0,g.jsx)(s.A,{id:"CloseupVideo",children:(0,g.jsx)(r.A,{...n,onTimeChange:this.handleVideoTimeChange,pinKey:l})})})})}componentDidMount(){(0,i.A)("AuthDesktopWebCloseupVideoWithVisibility","/app/common/react/components/video/closeup/AuthDesktopWebCloseupVideoWithVisibility.tsx")}}function _(e){(0,n.useEffect)(()=>{(0,i.A)("AuthDesktopWebCloseupVideoWithVisibility","/app/common/react/components/video/closeup/AuthDesktopWebCloseupVideoWithVisibility.tsx")},[]);let{pinId:l,pinKey:a,isPromoted:t}=e,r=(0,o.A)(h,a),{appUI:{appInFocus:d,videosAutoplaying:u},pauseAutoplay:c,setCurrentVideo:m}=(0,p.Y)(),{organicVideosAutoplaying:_,promotedVideosAutoplaying:v}=u,k=t?v[l]:_[l];return(0,g.jsx)(s.A,{id:"CloseupVideoWithVisibilityInner",children:(0,g.jsx)(y,{...e,appInFocus:d,pauseAutoplay:c,pin:r,setCurrentVideo:m,videosAutoplaying:u,videoStartTime:k?k.currentTime:null})})}},669456(e,l,a){a.d(l,{B:()=>o,J:()=>d});var t=a(61163),i=a(859471),n=a(979638),s=a(562615);let r=(0,i.createContext)(!0);function o({children:e}){(0,i.useEffect)(()=>{(0,t.A)("InitialPageContext","/app/packages/InitialPageContext.tsx")},[]);let l=(0,n.zy)(),a=(0,i.useRef)(l).current===l;return(0,s.jsx)(r,{value:a,children:e})}function d(){return(0,i.use)(r)}},79946(e,l,a){a.d(l,{A:()=>i});let t=new Set([90,88,89,91,101,92,131]);function i(e){return t.has(e)}},930750(e,l,a){a.d(l,{A:()=>s});var t=a(481714);let i=new Set([92]),n=new Set([154]);function s(e){let l=[];return e.forEach(e=>{if("story"===e.type?i.has(e.container_type)||n.has(e.container_type)||t.c.has(e.story_type)||t.S.has(e.story_type):1){let a=l[l.length-1];Array.isArray(a)?a.push(e):l.push([e])}else l.push(e)}),l}},780526(e,l,a){a.d(l,{A:()=>s});var t=a(391063),i=a(601185),n=a(844255);function s(){let{advertiser:e}=(0,n._8)(),l=(0,i.A)().checkExperiment("aid_exp_campaign_editing_slideout").anyEnabled;return(a,i,n)=>{if(l){if("editCampaign"===a&&!i?.isAutomatedCampaign)return(0,t.A)("reportingCampaignsEdit",n??e?.id,{campaignId:i?.id,view:"campaign"});if("editAdGroup"===a&&!i?.isAutomatedCampaign)return(0,t.A)("reportingAdgroupsEdit",n??e?.id,{adGroupId:i?.id,view:"adgroup"});if("editPinPromotion"===a)return(0,t.A)("reportingAdsEdit",n??e?.id,{adGroupId:i?.adGroupId,view:"ad",pinPromotionId:i?.pinPromotionId,isCreatingPins:i?.isCreatingPins})}return(0,t.A)(a,n??e?.id,i)}}},941675(e,l,a){a.d(l,{A:()=>t});function t({isHiddenPin:e,isUnsafePin:l}){return!e&&!l}},578670(e,l,a){a.d(l,{UV:()=>o,Zk:()=>r,qZ:()=>s,ws:()=>n});var t=a(150880),i=a(562615);let n=({children:e})=>(0,i.jsx)(t.az,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,children:e}),s=({children:e})=>(0,i.jsx)(t.az,{padding:2,children:e}),r=({children:e})=>(0,i.jsx)(t.az,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:e}),o=({children:e,marginTop:l})=>(0,i.jsx)(t.az,{left:!0,padding:4,position:"absolute",right:!0,top:!0,children:l?(0,i.jsx)(t.az,{marginTop:l,children:e}):e})},827309(e,l,a){a.d(l,{WV:()=>P,sG:()=>S,r4:()=>s,yv:()=>n,y3:()=>t,oC:()=>u,GF:()=>x,Zx:()=>r,cZ:()=>d,rs:()=>o,tI:()=>i,KU:()=>y,R2:()=>h});let t=e=>["feed_card_default","feed_card_video"].includes(e),i=2/3,n=2/3,s=1/3,r="36px",o="28px",d=.4,u=.65,c={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24",3:"28"},mweb:{0:"12",1:"16",2:"18",3:"20"}},g={1:"italics",0:"normal"},m={1:"bold",0:"normal"},h=({color:e,font_style:l,font_weight:a,horizontal_alignment:t,size:i},n)=>({color:e,fontStyle:g[l??0],fontWeight:m[a??1],horizontalAlignment:c[t??0],fontSize:p[n][i??0]+"px"}),y=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?u:d,_={1:"default",2:"subtle",3:"success",4:"error",5:"warning",6:"inverse",7:"dark",8:"light",9:"default"},v=_[8],k={1:"primary",2:"secondary",3:"transparent",4:"primary",5:"light",6:"dark"},f=k[2],b={1:"sm",2:"md",3:"lg"},x=e=>{let l=e?.button_size;return 1===l?b[1]:3===l?b[3]:"md"},S=e=>{if(e){if(e.button_style&&e.button_style in k)return k[e.button_style]||f;if(e.button_background_color){if("#e60023"===e.button_background_color.toLowerCase())return k[1]||f;else if("#0074e8"===e.button_background_color.toLowerCase())return k[4]||f}}return f},P=(e,l)=>{if(e){if(e.title_text_customization?.color&&(e.title_text_customization.color=e.title_text_customization.color.toLowerCase()),e.title_text_customization?.text_color&&e.title_text_customization?.text_color in _)return _[e.title_text_customization?.text_color]||v;if(e.title_text_customization?.color){if("#111111"===e.title_text_customization.color||"#000000"===e.title_text_customization.color)return _[7]||v;else if("#ffffff"===e.title_text_customization.color)return _[8]||v}}if(l)if("white"===l)return _[8]||v;else return _[7]||v;return v}},696683(e,l,a){a.d(l,{A:()=>d});var t=a(61163),i=a(859471),n=a(150880),s=a(326720),r=a(826209),o=a(562615);let d=({name:e,containerSize:l,illustrationSize:a=195,message:d,description:u,primaryAction:c,type:p="spot"})=>{(0,i.useEffect)(()=>{(0,t.A)("Illustration","/app/packages/gestalt-illustrations/Illustration.tsx")},[]);let{colorSchemeName:g}=(0,n.Ut)(),m="darkMode"===g,{imageSrc:h}=(0,i.useMemo)(()=>{let l=s.A[e],a=m?l[p].darkMode:l[p].lightMode;return{imageSrc:r.A&&a.webp||a.svg}},[e,p,m]);return(0,o.jsx)(n.so,{direction:"column",height:l,width:l,children:(0,o.jsxs)(n.so,{alignItems:"center",direction:"column",gap:3,children:[(0,o.jsxs)(n.so,{alignItems:"center",direction:"column",gap:1,width:"100%",children:[(0,o.jsx)(n.az,{height:a,width:a,children:(0,o.jsx)(n._V,{alt:"",naturalHeight:h.includes("3:2")?2:1,naturalWidth:h.includes("3:2")?3:1,role:"img",src:h})}),d||u?(0,o.jsxs)(n.so,{direction:"column",children:[(0,o.jsx)(n._Y,{accessibilityLevel:"none",align:"center",size:"400",children:d}),(0,o.jsx)(n.KJ,{align:"center",size:"200",children:u})]}):null]}),c??null]})})}},326720(e,l,a){a.d(l,{A:()=>t});let t={antLeaf:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.3_2.light.svg.webp"}}},bouquet:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.mobile.bouquet.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.mobile.bouquet.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.mobile.bouquet.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.mobile.bouquet.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.3_2.light.svg.webp"}}},cat:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.3_2.light.svg.webp"}}},caterpillar:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.3_2.light.svg.webp"}}},collage:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.3_2.light.svg.webp"}}},cookiejar:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.3_2.light.svg.webp"}}},crystalBall:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.spot.dark.svg.webp"},lightMode:{svg:"hthttps://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.spot.light.svg.svg",webp:"hthttps://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.3_2.light.svg.webp"}}},crystalBallAura:{spot:{darkMode:{svg:"hhttps://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.3_2.light.svg.webp"}}},crystalBallShootingStar:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.3_2.light.svg.webp"}}},drawing:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.3_2.light.svg.webp"}}},dragonfly:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.3_2.light.svg.webp"}}},drink:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.3_2.light.svg.webp"}}},favorite:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.3_2.light.svg.webp"}}},fish:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.3_2.light.svg.webp"}}},fishbowl:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.3_2.light.svg.webp"}}},gumball:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.3_2.light.svg.webp"}}},hotAirBalloon:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.3_2.light.svg.webp"}}},hotChocolate:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.3_2.light.svg.webp"}}},hourglass:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.3_2.light.svg.webp"}}},iceCream:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.3_2.light.svg.webp"}}},messagebottle:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.3_2.light.svg.webp"}}},palette:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.3_2.light.svg.webp"}}},pinboard:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.3_2.light.svg.webp"}}},pinjar:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.3_2.light.svg.webp"}}},popsicle:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.3_2.light.svg.webp"}}},sunglasses:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.3_2.light.svg.webp"}}},sunglassesClouds:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.3_2.light.svg.webp"}}},telescope:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.3_2.light.svg.webp"}}},toaster:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.3_2.light.svg.webp"}}}}},826209(e,l,a){a.d(l,{A:()=>t});let t=(()=>{if("u"<typeof window)return!1;let e=document.createElement("canvas");return e.width=1,e.height=1,e.toDataURL("image/webp").startsWith("data:image/webp")})()},843730(e,l,a){a.d(l,{A:()=>p});var t=a(859471),i=a(586733),n=a(693154),s=a(307079),r=a(485043),o=a(562615);function d(e,l,a){var t;return(l="symbol"==typeof(t=function(e,l){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,l||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}(l,"string"))?t:t+"")in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}let u=(0,s.A)()&&(0,s.A)().debug_impression_log,c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function p(e){class l extends t.Component{constructor(...e){super(...e),d(this,"currentNs",()=>1e6*Date.now()),d(this,"startTime",0),d(this,"debugPinImpressions",u&&"Pin"===this.props.impressionType&&this.props.viewer.isAuth&&this.props.viewer.isEmployee),d(this,"handleVisibilityChanged",e=>{let{componentType:l,contextLogData:a,impressionAuxFields:t,impressionType:i,loggingId:n,slotIndex:s,viewParameter:r,viewType:o,viewData:d,logContextEvent:u}=this.props;if(e)this.startTime=this.currentNs(),this.debugPinImpressions&&console.log(s+" started timer");else{let e=c[i],p=e.idType,g=this.currentNs(),m={endTime:g,[p]:n,slotIndex:s,time:this.startTime,renderDuration:g-this.startTime,...t};u({event_type:e.eventType,component:l,event_data:{[e.impressionType]:[m]},view_type:o,view_parameter:r,view_data:d,aux_data:{...a}}),this.debugPinImpressions&&console.log(s+" logged for "+(g-this.startTime)/1e9+"s")}})}render(){return(0,o.jsx)(r.A,{onVisibilityChanged:this.handleVisibilityChanged,...this.props,children:(0,o.jsx)(e,{...this.props})})}}return function(e){let{logContextEvent:a}=(0,i.o)(),t=(0,n.A)();return(0,o.jsx)(l,{...e,logContextEvent:a,viewer:t})}}},832556(e,l,a){a.d(l,{Ay:()=>s,FU:()=>n,_9:()=>i});var t=a(464224);let i=e=>[t.eS.SKIN,t.eS.HAIR,t.eS.BODY].includes(e),n=e=>{switch(e){case t.eS.SKIN:return t.zB.SKIN;case t.eS.HAIR:return t.zB.HAIR;case t.eS.BODY:return t.zB.BODY;default:return""}};function s(e,l){return e===t.zB.SKIN?l.skin_tone_filter_list.options:l.hair_pattern_filter_list}},594789(e,l,a){a.d(l,{A:()=>n,v:()=>t});let{Provider:t,get:i}=(0,a(987628).A)("NotificationContext"),n=i},735407(e,l,a){a.d(l,{FJ:()=>s,Fk:()=>r,hx:()=>o,r6:()=>n});var t=a(803415),i=a(284247);function n(e,l,a,t,i,n){return e.isAuth&&!!l&&(a||t)&&!!i?.isLoaded&&!n}function s(e,l){return(0,i.A)(l.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function r(e,l){return(0,i.A)(l.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function o({i18n:e,isRealtime:l,humanizedTimeSinceLastUpdate:a,displayLifetime:n,numDays:s,selectedDateRange:r,locale:o}){let d=[];if(s){let l=n?(0,i.A)(e.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', s, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:s,startDate:(0,t.Ay)(o,r.startDate,t.cq.NUMERIC),endDate:(0,t.Ay)(o,r.endDate,t.cq.NUMERIC)}):(0,i.A)(e.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', s, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:s});d.push(l)}return l?d.push(e._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):a&&d.push((0,i.A)(e._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:a})),d.join(" ")}},619309(e,l,a){a.d(l,{A:()=>s}),a(224989);var t,i=a(753771),n=a(535273);function s(e,l,s){let r=(0,n.A)((void 0!==t||(t=a(20847)).hash&&"977a37f1bef6ecfbe279db65075e1520"!==t.hash&&console.error("The definition of 'usePinAnalyticsStatus_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),e);if(!l.isAuth||!l.isPartner||null==r)return!1;let{creatorAnalytics:o}=r,d=!!r.storyPinDataId,u=!!r.videos?.videoList,c=!(d||u)&&0!==Object.keys(r.aggregatedPinData?.creatorAnalytics?._30dRealtime||{}).length,p=r.board?.privacy===i.A.BoardPrivacy.PUBLIC,g=(r.board?.privacy===i.A.BoardPrivacy.PROTECTED||p)&&!r.isRepin&&[l.id,s].includes(r.pinner?.entityId??"");return c||0!==Object.keys(o?._30dRealtime||{}).length||l.isPartner&&g||d&&g}},537641(e,l,a){a.d(l,{A:()=>r});var t=a(81920);let i=e=>{let l=new Image;l.loading="lazy",l.src=e;let{complete:a}=l;return l.src="",a},n=["736x","564x","474x","236x"],s=new RegExp(/\/(\d+x|originals)\//);function r(e){for(let l of n){let a=e.replace(s,`/${l}/`);if(i(a))return(0,t.GV)("web.closeup.cached_preview_image.found",{tags:{resolution:l}}),a}return(0,t.GV)("web.closeup.cached_preview_image.not_found"),null}},600819(e,l,a){a.d(l,{A:()=>i,h:()=>t});let t=e=>{let{h:l,m:a}=e||{},t={hours:l||0,minutes:a||0};return void 0!==l||void 0!==a?{h:l,m:a,time:t,isoDuration:function({hours:e,minutes:l}){return`PT${e}H${l}`}(t)}:null},i=e=>{if(!e)return null;let{richMetadata:l}=e,{recipe:a}=l;return a&&a.name?{...e,recipe:{name:a.name,categorizedIngredients:a.categorized_ingredients,diets:a.diets,fromAggregatedData:a.from_aggregated_data,prepTime:t(a.cook_times?.prep),cookTime:t(a.cook_times?.cook),totalTime:t(a.cook_times?.total),servingSummary:a.servings_summary?.summary,serves:a.servings_summary?.serves,instructions:a.instructions}}:null}},422411(e,l,a){function t(e){return!!e?.trim()}function i(e){if(!e)return{hasTitle:!1,hasDescription:!1,hasLink:!1,hasMerchant:!1,hasPrice:!1,hasStock:!1,isComplete:!1};let{rich_metadata:l,rich_summary:a,closeup_unified_title:i,grid_title:n,closeup_unified_description:s,link:r,domain:o}=e,d=l||a,u=t(i)||t(n)||t(d?.products?.[0]?.name),c=t(s)||t(e.description),p=t(e.tracked_link)||t(r),g=t(e.link_user_website?.official_user?.first_name)||t(e.closeup_attribution?.first_name)||t(e.link_domain?.official_user?.first_name)||t(o),m=d?.products?.[0],h=m?.offer_summary,y=!!(h?.price||h?.min_price||h?.max_price||h?.standard_price),_=h?.in_stock!=null||null!=e.is_oos_product;return{hasTitle:u,hasDescription:c,hasLink:p,hasMerchant:g,hasPrice:y,hasStock:_,isComplete:u&&c&&p&&g&&y&&_}}function n(e){return i(e).isComplete}a.d(l,{A:()=>n,c:()=>i})},181091(e,l,a){a.d(l,{A:()=>t});let t=e=>{if(!e)return null;let{rich_metadata:l}=e.pin;return l?{...e,richMetadata:l}:null}},644899(e,l,a){a.d(l,{A:()=>n});var t=a(473861),i=a(124258);let n=e=>{if(!e)return null;let{video:l}=(e=>{if(!e)return null;let{videos:l}=e.pin,{id:a,video_list:i={}}=l||{},{V_720P:n,V_HLSV4:s,V_HLSV3_MOBILE:r}=i,o=(0,t.dj)(s),d=(0,t.dj)(r),u=(0,t.dj)(n),c=u||o||d;return a&&c?{...e,video:{id:a,hasVideo:c,mp4:u||void 0,hls:o||void 0,hlsv3:d||void 0}}:null})((0,i.A)(e))||{},{embed:a}=(e=>{if(!e)return null;let{embed:l}=e.pin,{type:a,src:t,subtype:i}=l||{};return t?{...e,embed:{type:a,src:t,subtype:i}}:null})((0,i.A)(e))||{},n=!!(l&&(e=>{let{hlsv3:l,hls:a}=e,t=l||a;return!!(t&&(t.width??0)>(t.height??0))})(l))||!!(a&&a.src&&"pinstory"!==a.subtype&&"gif"!==a.type);return{...e,isWideVideo:n}}},455758(e,l,a){a.d(l,{A:()=>o}),a(825193);var t,i=a(535273),n=a(438098),s=a(655186);let r=(void 0!==t||(t=a(177069)).hash&&"b694b913cbcf66451260d78ec78bcccd"!==t.hash&&console.error("The definition of 'usePinFormattedLink_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),o=e=>{let l=(0,i.A)(r,e),a=(0,s.A)(l);if(!l?.entityId)return null;let{trackedLink:t,link:o,method:d,utmLink:u}=l,c=(0,n.iF)({trackedLink:t,link:o,utmLink:u});return c&&("catalog_bulk_create"===d||a)?decodeURIComponent(c):c}},655186(e,l,a){a.d(l,{A:()=>s}),a(825193);var t,i=a(535273);let n=(void 0!==t||(t=a(294025)).hash&&"e1f413e0ba2f9031ea605d85baa14a4b"!==t.hash&&console.error("The definition of 'usePinHasProducts_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),s=e=>{let l=(0,i.A)(n,e);if(!l?.richMetadata)return!1;let{products:a}=l.richMetadata??{};return!!Array.isArray(a)&&a.some(e=>!!e&&e.name)}},121526(e,l,a){a.d(l,{Ry:()=>n,YV:()=>s,dp:()=>i,xt:()=>t});let t="pin-builder-font-faces",i="system-font-faces",n="pin-builder-education-font-faces",s="licensed"},124258(e,l,a){a.d(l,{A:()=>t});let t=e=>e?.pin?.id?e:null},91760(e,l,a){a.d(l,{A:()=>j});var t=a(61163),i=a(859471),n=a(445205),s=a(999459),r=a(17775),o=a(1807),d=a(323510),u=a(961105),c=a(88894),p=a(472723),g=a(749566),m=a(851116),h=a(366199),y=a(54240),_=a(161235),v=a(186707),k=a(504452),f=a(449344),b=a(844255),x=a(639650),S=a(81920),P=a(562615);let w=["initial_app_load","client_route_push"],A=(0,r.lo)("PwtSurface"),C="NavigationComplete",F="VisuallyComplete",I=()=>{(0,c.Kz)()},T=e=>{if(e.metricConfig.constraints.every(l=>e.constraintMap[l])){let l=Math.max(...e.metricConfig.constraints.map(l=>e.constraintMap[l]));return((e,l)=>{let{metricConfig:{metricId:a,pwtStaticContext:t,annotateExperiments:i},annotations:n,binaryAnnotations:r,constraintMap:d,startTime:p,imageTimings:g,spans:m,traceId:y}=e;(0,k.A)(`Report_PWT_Complete_${(0,s.u5)(a)}`,p,l);let _=(0,u.I)({annotateExperiments:[...i??[]],annotations:n,binaryAnnotations:r,constraintMap:d,endTime:l,imageTimings:g,metricId:a,pwtMeasures:(0,f.vs)(),pwtStaticContext:t,startTime:p,traceId:y,spans:m});try{var v;let e;v=String(_.binaryAnnotationMap["metricId.surface"].value),e=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,l)=>{let a=l.name.replace(".jpg","").split("/");return{[a[a.length-1]]:{downloadSize:l.name.split("/")[3].split("x")[0]},...e}},{}),[...Array.from(document.getElementsByTagName("img")).map(l=>{let a=l.src.replace(".jpg","").split("/"),t=a[a.length-1];if(e[t]){let a=(0,h.d2)(l)?.width||1,i=parseInt(e[t].downloadSize??"0",10);return{fileName:t,renderedSize:a,downloadedSize:i,ratio:i/a}}return{fileName:t,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(l=>{let a=l.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),t=a[a.length-1];if(e[t]&&l instanceof HTMLDivElement){let a=(0,h.d2)(l)?.width||1,i=parseInt(e[t].downloadSize??"0",10);return{fileName:t,renderedSize:a,downloadedSize:i,ratio:i/a}}return{fileName:t,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(e=>{let{ratio:l,fileName:a,downloadedSize:t}=e;e.ratio>1.05&&(0,o.DM)(`checkImageRatio.${v}`,{count:Math.round(10*l)/10,tags:{fileName:`${t}_${a}`}})})}catch(e){(0,o.vV)("image_ratio_check_error",{error:e})}return(0,c.Kz)(),{...e,result:_,status:"DONE"}})(e,l)}return A(`Remaining constraints: ${e.metricConfig.constraints.filter(l=>!e.constraintMap[l]).join(", ")}`),e},K=(e,l)=>{let{constraint:a,time:t}=l,i=(0,s.u5)(e.metricConfig.metricId);return _.A?e.metricConfig.constraints.find(e=>e===a)?e.constraintMap[a]?(A(`constraint "${a}" is already complete.`),(0,o.vV)("duplicated_constraint_complete",{constraint:a,action:i}),e):(A(`marking constraint "${a}" as complete ${t||performance.now()}`),t?(0,v.A)(`constraint_${a}_is_complete`,t):(0,v.A)(`constraint_${a}_is_complete`),T({...e,constraintMap:{...e.constraintMap,[a]:t||_.A.now()}})):(A(`marked constraint "${a}" is not a required constraint.`),e):((0,o.vV)("missing_window_performance",{action:i}),e)},L=new Set;function j({children:e,...l}){let a,r;(0,i.useEffect)(()=>{(0,t.A)("PwtSurface","/app/packages/pwt-logger/PwtSurface.tsx")},[]);let u=(0,g.A)(),h=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(u),v=l.measureGridVisuallyComplete?["web_masonry_v2"]:[],k=[...l.annotateExperiments??[],...v],{context:f}=(({surface:e,constraints:l,segment:a,measureGridVisuallyComplete:t,annotateExperiments:r,customEnabledNavigationTypes:d,navigationInfo:{clientNavigation:u,navigationType:g},sampleRate:h})=>{var v;let k,f=(0,i.useRef)("NOT_SET"),P=(0,m.A)(),{getState:j,dispatch:M}=(v={status:"DISABLED",metricConfig:null},k=(0,i.useRef)(v),{getState:()=>k.current,dispatch:e=>{k.current=((e,l)=>{if(A("dispatch action",l),"INIT_ROUTE"===l.type)return((e,l)=>{let{metricConfig:a,startTime:t,isSampled:i,disablePWTLogging:n}=l;if(n||"TIMING"!==e.status||t===e.startTime||I(),!a)return{status:"DISABLED",metricConfig:null};let r=(0,s.u5)(a.metricId);if("TIMING"===e.status&&e.startTime===t&&e.constraintMap[C])return(0,o.vV)("duplicated_init_route_action",{action:r}),e;if(!n){let e=(0,x.q)();(0,o.DM)(`handler.${r}`,{tags:{handler:e}});let l=void 0!==a.metricId.isAuthenticated&&{tags:{isAuth:a.metricId.isAuthenticated}}||void 0;"Other"===a.pwtStaticContext.browserName&&!1===a.metricId.isAuthenticated&&"initial_app_load"===a.metricId.navigationType?((0,o.DM)(`TIMING.${r}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,o.DM)(`TIMING.sampled.${r}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,o.DM)(`TIMING.${r}`),(0,o.DM)(`TIMING.sampled.${r}`,{sampleRate:.03})),(0,p.S)({resultLog:`TIMING.${r}`,annotateExperiments:a.annotateExperiments||[],getExperimentGroup:a.pwtStaticContext.getExperimentGroup,options:l})}return K({traceId:(0,c.lo)()||(0,c.Ay)("initial_app_load"===a.metricId.navigationType,a.pwtStaticContext.getServerData()?.trace_id),status:"TIMING",metricConfig:a,startTime:t,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:i,spans:[]},{constraint:C,disablePWTLogging:n})})(e,l.payload);if("TIMING"!==e.status)return A(`ignoring action due to invalid state ${e.status}`,l),e;switch(l.type){case"ABORT":I();let a={type:"ABORT",reason:l.reason};return{...e,status:"DONE",result:a};case"ANNOTATE":let{name:t}=l.payload;if(!_.A)return e;let i=_.A.now();return A(`adding annotation {${t}: ${i}}`),{...e,annotations:{...e.annotations,...{[t]:i}}};case"BINARY_ANNOTATE":let{name:n,value:r,annotationType:d}=l.payload;return A(`adding binary annotation {${n}: ${r}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[n]:{value:r,type:d}}}};case"MARK_CONSTRAINT_COMPLETE":return K(e,l.payload);case"REMOVE_CONSTRAINT":return((e,l)=>{if(!_.A){let l=(0,s.u5)(e.metricConfig.metricId);(0,o.vV)("missing_window_performance",{action:l})}A(`removing constraint "${l}"`);let a=e.metricConfig.constraints.filter(e=>e!==l),{[l]:t,...i}=e.constraintMap;return T({...e,constraintMap:i,metricConfig:{...e.metricConfig,constraints:a}})})(e,l.payload);case"SET_SEGMENT":var u=l.payload;if(!_.A){let l=(0,s.u5)(e.metricConfig.metricId);(0,o.vV)("missing_window_performance",{action:l})}A(`updating pwt segment to "${u}"`);let g={...e.metricConfig.metricId,segment:u};return{...e,metricConfig:{...e.metricConfig,metricId:g}};case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:a}}=l;if(0===a.length)return I(),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let t=Math.max(...a.map(e=>e.responseEnd||0));return K({...e,imageTimings:a},{constraint:F,time:t})}case"ADD_SUBSPAN":let{startTime:m}=e,{payload:{name:h,startTime:v,endTime:k,annotations:f,binaryAnnotations:b,parentId:S}}=l;return{...e,spans:[...e.spans,{name:h,id:(0,y.A)(),startTime:v||m,endTime:k,annotationMap:{...f},binaryAnnotationMap:{...b},parentId:S}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:l.payload.name,id:(0,y.A)(),startTime:_.A?_.A.now():0,endTime:1/0,annotationMap:{...l.payload.annotations},binaryAnnotationMap:{...l.payload.binaryAnnotations},parentId:l.payload.parentId}]};case"STOP_SUBSPAN":let P=e.spans.findIndex(e=>e.name===l.payload.name);return P>-1?(e.spans[P].endTime=_.A?_.A.now():0,l.payload.annotations&&(e.spans[P].annotationMap={...e.spans[P].annotationMap,...l.payload.annotations}),l.payload.binaryAnnotations&&(e.spans[P].binaryAnnotationMap={...e.spans[P].binaryAnnotationMap,...l.payload.binaryAnnotations})):(0,o.vV)("invalid_subspan_stop_name",{name:l.payload.name}),e;default:let w=(0,s.u5)(e.metricConfig.metricId);return(0,o.vV)("invalid_pwt_surface_action",{action:w}),e}})(k.current,e)}}),R=(0,b._8)();if(f.current!==u&&(f.current=u,P)){let{isAuthenticated:i}=P,n=e&&g&&(d||w).includes(g)?{metricId:{type:"surface",surface:e,navigationType:g,isAuthenticated:i,segment:a},annotateExperiments:r,constraints:[C,...l||[],...t?[F]:[]],pwtStaticContext:P}:null;(0,S.GV)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:g,isAuthenticated:i}});let s=!L.has(u);M({type:"INIT_ROUTE",payload:{metricConfig:n,startTime:u?u.time:0,isSampled:!h||Math.random()<h,disablePWTLogging:!s}}),s&&L.add(u)}let z=j();if((0,i.useEffect)(()=>()=>{L.delete(u)},[u]),(0,i.useEffect)(()=>{let e=e=>{M({type:"ABORT",reason:e})};n.A.onSessionPause(e);let l=window.innerHeight,a=window.innerWidth,t=()=>{let e=Math.abs(window.innerHeight-l),i=Math.abs(window.innerWidth-a),n=window.innerHeight!==l,s=window.innerWidth!==a,r={handler:(0,x.q)(),deviceType:P?.deviceType??"unknown",isAuthenticated:P?.isAuthenticated??"unknown",platform:R.userAgent.platform??"unknown"};((0,S.GV)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...r,heightChanged:n,widthChanged:s}}),n&&(0,S.uI)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:r}),s&&(0,S.uI)("webapp.PwtLogger.resizeWidthDelta",i,{sampleRate:1,tags:r}),window.removeEventListener("resize",t),(P?.deviceType!=="phone"||(s||!n||!(e<=150))&&(n||s))&&(P?.deviceType!=="desktop"||n||s))?M({type:"ABORT",reason:"windowResized"}):(0,S.GV)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...r,heightChanged:n,widthChanged:s}})};return window.addEventListener("resize",t),()=>{let l=j();A("handling unmount",l),"TIMING"===l.status&&I(),n.A.removePauseListener(e),window.removeEventListener("resize",t)}},[]),"TIMING"!==z.status||!z.constraintMap[C])return{state:z,context:null};let{startTime:D,metricConfig:E}=z;return{state:z,context:{abort:e=>M({type:"ABORT",reason:e}),addAnnotation:e=>M({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,l,a)=>M({type:"BINARY_ANNOTATE",payload:{name:e,value:l,annotationType:a}}),addSubspan:(e,l,a,t={},i={},n=null)=>M({type:"ADD_SUBSPAN",payload:{name:e,startTime:l,endTime:a,annotations:t,binaryAnnotations:i,parentId:n}}),getId:()=>D,getMetricId:()=>E.metricId,markConstraintComplete:e=>M({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:_.A?_.A.now():0}}),removeConstraint:e=>M({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>M({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:E.constraints.includes(F)?e=>M({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,l={},a={},t=null)=>M({type:"START_SUBSPAN",payload:{name:e,annotations:l,binaryAnnotations:a,parentId:t}}),stopSubspan:(e,l={},a={},t=null)=>M({type:"STOP_SUBSPAN",payload:{name:e,annotations:l,binaryAnnotations:a,parentId:t}})}}})({...l,annotateExperiments:k,navigationInfo:{navigationType:h,clientNavigation:u}});return r=!!(a=(0,d.Y)()),(0,i.useEffect)(()=>{if(r){let e=a?.getMetricId(),l=e?(0,s.u5)(e):null;(0,o.vV)("nested_pwt_surface",{action:l})}},[r]),(0,P.jsx)(d.n,{value:f,children:e})}},15176(e,l,a){a.d(l,{Ce:()=>r,YP:()=>u,x$:()=>c});var t=a(923884),i=a(782310);let{Provider:n,get:s}=(0,i.A)({name:"related_feed",sampleRate:1}),r=n,{Provider:o,get:d}=(0,i.A)({name:"related_feed_pageload",sampleRate:1}),u=o,c=e=>{let l=s(),a=d();if("related_feed"===e)return l;if("related_feed_pageload"===e)return a;throw(0,t.A)(e,"Unexpected type")}},696852(e,l,a){a.d(l,{B:()=>s,K:()=>r});var t=a(16917);let i=(0,t.A)("related_feed"),n=(0,t.A)("related_feed_pageload"),s=()=>i,r=()=>n},657171(e,l,a){a.d(l,{HV:()=>f,Ji:()=>_,OK:()=>u,OQ:()=>m,ZK:()=>b,gm:()=>y,ih:()=>p,kS:()=>v,lU:()=>h,oX:()=>d,pW:()=>g,uc:()=>k,x6:()=>o,z1:()=>c});var t=a(81920);let i="onloadRecaptchaJsCallback",n="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",s="recaptcha-enterprise-src",r=(e,l,a)=>{(0,t.GV)("recaptcha_v3.request_token.attempt",{sampleRate:.1,tags:{action:a}}),void 0===window.grecaptcha||void 0===window.grecaptcha.enterprise?(l(Error("Error loading reCAPTCHA Enterprise")),(0,t.GV)("recaptcha_v3.request_token.js_loading_error",{sampleRate:.1,tags:{action:a}})):window.grecaptcha.enterprise.ready(()=>{try{window.grecaptcha.enterprise.execute(n,{action:a}).then(e).catch(l)}catch(e){(0,t.GV)("recaptcha_v3.request_token.exec_error",{sampleRate:.1,tags:{action:a}}),l(e)}})},o=(e,l,a)=>{if(window[i]=()=>r(e,l,a),null!==document.getElementById(s))r(e,l,a);else{let e=document.createElement("script");e.id=s,e.src=`https://www.recaptcha.net/recaptcha/enterprise.js?onload=${i}&render=${n}`;let l=document.getElementsByTagName("script")[0];l.parentNode&&l.parentNode.insertBefore(e,l)}},d=105e3,u=8e3,c=3e4,p="mweb_auth",g="mweb_login",m="mweb_signup",h="web_auth",y="web_unauth",_="mweb_reset_password",v="web_reset_password",k="mweb_change_password",f="web_change_password",b="web_verify_phone"},874249(e,l,a){a.d(l,{A:()=>i});var t=a(542975);function i({m:e,h:l,rm:a,rh:n},s,r=!1){return e&&(!l||n<=0)?r?(0,t.vQ)(s._('{{mins}}min', 'closeup.makeRecipeTimeText.minutes', 'number showing the minutes to complete a recipe'),{mins:a.toString()}):(0,t.vQ)(s.ngettext('{{mins}} minute', '{{mins}} minutes', a, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:a.toString()}):l?r?(0,t.vQ)(s._('{{hrs}}hr {{mins}}min', 'closeup.makeRecipeTimeText.hours', 'hrs: number showing the hours to complete a recipe, mins: number showing the minutes to complete a recipe'),{hrs:l.toString(),mins:e.toString()}):(0,t.vQ)(s.ngettext('{{hrs}} hour', '{{hrs}} hours', n, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:n.toString()}):null}},61834(e,l,a){a.d(l,{A:()=>s});var t=a(653472),i=a(542975),n=a(562615);function s({m:e,h:l,rm:a,rh:s},r){return e&&(!l||s<=0)?(0,i.vQ)(r._('{{mins}}min', 'closeup.makeRecipeText.minutesLabel', 'Minutes label for Rich Pin Recipe'),{mins:(0,n.jsx)(t.A,{maximumFractionDigits:2,value:a},"recipe-minutes")}):l?(0,i.vQ)(r._('{{hrs}}hr', 'closeup.makeRecipeText.hoursLabel', 'Hours label for Rich Pin Recipe'),{hrs:(0,n.jsx)(t.A,{maximumFractionDigits:2,value:s},"recipe-hours")}):null}},362384(e,l,a){a.d(l,{A:()=>i});var t=a(542975);function i(e,l){return e<60?(0,t.vQ)(l._('{{mins}}min', 'recipe.minutes', 'recipe in minutes. mins: recipe duration in minutes'),{mins:e}):(0,t.vQ)(l._('{{hrs}}h {{mins}} min', 'recipe.time', 'recipe time. mins: recipe duration in minutes. hrs: recipe duration in hours'),{mins:e%60,hrs:Math.floor(e/60)})}},473861(e,l,a){a.d(l,{BT:()=>n,J8:()=>c,KE:()=>o,KI:()=>d,Wy:()=>r,dj:()=>s,yw:()=>u});var t=a(135850),i=a(752159);let n={FOLLOW_ACTION:"https://schema.org/FollowAction",LIKE_ACTION:"https://schema.org/LikeAction",SHARE_ACTION:"https://schema.org/ShareAction",WATCH_ACTION:"https://schema.org/WatchAction"},s=e=>{let{thumbnail:l,url:a,width:t,height:i,duration:n}=e||{};return l&&a&&t&&i&&{thumbnail:l,url:a,width:t,height:i,duration:n}||void 0},r=({isEligible:e,hasName:l,hasAggregateRating:a,hasOffers:t})=>{(0,i.PM)("closeup_main_pin.leaf_snippet.is_product",{isEligible:e,hasName:l,hasAggregateRating:a,hasOffers:t})},o=(e,{userName:l,fullName:a})=>{let t=l||"";return{"@type":"Person",name:a||t,alternateName:t,url:e+"/"+t}};function d(e,l,a,i,n,s){a=a.trim();let r=(l=l.trim())||s||a||i;if(!e||!e.metatags)return{title:r,description:a||l||n};let{description:o=""}=e.metatags;return{title:r,description:(0,t.U)(o||"").trim()||l||n}}let u=(e,l,a)=>{let t=l;return a?{fallbackTitle:t="recipe"===e?a._('Pinterest Recipe', 'pin.closeup.leafsnippet.recipe', 'Default recipe title and description for crawlers'):"howto"===e?a._('Pinterest How To', 'pin.closeup.leafsnippet.howto', 'Default how to title and description for crawlers'):"video"===e?a._('Pinterest Video', 'pin.closeup.leafsnippet.video', 'Default video title and description for crawlers'):"product"===e?a._('Pinterest Product', 'pin.closeup.leafsnippet.product', 'Default product title and description for crawlers'):a._('Pin page', 'pin.closeup.leafsnippet.pin', 'Default pin title and description for crawlers'),fallbackDescription:t}:{fallbackTitle:t,fallbackDescription:t}},c=e=>{if(!e)return;let l=!!e.ratingCount||!!e.reviewCount,{ratingValue:a}=e;if(!l||!a||Number.isNaN(parseFloat(a)))return;let t=e.ratingCount||e.reviewCount;return{"@type":"AggregateRating",ratingValue:e.ratingValue,ratingCount:t,bestRating:5,worstRating:1}}},144972(e,l,a){a.d(l,{A:()=>n});var t=a(326550),i=a(365910);function n({bubbleId:e,pinId:l,query:a,referringSource:n,storyCategory:s,storyId:r,title:o}){let d=void 0!==s&&[0,24,21,26].includes(s),u=(0,i.A)({q:a,rs:n||void 0,b_id:e,source_id:r,top_pin_ids:l}),c=d&&o?(0,t.k)({title:o,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?c:`/search/pins/${u?"?"+u:""}`}},149195(e,l,a){a.d(l,{d1:()=>p,yQ:()=>c,S_:()=>g});var t=a(859471),i=a(987628),n=a(132036),s=a(378263),r=a(562615);let o=()=>Promise.resolve().then(a.bind(a,132036)),{Provider:d,get:u}=(0,i.A)("IdeaPinVideoPlayer");function c({children:e}){let[l,a]=(0,s.A)(o,n.initialState),i=(0,t.useMemo)(()=>({dispatch:a,ideaPinVideoPlayerControls:l}),[a,l]);return(0,r.jsx)(d,{value:i,children:e})}function p(){let{dispatch:e}=u();return(0,t.useMemo)(()=>({updateSeekTime:(l,a)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:l,pinId:a||""}})},clearSeekTime:l=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:l||""}})}}),[e])}function g(){let{ideaPinVideoPlayerControls:e}=u();return e}},132036(e,l,a){a.r(l),a.d(l,{default:()=>i,initialState:()=>t});let t={seekTimes:{},currentProgressInfo:{currentTime:0,duration:0}};function i(e=t,l){switch(l.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[l.payload.pinId]:l.payload.seekTime}};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{}};default:return e}}},889089(e,l,a){a.d(l,{B:()=>r,v:()=>o});var t=a(61163),i=a(859471),n=a(562615);let s=(0,i.createContext)(null);function r({children:e,closeupPaneWidth:l,headerHeight:a,isLandingPage:r,loadFonts:o,renderStoryPinMediaLayout:d,renderStoryPinSplitLayout:u,renderStoryPinText:c,renderStoryPinPage:p,productPins:g}){(0,i.useEffect)(()=>{(0,t.A)("StoryPinContext","/app/packages/story-pin/StoryPinContext.tsx")},[]);let m=(0,i.useMemo)(()=>({closeupPaneWidth:l,headerHeight:a,isLandingPage:r,loadFonts:o,renderStoryPinMediaLayout:d,renderStoryPinSplitLayout:u,renderStoryPinText:c,renderStoryPinPage:p,productPins:g}),[l,a,r,o,d,u,c,p,g]);return(0,n.jsx)(s,{value:m,children:e})}let o=()=>(0,i.use)(s)},76632(e,l,a){a.d(l,{A:()=>n});var t=a(471774);let i=/\{\s*(\w+)\s*\}/g;function n({args:e,format:l}){let a,n=(e||[]).reduce((e,l,a)=>({...e,[a]:l.text}),{});return a=l||"",(0,t.A)(i,a,n)}},135850(e,l,a){function t(e,l){let a=(((l||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(e,l)=>a.indexOf("<"+l.toLowerCase()+">")>-1?e:"")}a.d(l,{A:()=>i,U:()=>t});let i=e=>e.replace(/(<([^>]+)>)/gi,"")},442355(e,l,a){a.d(l,{A:()=>c});var t=a(61163),i=a(859471),n=a(150880),s=a(586733),r=a(538329),o=a(542975),d=a(827642),u=a(562615);function c({nativeCreatorCloseupLinkEligible:e,peekCloseupEnabled:l,uriComponent:a}){(0,i.useEffect)(()=>{(0,t.A)("InstagramPostLink","/app/packages/ui/InstagramPostLink.tsx")},[]);let c=(0,r.A)(),{logContextEvent:p}=(0,s.o)();return e&&a?(0,u.jsx)(n.KJ,{align:"start",size:l?"200":"300",children:(0,o.vQ)(c._('See original post on {{ instagramLink }}', 'closeup.defaultMetadata.instagramLink', 'instagramLink: Link to the original Instagram post where the text of the link reads \u2019Instagram\u2019'),{instagramLink:(0,u.jsx)(n.KJ,{color:"link",inline:!0,children:(0,u.jsx)(n.N_,{display:"inline",externalLinkIcon:"default",href:(0,d.A)(a)??a,onClick:()=>{p({event_type:102,element:16198,component:135,aux_data:{is_claimed_domain:e}})},underline:"none",children:c._('Instagram', 'closeup.defaultMetadata.instagramLink-linkText', 'Instagram')})})})}):null}},506651(e,l,a){a.d(l,{A:()=>s});var t=a(859471),i=a(63661),n=a(284966);let s=(e="throttle")=>{let[l,a]=(0,t.useState)(0);return(0,t.useEffect)(()=>{let l="throttle"===e?(0,n.A)(()=>a(window.scrollY),10):(0,i.A)(()=>a(window.scrollY),10);return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[e]),l}},485043(e,l,a){a.d(l,{A:()=>o});var t=a(61163),i=a(859471),n=a(150880),s=a(287803),r=a(562615);function o({onVisibilityChanged:e,children:l,...a}){(0,i.useEffect)(()=>{(0,t.A)("VisibilityChangedWrapper","/app/packages/useVisibilityChanged/VisibilityChangedWrapper.tsx")},[]);let o=(0,s.A)({onVisibilityChanged:e,...a});return(0,r.jsx)(n.az,{ref:o,children:l})}},492523(e,l,a){a.d(l,{A:()=>t});function t(e,l){let{organicVideosAutoplaying:a,promotedVideosAutoplaying:t,videoCarouselModuleAutoplaying:i}=l,n={...a,...t,...i};return n[e]&&n[e].currentTime}},531152(e,l,a){a.d(l,{A:()=>n});var t=a(601185),i=a(971289);function n(){let{checkExperiment:e}=(0,t.A)();return"desktop"===(0,i.Ay)()?e("dweb_pdm_shopping_module_gql").anyEnabled:e("mweb_shopping_module_gql").anyEnabled}},621877(e,l,a){a.d(l,{A:()=>n,o:()=>t});let{Provider:t,get:i}=(0,a(987628).A)("Conversations"),n=i},355272(e,l,a){a.d(l,{A:()=>r});var t=a(150880),i=a(696683),n=a(538329),s=a(562615);let r=function(){let e=(0,n.A)();return(0,s.jsx)(t.az,{display:"flex",justifyContent:"center",marginBottom:5,width:"100%",children:(0,s.jsx)(i.A,{containerSize:320,description:e._('It looks like something went wrong. That\u2019s okay\u2014try refreshing this page.', 'error404.page.gumball.illustrations.description', 'Message displayed under the illustration when 404 error'),illustrationSize:186,message:e._('Something\u2019s a little off', 'error404.page.gumball.illustrations.message', 'Description displayed under the illustration when when 404 error'),name:"gumball",primaryAction:(0,s.jsx)(t.vx,{color:"primary",href:"",onClick:()=>{window.location.reload()},text:e._('Refresh page', 'error404.page.pinjar.illustration', 'Button text for refreshing the page for 404 error')})})})}},877357(e,l,a){a.d(l,{Cs:()=>c,MA:()=>g,jD:()=>p});var t=a(859471),i=a(987628),n=a(378263),s=a(852515),r=a(562615);let o=()=>a.e("85905").then(a.bind(a,633192)),{Provider:d,get:u}=(0,i.A)("IdeaPin");function c({children:e}){let[l,a]=(0,n.A)(o,s.A),i=(0,t.useMemo)(()=>({dispatch:a,ideaPin:l}),[a,l]);return(0,r.jsx)(d,{value:i,children:e})}function p(){let{dispatch:e}=u();return(0,t.useMemo)(()=>({setIdeaPinActivePage:l=>{e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:l}})},setIdeaPinDynamicWidth:l=>{e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:l}})}}),[e])}function g(){let{ideaPin:e}=u();return e}},852515(e,l,a){a.d(l,{A:()=>t});let t={activePage:0,dynamicWidth:0}},771327(e,l,a){a.d(l,{A:()=>d});var t=a(61163),i=a(859471),n=a(91760),s=a(844255),r=a(68299),o=a(562615);function d({children:e,type:l}){(0,i.useEffect)(()=>{(0,t.A)("CloseupPwtSurface","/app/www/closeup/CloseupPwtSurface.tsx")},[]);let a=(0,s._8)();return(0,o.jsx)(n.A,{annotateExperiments:[...a.isAuthenticated?["authDesktop"===l?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page"]:[],a.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth",..."authDesktop"===l?["closeup_dweb_side_by_side_redesign_fast_follow"]:[]],constraints:"authDesktop"===l?[...r.hh]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],surface:"pin_closeup",children:e})}},522183(e,l,a){a.d(l,{A:()=>O});var t,i,n=a(61163),s=a(859471);a(825193);var r=a(150880),o=a(535273),d=a(655186),u=a(913846),c=a(635924),p=a(162497),g=a(678358),m=a(548253),h=a(693154),y=a(376602),_=a(438098),v=a(455758),k=a(309102),f=a(562615);let b=(void 0!==t||(t=a(841202)).hash&&"0c35ccfc446230dc7adcb41b1c88c83f"!==t.hash&&console.error("The definition of 'PinTitle_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),x=function(e){let{clientTrackingParams:l,children:a,isLink:t=!0,onClick:i,pinKey:n,carouselInfo:s}=e,d=(0,o.A)(b,n),u=(0,v.A)(d),c=(0,h.A)(),p=(0,m.A)({showProductDetailPage:!1}),{closeupWithinMasonryEnabled:x,peekCloseupEnabled:S}=(0,g._G)(),P=(0,k.A)({clickthroughType:"middleClick",location:"closeup.title"}),w=d.images_orig?.url&&d.images_orig.width&&d.images_orig.height?d.images_orig:null,A=a;if(s){let{carouselData:e}=s||{},{carousel_slots:l=[],index:a}=e||{};l&&null!=a&&l[a]&&(u=l[a].link||u,A=l[a].title||A)}let C=d?.originPinner&&c.isAuth&&c.id===d.originPinner.entityId||!d.isGoLinkless,F=(0,y.A)({href:{pathname:u??w?.url??"",state:{trackingParams:l}},clientTrackingParams:l,target:"blank",externalData:{pin:d&&{advertiserId:d.advertiserId,attributionSourceId:d.attributionSourceId,board:d.board&&{url:d.board.url},campaignId:d.campaignId,entityId:d.entityId,isDownstreamPromotion:d.isDownstreamPromotion,isPromoted:d.isPromoted,pinner:d.pinner&&{username:d.pinner.username},pinPromotionId:d.pinPromotionId,promoter:d.promoter&&{entityId:d.promoter.entityId},storyPinDataId:d.storyPinDataId,trackingParams:d.trackingParams}}});if(!d.entityId)return null;let I="600";p?I="500":x&&(I="400");let T=A&&(0,f.jsx)(r._Y,{accessibilityLevel:1,lineClamp:S?2:void 0,size:I,children:A});return(0,f.jsx)("div",{"data-test-id":"pin-title-wrapper",itemProp:"name",children:(t||u)&&C?(0,f.jsx)(r.N_,{_onAuxClick:({event:e})=>{(0,_.sz)(e)&&(P(),e.preventDefault(),e.stopPropagation(),i&&i(),F({event:e}))},href:u??w?.url??"",onClick:({event:e,dangerouslyDisableOnNavigation:l})=>{l(),i&&i(),F({event:e})},rel:"nofollow",target:"blank",underline:"none",children:T}):T})};var S=a(131094);let P=`
.CloseupTitleCard {
  color: #444;
  font-weight: bold;
}

.CloseupTitleCard .richPinInformation {
  padding: 0 40px 16px;
  padding-top: 0;
  width: 470px; /* 80% of closeup width */
}

.CloseupTitleCard a {
    color: #444;
}

.CloseupTitleCard a:hover,
.CloseupTitleCard a:active {
  color: #444;
}`;function w({children:e}){return(0,s.useEffect)(()=>{(0,n.A)("TitleLayout","/app/www/closeup/desktop/Title/TitleLayout.tsx")},[]),(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(S.A,{unsafeCSS:P}),(0,f.jsx)("div",{className:"CloseupTitleCard","data-test-id":"closeup-title-card",children:(0,f.jsx)(r.az,{children:e})})]})}let A=(void 0!==i||(i=a(919879)).hash&&"e440739f7cb30d6d4eac0c8c9852d9a7"!==i.hash&&console.error("The definition of 'TitleDesktop_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),C=e=>{if(!e.pin.entityId)return null;let{entityId:l}=e.pin,a=e.pin.images_736x?.url&&e.pin.images_736x.width&&e.pin.images_736x.height?e.pin.images_736x:null;return(0,f.jsxs)(r.az,{children:[(0,f.jsx)("meta",{content:`https://${c.AR}/pin/${l}/`,"data-test-id":"meta-url",itemProp:"url"}),a&&(0,f.jsx)("meta",{content:a.url??void 0,"data-test-id":"meta-image",itemProp:"image"})]})};function F(e){let{richMetadata:l,gridTitle:a}=e||{},{title:t}=l||{};return(a||t)??null}let I=e=>{if(!e.pin.entityId)return null;let l=e.pin.gridTitle;return(0,f.jsx)(u.A,{itemType:p.w$.ARTICLE,children:(0,f.jsx)(x,{...e,children:l})})};function T(e){let{carouselData:l}=e||{},{carousel_slots:a}=l||{};return((a||[])[0]||{}).title??null}let K="carousel",L="product",j="nativeTitle",M="tutorial",R="recipe",z="article",D="displayName",E="default",B="empty",V={[K]:e=>{let{pin:l,carouselInfo:a}=e;if(!l.entityId)return null;let t=T(a);return(0,f.jsx)(u.A,{itemType:p.w$.ARTICLE,children:(0,f.jsx)(x,{...e,children:t})})},[L]:e=>{if(!e.pin.entityId)return null;let{pin:l}=e||{},a=F(l);return(0,f.jsx)(s.Fragment,{children:a&&(0,f.jsx)(u.A,{itemType:p.w$.PRODUCT,children:(0,f.jsxs)(x,{...e,children:[a,(0,f.jsx)(C,{...e})]})})})},[j]:e=>{let{pin:l}=e||{};if(!l.entityId)return null;let a=function(e){let{gridTitle:l,title:a}=e||{};return l||a}(l);return(0,f.jsx)(s.Fragment,{children:a&&(0,f.jsx)(u.A,{children:(0,f.jsx)(x,{...e,children:a})})})},[M]:e=>{var l;let a,t,i=(l=e.pin,a=l?.richMetadata?.tutorial?.fromAggregatedData,t=l?.richMetadata?.tutorial?.name,a||!t?null:t);return i?(0,f.jsx)(u.A,{children:(0,f.jsx)(x,{...e,children:(0,f.jsx)(r.az,{children:i})})}):null},[R]:e=>{let l=function(e){let{name:l}=e?.richMetadata?.recipe||{};return l??null}(e.pin);return l?(0,f.jsx)(u.A,{itemType:p.w$.RECIPE,children:(0,f.jsx)(x,{...e,children:l})}):null},[z]:e=>{if(!e.pin.entityId)return null;let{pin:l}=e||{},a=F(l);return(0,f.jsx)(u.A,{itemType:p.w$.ARTICLE,children:(0,f.jsx)(x,{...e,children:a})})},[D]:e=>{var l;let a=(l=e.pin,l.richSummary?.displayName??null);return a?(0,f.jsx)(u.A,{children:(0,f.jsx)(x,{...e,children:(0,f.jsx)(r.az,{children:a})})}):null},[E]:I,[B]:I},O=({pinKey:e,...l})=>{(0,s.useEffect)(()=>{(0,n.A)("Title","/app/www/closeup/desktop/Title/Title.tsx")},[]);let a=(0,o.A)(A,e),{carouselInfo:t,onTitleCheck:i}=l,r=(0,d.A)(a),{clientTrackingParams:u}=(0,g._G)(),c=function({carouselInfo:e,pin:l,hasProducts:a}){let t=!!l.richMetadata?.tutorial?.name,i=!!l.richMetadata?.recipe?.name,n=!!l.richMetadata?.article?.name,s=!!l.richSummary?.displayName,r=!!l.entityId&&!!l.gridTitle;if(e&&l.entityId&&T(e))return K;if(a)return L;if((e=>{let{carouselData:l,title:a}=e??{};if(a)return!0;if(l){let{carouselSlots:e,index:a}=l;if(null!=a&&e?.[a]&&e[a].title)return!0}return!1})(l))return j;if(t)return M;if(i)return R;if(n)return z;if(s)return D;else if(!r)return B;return E}({carouselInfo:t,pin:a,hasProducts:r}),p=V[c],m=c===B;return(0,s.useEffect)(()=>{i?.(m)},[m,i]),(0,f.jsx)(w,{children:(0,f.jsx)(p,{...l,clientTrackingParams:u,pin:a,pinKey:a})})}},271708(e,l,a){a.d(l,{A:()=>g});var t=a(61163),i=a(859471),n=a(150880),s=a(154508),r=a(601185),o=a(844255),d=a(162497),u=a(678358),c=a(562615);let p=(0,i.memo)(function({children:e,isStoryPin:l=!1,isWideVideo:a=!1}){let t,{showCloseupContentRight:i,showProductDetailPage:p,closeupWithinMasonryEnabled:g,peekCloseupEnabled:m,viewportSize:h,maxWidth:y}=(0,u._G)(),{fiftyPercentWidth:_}=(0,s.Vc)(),{checkExperiment:v}=(0,r.A)(),k=a?d.M1:y,f=g?d.qr:d.bo,b=a?d.qr:p?f:1050,{isRTL:x}=(0,o._8)(),S=p&&v("story_idea_pins_eligible_for_pdp_web",{dangerouslySkipActivation:!0}).anyEnabled;return l&&!S?(0,c.jsx)(n.az,{bottom:!0,display:"flex",left:x,position:"absolute",right:!x,top:!0,width:m?_:d.qr,children:e}):(g||m||(t=(i||a)&&"lg"===h?k:b),(0,c.jsx)(n.az,{maxWidth:t,width:a||g?"100%":void 0,children:e}))});function g(e){return(0,i.useEffect)(()=>{(0,t.A)("ResponsiveCloseupContainer","/app/www/closeup/desktop/responsiveContainers/ResponsiveCloseupContainer.tsx")},[]),(0,c.jsx)(p,{...e})}},948888(e,l,a){a.d(l,{A:()=>p});var t=a(61163),i=a(859471),n=a(150880),s=a(548253),r=a(844255),o=a(687435),d=a(162497),u=a(678358),c=a(562615);function p({children:e,isVideo:l=!1,isWideVideo:a,shouldPadImage:p,styleOverrides:g={},variant:m}){(0,i.useEffect)(()=>{(0,t.A)("ResponsiveImageContainer","/app/www/closeup/desktop/responsiveContainers/ResponsiveImageContainer.tsx")},[]);let{showCloseupContentRight:h,viewportSize:y,paneWidth:_,closeupWithinMasonryEnabled:v,showProductDetailPage:k}=(0,u._G)(),f=(0,r._8)(),b=(0,s.A)({showProductDetailPage:k}),x="default"===m;if(!(!v&&(h&&"lg"===y||x||a)))return(0,c.jsx)(n.az,{children:e});let{borderStyle:S}=(0,o.A)({isSideBySide:h&&!a,isPadded:p,isRTL:f.isRTL,closeupWithinMasonryEnabled:v}),P=a?d.M1:_,w=a?d.M1:496,A=g.height?.height||"100%",C=g.maxWidth?.maxWidth||P,F=g.minWidth?.minWidth||_;return(0,c.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{borderRadius:b||v?void 0:g.borderRadius||S.borderRadius,...p&&l?{overflow:"hidden"}:{}}},display:x?"flex":void 0,flex:x&&a?"grow":void 0,height:x?A:void 0,justifyContent:x?"center":void 0,marginBottom:x?void 0:6,marginEnd:x?void 0:6*!a,maxWidth:x?C:w,minWidth:x?F:344,rounding:x?void 0:200,children:e})}},734524(e,l,a){a.d(l,{A:()=>d});var t=a(61163),i=a(859471),n=a(150880),s=a(678358),r=a(562615);let o=(0,i.memo)(function({children:e}){let{showCloseupContentRight:l}=(0,s._G)();return(0,r.jsx)(n.so,{direction:l?"row":"column",flex:"grow",children:e})});function d(e){return(0,i.useEffect)(()=>{(0,t.A)("ResponsivePaddingContainer","/app/www/closeup/desktop/responsiveContainers/ResponsivePaddingContainer.tsx")},[]),(0,r.jsx)(o,{...e})}},105492(e,l,a){a.d(l,{A:()=>n});var t=a(438098),i=a(894986);let n=(e,l,a,n)=>{let s=e||void 0,r=(0,i.A)({url:l});return"PUSH"===s?"click":("POP"!==s||a)&&"news_hub"!==r.entrySource?n&&(0,t.N9)(n)?"deeplink":"click":"deeplink"}},726141(e,l,a){a.d(l,{A:()=>u});var t=a(61163),i=a(859471),n=a(408738),s=a(562615);let r=(0,n.A)(()=>a.e("23669").then(a.bind(a,594459)),void 0,e=>594459,"app-common-react-components-auth-desktop-web-closeup-CloseupBody-CloseupImage-CloseupImageOverlay",e=>["23669"]),o=(0,n.A)(()=>a.e("51772").then(a.bind(a,422418)),void 0,e=>422418,"app-www-closeup-duplo-ClickthroughOverlay",e=>["51772"]),d=(0,n.A)(()=>a.e("19942").then(a.bind(a,560226)),void 0,e=>560226,"app-www-closeup-duplo-unauth-UnauthClickthroughOverlayContent",e=>["19942"]);function u(e){if((0,i.useEffect)(()=>{(0,t.A)("UnifiedCloseupOverlay","/app/www/closeup/duplo/Overlay/UnifiedCloseupOverlay.tsx")},[]),"authDesktop"===e.variant){let{variant:l,...a}=e;return(0,s.jsx)(r,{...a})}let{inviterFirstName:l,isEligibleForPdp:a,isImagePinForUnauthOnTablet:n,setShowClickthroughOverlay:u}=e;return(0,s.jsx)(o,{isImagePinForUnauthOnTablet:n??!1,children:(0,s.jsx)(d,{inviterFirstName:l,isEligibleForPdp:a,setShowClickthroughOverlay:u})})}},802527(e,l,a){a.d(l,{A:()=>n});var t=a(601185),i=a(844255);function n({skipActivation:e=!1}={}){let{isAuthenticated:l,isBot:a}=(0,i._8)(),{checkExperiment:s}=(0,t.A)();if(e)return!1;let{group:r="",anyEnabled:o}=s("ffe_unified_closeup_phase_1"),d=!!r,u=l&&!d&&s("auth_unified_closeup_phase_1").anyEnabled,c=!l&&!a&&!d&&s("unauth_unified_closeup_phase_1").anyEnabled;return o||u||c}},430393(e,l,a){a.d(l,{A:()=>t});function t(){return["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","domain.official_user()","pin.access","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.collection_pin()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description_html","pin.description","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.image_square_url","pin.images[170x,136x136,236x,474x,736x,orig]","pin.images[236x]","pin.is_downstream_promotion","pin.is_eligible_for_pdp","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link_domain()","pin.link_user_website()","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoted_lead_form","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.product_metadata()","product_metadata.shopping_flags","pin.sponsorship","pin.story_pin_data_id","pin.story_pin_data()","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","pintag.pin_tag_key","pintag.pins()","pintag.type","pintag.x_percent","pintag.y_percent","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.is_verified_merchant","user.type","user.username","user.verified_identity","userwebsite.official_user()","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"]}},796315(e,l,a){a.d(l,{A:()=>u});var t=a(61163),i=a(859471),n=a(150880),s=a(479048),r=a(538329),o=a(381786),d=a(562615);function u({fit:e,highResOnly:l,onError:a,onLoad:u,slot:c,slotIndex:p}){(0,i.useEffect)(()=>{(0,t.A)("CarouselImageItem","/app/www/common/Carousel/CarouselItem/CarouselImageItem.tsx")},[]);let g=(0,r.A)(),{details:m=""}=c,{url:h="",width:y=1,height:_=1}=(0,s.A)(c.images)||{};return h&&(0,d.jsx)(n._V,{alt:(0,o.JF)(m,g,p),fit:e,naturalHeight:_??1,naturalWidth:y??1,onError:a,onLoad:u,src:h,srcSet:(0,o.tS)({slot:c,highResOnly:l})})}},409652(e,l,a){a.d(l,{A:()=>c});var t=a(61163),i=a(859471),n=a(150880),s=a(586733),r=a(567176),o=a(538329),d=a(542975),u=a(562615);function c({boardName:e,boardUrl:l,isBoardlessPin:a,isFromPinBuilder:c,hasNewPin:p,onChangeButtonClick:g,onVisitButtonClick:m=()=>{},onHide:h,onUndo:y,pinImageUrl:_}){let v;(0,i.useEffect)(()=>{(0,t.A)("PostSavedPinToast","/app/www/common/PinBetterSave/PostSavedPinToast.tsx")},[]);let k=(0,o.A)(),{logContextEvent:f}=(0,s.o)();c?v={accessibilityLabel:k._('Visit Pin', 'PostSavedPinToast.a11yVisitButton', 'Accessibility label for Visit Pin saved from PinBuilder'),label:k._('Visit', 'PostSavedPinToast.VisitButton', 'Visit Pin saved from PinBuilder'),size:"lg",role:"button",onClick:m}:(g||y)&&(v={accessibilityLabel:p&&a&&g?k._('Change Pin destination', 'PostSavedPinToast.a11yChangeButton', 'Change saved pin to a different destination'):k._('Undo Saved Pin', 'PostSavedPinToast.a11yUndoButton', 'Undo Saved Pin'),label:p&&a&&g?k._('Change', 'PostSavedPinToast.ChangeButton', 'Change saved pin to a different destination'):k._('Undo', 'PostSavedPinToast.UndoButton', 'Undo Saved Pin'),size:"lg",role:"button",onClick:p&&a&&g?()=>g():y});let b=()=>{p&&a&&g&&f({event_type:101,component:14409})};return(0,u.jsx)(r.A,{duration:a?6e3:3e3,imageUrl:_,onHide:h,primaryAction:v,text:(0,u.jsx)(n.KJ,{overflow:"normal",size:"200",children:(0,d.$w)({text:k._('Saved to <a id="1">{{ boardName }}</a>', 'PostSavedPinToast.SavedToBoardToast.Message', 'Saved to label for better save. boardName: url to saved board'),markers:{boardName:e??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,u.jsx)(n.N_,{display:"block",href:a?"/me/":l??"",onClick:b,children:(0,u.jsx)(n.KJ,{lineClamp:1,size:"200",weight:"bold",children:e},"PostSavedPinToastBoardName")})}})}),thumbnail:a?{icon:(0,u.jsx)(n.In,{accessibilityLabel:k._('Saved to profile thumbnail', 'PostSavedPinToast.thumbnail.accessibilityLabel', 'Thumbnail for saved to profile.'),color:"default",icon:"clock-history",size:24})}:void 0})}},869558(e,l,a){a.r(l),a.d(l,{default:()=>m});var t=a(61163),i=a(859471),n=a(150880),s=a(586733),r=a(736091),o=a(726329),d=a(76632),u=a(733048),c=a(678358),p=a(820382),g=a(562615);function m({contextLogData:e,bubbles:l,id:a,referringSource:m,slotIndex:h,storyType:y,title:_,titleIcon:v,viewType:k,viewParameter:f}){(0,i.useEffect)(()=>{(0,t.A)("BubblesGridRep","/app/www/discover/Bubbles/BubblesGridRep.tsx")},[]);let{logContextEvent:b}=(0,s.o)(),{closeupWithinMasonryEnabled:x}=(0,c._G)(),S=l?.map(({type:e,id:l})=>e+":"+l).join("|"),P=(0,i.useMemo)(()=>({story_type:y,story_id:a,...e,content_ids:S}),[y,a,e,S]),w=!!v&&(0,u.A)(v);return(0,g.jsx)(o.g$,{componentType:200,contextLogData:P,impressionType:"Story",loggingId:a,objectIdStr:a,slotIndex:h,viewParameter:f,viewType:k,children:({impressionTrackerRef:e})=>(0,g.jsxs)(n.az,{ref:e,children:[_&&(0,g.jsxs)(n.az,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:[w&&(0,g.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,g.jsx)(n.In,{accessibilityLabel:"",color:"default",icon:w,size:14})}),(0,g.jsx)(n._Y,{accessibilityLevel:2,size:"300",children:(0,g.jsx)(n.KJ,{inline:!0,weight:"bold",children:(0,d.A)(_)})})]}),(0,g.jsx)(n.az,{role:"list",children:l?.map((e,l)=>(0,g.jsx)(n.az,{flex:"none",paddingY:1,role:"listitem",children:(0,g.jsx)(p.A,{bubble:e,contextLogData:P,height:103,onClick:l=>{b({event_type:101,object_id_str:l,view_type:k,view_parameter:f,component:200,aux_data:{...P,module_image_signature:function(e){if(!e)return;let l=e.cover_images?.[0]?.originals?.url;return l?(0,r.A)(l):void 0}(e)||null}})},referringSource:m??void 0,slotIndex:l,storyId:a,viewParameter:f,viewType:k,width:x?"100%":236})},`bubble-${e.id}`))})]})})}},553510(e,l,a){a.d(l,{A:()=>t});let t={sm:576,md:768,lg:1312,xl:1440,xxl:1680,xxxl:2048}},821017(e,l,a){a.d(l,{AT:()=>t,K9:()=>i,he:()=>n});let t="cubic-bezier(0.68, -0.55, 0.265, 1.55)",i="cubic-bezier(0.55, 0, 0, 1)",n="0 2px 8px rgba(0, 0, 0, 0.15)"},778417(e,l,a){function t(e){let l=new Map;return e.forEach(e=>{e?.id&&l.set(e.id,e)}),l}function i(e,l){return e.map(e=>l.get(e))}function n(...e){let l=new Map;for(let a of e)a.forEach((e,a)=>{l.set(a,e)});return l}function s(e,l){let{max:a=4,sort:t=!1,trim:i=!1}=l??{},n=e;i&&(n=n.map(e=>e.trim()));let s=Array.from(new Set(n.filter(Boolean))).slice(0,a);return t?[...s].sort():s}function r(e){return s(e,{max:1/0})}function o(e){return e.split(",").map(e=>e.trim()).filter(Boolean)}function d(e){return e.filter(Boolean).join(",")}function u(e,l="236x"){return e?.images?e.images[l]?.url||e.images["236x"===l?"474x":"236x"]?.url||null:null}function c(e,l="236x"){if(!e?.images)return{width:1,height:1};let a=e.images[l];if(a?.width&&a?.height)return{width:a.width,height:a.height};let t=e.images["236x"===l?"474x":"236x"];return{width:t?.width||1,height:t?.height||1}}a.d(l,{$P:()=>r,Ax:()=>u,Jq:()=>n,O6:()=>o,Qc:()=>t,h5:()=>s,mZ:()=>c,yD:()=>d,yE:()=>i})},745170(e,l,a){a.d(l,{A:()=>u});var t=a(859471),i=a(601185),n=a(844255),s=a(971289),r=a(81920);class o{constructor(){var e,l,a;e="callbacks",l=new Map,(e="symbol"==typeof(a=function(e,l){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,l||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}(e,"string"))?a:a+"")in this?Object.defineProperty(this,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):this[e]=l,this.observer=new ResizeObserver(e=>{e.forEach(e=>{let l=this.callbacks.get(e.target);l&&l.forEach(l=>l(e.target))})})}observe(e,l){this.callbacks.has(e)||(this.callbacks.set(e,new Set),this.observer.observe(e)),this.callbacks.get(e).add(l)}unobserve(e,l){let a=this.callbacks.get(e);a&&(a.delete(l),0===a.size&&(this.callbacks.delete(e),this.observer.unobserve(e)))}}let d=null;function u(e,l){var a,u;let c,p,{anyEnabled:g,group:m}=(0,i.A)().checkExperiment("closeup_web_resize_observer_optimization"),{isAuthenticated:h}=(0,n._8)(),y=(0,s.Ay)(),_=(0,t.useCallback)(l=>{let a=performance.now();e(l);let t=performance.now();(0,r.GV)("closeup.www.resizeObserverCallback",{sampleRate:.1,tags:{isAuthenticated:h,deviceType:y,resizeObserverOptimizationExp:m,duration:Math.round(t-a)}})},[e,h,y,m]);a=g?null:_,(0,t.useEffect)(()=>{if(!l.current||!a)return()=>{};{let e=l.current;if("ResizeObserver"in window){let l=new ResizeObserver(l=>{Array.isArray(l)&&l.length&&a(e)});return l.observe(e),()=>l.unobserve(e)}{let l,t=e.clientHeight,i=e.clientWidth,n=()=>{let s=e.clientHeight,r=e.clientWidth;(t!==s||i!==r)&&(t=s,i=r,a(e)),l=window.requestAnimationFrame(n)};return n(),()=>window.cancelAnimationFrame(l)}}},[l,a]),u=g?_:null,(c=(0,t.useRef)(u)).current=u,p=(0,t.useCallback)(e=>{c.current?.(e)},[]),(0,t.useEffect)(()=>{if(!l.current)return;let e=!("u"<typeof window)&&"ResizeObserver"in window?(d||(d=new o),d):null;if(!e)return void(0,r.GV)("closeup.www.resizeObserverCallback.noResizeObserver",{sampleRate:.1,tags:{isAuthenticated:h,deviceType:y}});let a=l.current;return e.observe(a,p),()=>{e.unobserve(a,p)}},[l,p,h,y])}},294056(e,l,a){function t(e){return{type:"PIN_QUICK_SAVE",payload:e}}function i(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}a.d(l,{R:()=>t,q:()=>i})},163129(e,l,a){a.d(l,{A:()=>s});var t=a(261276),i=a(874249),n=a(362384);function s(e,l,a,s){switch(e){case 0:return function({isShortened:e,minutes:l,i18n:a}){if(!l)return"";if(e)return(0,n.A)(l,a).join("");let s=(0,i.A)((0,t.R)({m:l}),a);if(!s)return"";let r=s.join(""),o=a._('Cook Time', 'ideapin.basics.cookTime', 'The cook time for the food in this pin');return`${o}: ${r}`}({minutes:parseInt(l??"0",10),i18n:a,isShortened:s});case 1:return function({servingSize:e,i18n:l}){return e?1===e?`${e} ${l._('serving', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:`${e} ${l._('servings', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:""}({servingSize:parseInt(l??"0",10),i18n:a});case 2:return function({difficulty:e,i18n:l}){let a={1:l._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:l._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:l._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},t=l._('Difficulty', 'ideapin.basics.difficulty', 'The difficulty for the activity in this pin');return`${t}: ${a[e??"1"]}`}({difficulty:l,i18n:a});default:return""}}},766944(e,l,a){a.d(l,{A:()=>t});let t=e=>e.join("  ")},558360(e,l,a){function t(e){let l=[],a="";for(let t of e)if(a){let e=!!t.match(/\s/),i=!!a.match(/\s/);if(e===i)a+=t;else if(!i&&a.includes("-")){let e=0;for(let t=0;t<a.length;t+=1)"-"===a[t]&&(l.push(a.substring(e,t+1)),e=t+1);l.push(a.substring(e)),a=t}else l.push(a),a=t}else a=t;return a.length&&l.push(a),l}function i({boxHeight:e,boxWidth:l,font:a,startFontSize:i,text:n}){if("u"<typeof document||!document.body)return{fontSize:i,lines:[]};let{body:s}=document,r=document.createElement("div");s.appendChild(r);let o=n?.split(/\r?\n/g),d=i,u={letterSpacing:a.fontOverrides?.letterSpacing!=null?`${a.fontOverrides.letterSpacing}px`:void 0,lineHeight:String(a.fontOverrides?.lineHeight||1.1),fontFamily:a.fontFamily,fontSize:`${d}px`,position:"absolute",visibility:"hidden",width:`${l}px`};Object.assign(r.style,u);let c=document.createElement("div");for(c.style.display="inline",r.appendChild(c),(o??[]).forEach((e,l)=>{let a=document.createElement("span");a.style.wordBreak="break-word",c.appendChild(a),a.appendChild(document.createTextNode(e)),l!==(n??"").length-1&&a.appendChild(document.createElement("br"))});(c.offsetHeight>e||c.offsetWidth>l)&&d>0;)d-=1,r.style.fontSize=`${d}px`;return c.remove(),r.remove(),{fontSize:d,lines:d>0?function({font:e,fontSize:l,textList:a,width:i}){if("u"<typeof document||!document.body||i<=0||l<=0)return[];let{body:n}=document,s=document.createElement("div");n.appendChild(s);let r={letterSpacing:e.fontOverrides?.letterSpacing!=null?`${e.fontOverrides.letterSpacing}px`:void 0,lineHeight:String(e.fontOverrides?.lineHeight||1.1),fontFamily:e.fontFamily,fontSize:`${l}px`,visibility:"hidden"};Object.assign(s.style,r);let o=document.createElement("div");o.style.display="inline",s.appendChild(o);let d=document.createTextNode("");o.appendChild(d);let u=[],c="",p=e=>{let l=e.trim();return d.textContent=l,{text:l,width:o.offsetWidth}},g=e=>{let l=!!e.match(/\s/),a=0===c.length;if(d.textContent=`${c}${e}`,o.offsetWidth>i)if(l)u.push(p(c)),c="";else if(a)for(let l of e)g(l);else u.push(p(c)),c="",g(e);else c+=e};for(let e of a??[])0===e.length&&u.push(p(c)),t(e).forEach(e=>g(e)),c.length&&(u.push(p(c)),c="");return o.remove(),s.remove(),u}({font:a,fontSize:d,textList:o,width:l}):[]}}function n(e){let l=window.getComputedStyle(e,null),a=parseFloat(l.getPropertyValue("height").replace("px","")),t=parseFloat(l.getPropertyValue("font-size").replace("px","")),i=parseFloat(l.getPropertyValue("line-height").replace("px",""));return Number.isNaN(i)&&(i=1.2*t),Math.ceil(a/i)}a.d(l,{DB:()=>i,IC:()=>n,VF:()=>t})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/9326-0fcd157f7aeac509.mjs.map