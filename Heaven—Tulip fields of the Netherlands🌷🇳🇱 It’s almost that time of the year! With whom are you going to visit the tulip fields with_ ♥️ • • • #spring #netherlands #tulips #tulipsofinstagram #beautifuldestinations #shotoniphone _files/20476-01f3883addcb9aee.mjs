(self.modernJsonp=self.modernJsonp||[]).push([["20476"],{977110(e,t,i){i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSSCarouselModule_parentPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_parentPin"}],type:"Pin",abstractKey:null};a.hash="d1542775568248acbce5a79453f4dffb";let l=a},599016(e,t,i){var a,l;i.r(t),i.d(t,{default:()=>o});let n={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CSSCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[l],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_story"},{args:null,kind:"FragmentSpread",name:"useCarouselModuleLogic_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};n.hash="dee347ef77ae345e076b08494d4b664f";let o=n},352762(e,t,i){i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};a.hash="b5b71fb4390c1d3835e468a25f687669";let l=a},196635(e,t,i){i.r(t),i.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};a.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7";let l=a},881541(e,t,i){i.d(t,{A:()=>v});var a,l,n=i(61163),o=i(859471);i(825193);var r=i(150880),s=i(586733),d=i(284387),u=i(535273),c=i(17881),p=i(377917),h=i(78284),g=i(704633),m=i(257361),f=i(971289),y=i(385800),x=i(562615);let w=(void 0!==a||(a=i(977110)).hash&&"d1542775568248acbce5a79453f4dffb"!==a.hash&&console.error("The definition of 'CSSCarouselModule_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),b=(void 0!==l||(l=i(599016)).hash&&"dee347ef77ae345e076b08494d4b664f"!==l.hash&&console.error("The definition of 'CSSCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function v({accessibilityLabelledBy:e,auxData:t,component:i,contentVisibleItemCountOverride:a,disableHeader:l,getProductTagAuxData:v,headerDisplayOptions:_,heading:F,itemRepSiblingNodeFactories:S,items:I,itemWidth:k,itemWidthHeightRatio:j,parentPinKey:A,renderItem:T,saveButtonOptions:C,showBorder:P,showMarkers:K=!1,showNavigationButtons:L=!0,storyKey:z,subtitle:R,surface:N,view:B=3,viewParameter:D,width:E}){(0,o.useEffect)(()=>{(0,n.A)("CSSCarouselModule","/app/packages/StructuredFeed/ModuleReps/CarouselModule/CSSCarouselModule.tsx")},[]);let{logContextEvent:M}=(0,s.o)(),W=(0,f.Ay)(),H=(0,f.bh)(W),O=(0,u.A)(w,A),$=(0,u.A)(b,z),V=$?.objects?[...$.objects]:[],U=V.map(e=>"Pin"===e.__typename?e.entityId:null),G=(0,o.useMemo)(()=>{let e=$?.storyType?{story_type:$.storyType}:void 0;return e&&t?{...t,...e}:e??t},[$?.storyType,t]),J=H?236:175,q=k??J,Y=$.displayOptions?.contentDisplay?.itemWidthHeightRatio??j??1,{web:X,mobile:Q}=$.displayOptions?.contentDisplay?.contentVisibleItemCount??{},Z=a??(H?X:Q),ee=!l&&($?.storyTitle||F||R),{showModuleBorder:et,showExtraSmallSubtitle:ei,headerMarginBottom:ea,isFixedWidthSlides:el,moduleBorderStyle:en}=(0,g.A)({storyKey:$,styleOverrides:{showModuleBorder:P}}),eo=!el&&!!Z&&!k,er=eo?"100%":q,es=(0,o.useCallback)(({currentIndex:e,nextIndex:t})=>{if(void 0===e||e===t)return;let a=Number(U?.[e]);M({aux_data:G,event_type:108,component:i,view_type:B,view_parameter:D,event_data:{pinCarouselSlotEventData:{carouselSlotId:Number.isFinite(a)?a:void 0,carouselSlotIndex:e,toCarouselSlotIndex:t}}})},[G,i,U,M,B,D]),ed=(0,o.useCallback)(({item:e,index:t})=>{let a=()=>{let a;if(T)return T({item:e,index:t});if(t===V.length-1&&$.action?.text&&$.action?.url&&(a=$.action,a?.text&&a?.url&&h.$$.has(a?.location))){let t="Pin"===e.__typename&&e.images_236x?.url;return t&&(0,x.jsx)(c.A,{auxData:G,buttonText:$.action?.text,component:i,contentIds:$.contentIds??void 0,element:179,imageWidth:er,previewImageSrc:t,storyId:$.storyId??"",storyType:$.storyType,url:$.action.url,view:B,viewParameter:D})}let l="Pin"===e.__typename?v?.(e):void 0;return(0,x.jsx)(p.A,{auxData:{...l,...G},boardKey:null,component:i,imageWidth:er,isInDesktopCarousel:H,isInMobileCarousel:!H,item:null,itemWidthHeightRatio:Y,parentPinKey:O,pinKey:"Pin"===e.__typename?e:null,productTagParentPinId:O?.entityId,relatedInterestKey:null,saveButtonOptions:C,slotIndex:t,storyKey:$,surface:N,view:B,viewParameter:D})},l=S?.[t];if(l){let e=a();return(0,x.jsx)(y.e,{children:t=>(0,x.jsx)(r.az,{position:"relative",children:(0,x.jsxs)(o.Fragment,{children:[e,l(t)]})})})}return a()},[V.length,i,v,H,S,er,Y,G,O,T,C,$,N,B,D]);return(0,x.jsxs)(r.az,{borderColor:et?"decorative":void 0,borderWidth:et?en:void 0,dangerouslySetInlineStyle:{__style:{"--carousel-item-width":`${q}px`,"--story-item-width-height-ratio":`${1/Y}`,...eo&&{"--carousel-item-count":`${Z}`}}},direction:"column",display:"flex",rounding:et?400:void 0,width:E??"100%",children:[ee&&(0,x.jsx)(r.az,{marginStart:6,marginTop:4,children:(0,x.jsx)(m.A,{auxData:G,headerDisplayOptions:_,marginBottomOverride:ea,showExtraSmallSubtitle:ei,storyKey:$,view:B,viewParameter:D})}),(0,x.jsx)(r.az,{position:"relative",children:(0,x.jsx)(d.A,{accessibilityLabelledBy:e,items:I??V,mode:"multi",onIndexChange:es,renderItem:ed,showNavigationButtons:L,showScrollMarkers:K})})]})}},825179(e,t,i){i.d(t,{Ir:()=>V,RM:()=>O,Ay:()=>J});var a=i(61163),l=i(859471),n=i(106386),o=i(979638),r=i(150880),s=i(296221),d=i(210909),u=i(411805),c=i(538329),p=i(538678),h=i(844255),g=i(161916),m=i(430705),f=i(485321),y=i(971289),x=i(924276);let w=new Map;var b=i(439524),v=i(780355),_=i(515568),F=i(47818),S=i(765346),I=i(160587),k=i(937176),j=i(654657),A=i(189851),T=i(699613),C=i(659664),P=i(8627),K=i(134820),L=i(670386),z=i(39412),R=i(411812),N=i(785953),B=i(408738),D=i(562615);function E(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let M=(0,B.A)(()=>i.e("5852").then(i.bind(i,236184)),void 0,e=>236184,"app-www-businessNux-BizNuxHomefeedLoader",e=>["5852"]),W=(0,B.A)(()=>i.e("85496").then(i.bind(i,211592)),void 0,e=>211592,"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed",e=>["85496"]);class H extends l.PureComponent{constructor(...e){super(...e),E(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:(()=>{let{plpImageRenderData:e}=(0,S.of)(),[t]=e;return t?t.pin_id:null})(),feedItem:null}:null}),E(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),E(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),E(this,"gridContainerRef",(0,l.createRef)()),E(this,"renderFeedPin",(e,t)=>{let{feedItemProps:i,location:a,performanceOptimization:l,showSeoMetadata:n,surface:o,trafficSource:r,getReduxPin:s}=this.props,{auxData:d,componentType:u,feedback:c,imageOnly:p,impressionData:h,objectIdStr:g,oneTapSave:m,onFeedItemClick:f,onPinLinkClick:y,shouldAllowProductPriceIndicator:x,showSeoMetadata:w,viewData:b,viewParameter:v,viewType:_}=i||{},F=(a.search||"").includes("force_seo"),S=!!l?.lazyLoadBelowFoldIndex&&t>l.lazyLoadBelowFoldIndex,I=!!l?.priorityFetchAboveFoldIndex&&t<=l.priorityFetchAboveFoldIndex,j=s(e.id);return(0,D.jsx)(k.A,{auxData:d,componentType:u||0,duploFeedItemProps:{onPinClick:f,onPinLinkClick:y,showSeoMetadata:n||F||w},duploLazyLoadImage:S,duploOneTapSave:m,duploPriorityFetchImage:I,duploShouldAllowProductPriceIndicator:x,feedback:c,imageOnlyOption:p?"image-only":"default",impressionData:h,objectIdStr:g,parentPinKey:null,pinKey:j?{type:"Legacy",data:j}:null,seoDrawerPinType:this.props.seoDrawerPinType,shouldShowSeoDrawerNewfields:this.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:this.props.shouldShowSeoDrawerOption,slotIndex:t,surface:o,trackingParams:e.trackingParams,trafficSource:r,viewData:b,viewParameter:v,viewType:_||1})}),E(this,"getBoardId",()=>{let e=this.props.feedKey?.split(":");return e&&e.length>1&&"boardfeed"===e[0]?e[1]:null}),E(this,"hideMoreIdeas",()=>{let{getReduxBoard:e,surface:t,trafficSource:i}=this.props,a=this.getBoardId(),l="board"===i&&["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(t??"")&&a?e(a):null;return l?.featured_board_metadata?.more_ideas===!1})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,b.N5)(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,b.GP)(this.props.feedKey)}componentDidUpdate(e){let{refreshing:t,unauthLandingPinStateForAuthHomefeed:i}=this.state,{feedItems:a,authHomefeedComponentDidUpdate:l}=this.props,n=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(n&&this.setState({refreshing:!1}),l&&i){let t=l({feedItems:a,prevFeedItems:e.feedItems,finishedRefresh:n,unauthLandingPinStateForAuthHomefeed:i});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){let{deviceType:e,emptyState:t,experimentalColumnWidth:i,experimentalGutter:a,feedItemProps:n,feedItems:o,feedItemsAdjustment:u,feedKey:c,feedStoryId:h,getColumnSpanConfig:g,gridConfig:m,i18n:y,pageSize:w,pagination:b,pullToRefresh:S,renderFeedItem:k,serverRender:j,showBizNuxHomefeedLoader:A,trafficSource:T,visuallyCompleteProfilerOptions:C,isLoadingStateEnabled:L,initialLoadingStatePinCount:B,isLoadingAccessibilityLabel:E,isLoadedAccessibilityLabel:H}=this.props,{unauthLandingPinStateForAuthHomefeed:O}=this.state,$=O?.feedItem&&o.length?[O.feedItem,...o]:o,{viewParameter:V,viewType:U}=n||{},{gridMeasurementKey:G}=m||{},J=c+(G?`|${G}`:""),q="user_search"===T,Y=q?window.innerWidth-16:void 0,X=$.some(e=>"board"===e.type),Q={columnWidth:(0,v.qG)({deviceType:e,customMWebColumnWidth:Y,experimentalColumnWidth:X?236:i}),renderItem:({data:e,itemIdx:t})=>{if(k){let i=k(e,t);if("FALLBACK_TO_DEFAULT"!==i)return i}switch(e.type){case"pin":return(0,D.jsx)(P.A,{children:this.renderFeedPin(e,t)});case"user":return(0,D.jsx)(N.A,{truncateName:!0,userId:e.id,userSearchRepStyle:q,viewParameter:V,viewType:U});case"board":let i=this.props.getReduxBoard(e.id);return(0,D.jsx)(x.default,{boardKey:i?{type:"Legacy",data:i}:null,type:"grid",viewParameter:V,viewType:U});case"topic":return(0,D.jsx)(z.A,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:V,viewType:U});case"story":if("number"==typeof V)return(0,D.jsx)(K.A,{slotIndex:t,storyId:e.id,viewParameter:V,viewType:U||1});return null;case"FEED_BREAK_IN":return u&&"breakIn"===u.type&&u.value.content;default:return null}},gutterWidth:(0,v.yC)({experimentalGutter:a,trafficSource:T,deviceType:e}),loadItems:b.loadNext,minCols:q?1:2,...m},Z=!A&&b.isLoadingNext&&0===$.length&&!this.state.refreshing&&!L,ee=w&&25>parseInt(w,10),et=u?.type==="fullWidthBreakIn"?[{type:"feed",id:`${J}_feed_0`,item:$.slice(0,u.value.index)},{type:"fullWidthBreakIn",id:`${J}_break_in_0`,item:u.value.content},{type:"feed",id:`${J}_feed_1`,item:$.slice(u.value.index)}]:[{type:"feed",id:J,item:$}],ei="desktop"===e,ea=ei&&"flashlight"===T,el=ea?0:-1;return(0,D.jsxs)(r.az,{"data-test-id":"MobileFeed",children:[(0,D.jsx)(_.A,{auxData:n?.auxData||null,enabled:!!S,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:n?.viewParameter||null}),(0,D.jsxs)(r.az,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:el,marginStart:el,opacity:this.state.refreshing?50:100,children:[(0,D.jsxs)(p.A,{includeBackgroundImages:C?.includeBackgroundImages,includeVideos:C?.includeVideos,isAtEndOfFeed:!b.hasNext,isPlaceholderGrid:L&&b.isLoadingNext&&!$.length,itemCount:$.length,pinData:C?.pins,children:[$.length||L&&b.isLoadingNext?(0,D.jsx)(r.az,{"data-test-id":"feed",marginTop:(0,v.xf)({isDesktop:ei}),children:(0,D.jsx)(f.A.Consumer,{children:e=>(0,D.jsx)(l.Fragment,{children:(0,D.jsx)(R.A,{children:et.map(t=>"feed"===t.type?(0,D.jsx)(d.default,{cacheKey:J,getColumnSpanConfig:g,id:j?c:void 0,initialLoadingStatePinCount:B,isFetching:b.isLoadingNext,isLoadedAccessibilityLabel:H??"",isLoadingAccessibilityLabel:E??"",isLoadingStateEnabled:!!L,items:t.item,scrollContainerRef:e,serverRender:j,virtualize:this.props.virtualize,...Q},t.id):"fullWidthBreakIn"===t.type?(0,D.jsx)(r.az,{children:t.item},t.id):null)})})})}):b.isLoadingNext?(0,D.jsx)(F.A,{}):t??null,b.isLoadingNext&&"board"===T&&ee&&!L&&(0,D.jsx)(r.y$,{accessibilityLabel:y._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})]}),Z&&(0,D.jsx)(r.az,{column:12,paddingY:2,children:(0,D.jsx)(I.A,{partialViewportWidth:ea})}),A&&(0,D.jsx)(M,{gridContainerRef:this.gridContainerRef,homefeedLoading:b.isLoadingNext}),!ei&&!b.hasNext&&(0,D.jsx)(s.nU,{placementId:1000251}),h&&!this.hideMoreIdeas()&&(0,D.jsx)(r.az,{marginBottom:6,children:(0,D.jsx)(W,{storyId:h})})]})]})}}function O({feedItems:e,pagination:t,...i}){(0,l.useEffect)(()=>{(0,a.A)("Feed","/app/www/Feed.tsx")},[]);let{feedItemsAdjustment:r}=i,s=(0,o.zy)(),d=(0,y.Ay)(),p=(0,c.A)(),{isAuthenticated:g,isBot:m}=(0,h._8)(),{isBizNuxHomefeedLoadShown:f}=(0,n.d4)(({session:e})=>e),x=e;r?.type==="breakIn"&&(x=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),(e=>{let t=w.get(e);if(t)return t;let i=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:`BREAK_IN_${e}`});return w.set(e,i),i})(e),...t.slice(e)])({items:e,breakIn:r.value}));let{experimentalColumnWidth:b,experimentalGutter:v}=(0,u.A)(),_=(0,L.A)(x),F=(0,A.oW)(),S=(0,T.HR)();return(0,D.jsx)(H,{...i,deviceType:d,experimentalColumnWidth:b,experimentalGutter:v,feedItems:x,getReduxBoard:F,getReduxPin:S,i18n:p,isAuthenticated:g,location:s,pagination:t,showBizNuxHomefeedLoader:!!f,showSeoMetadata:m||!g,virtualize:_})}function $({isAtEnd:e,isFetching:t,fetchMore:i,refresh:a,...l}){let o=(0,n.d4)(({feeds:e})=>e[l.feedKey]??[]),r=(0,n.d4)(({desktopStories:e})=>e),{featuredBoardStoryId:s,feedStoryId:d}=(0,C.A)(o,r),u=(0,n.d4)(({session:e})=>e.firstHomeFeedRequestAfterNux),c=(0,n.wA)();return(0,D.jsx)(O,{...l,featuredBoardStoryId:s,feedItems:o,feedStoryId:d,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>i(),refetch:()=>{u?c((0,j.ly)(!1)):a()}}})}function V({resource:{isAtEnd:e,isFetching:t,fetchMore:i,refresh:n},...o}){return(0,l.useEffect)(()=>{(0,a.A)("Feed","/app/www/Feed.tsx")},[]),(0,D.jsx)($,{...o,fetchMore:i,isAtEnd:e,isFetching:t,refresh:n})}function U({resourceConfig:e,...t}){let i=(0,m.A)(e);return(0,D.jsx)(V,{...t,resource:i})}function G({resourceRef:e,fetchMore:t,refresh:i,...a}){let{isAtEnd:l}=(0,g.A)(e);return(0,D.jsx)($,{...a,fetchMore:t,isAtEnd:l,isFetching:!1,refresh:i})}function J({resourceConfig:e,resourceRef:t,fetchMore:i,refresh:n,...o}){return((0,l.useEffect)(()=>{(0,a.A)("Feed","/app/www/Feed.tsx")},[]),t)?(0,D.jsx)(G,{...o,fetchMore:i??(()=>{}),refresh:n??(()=>{}),resourceRef:t}):(0,D.jsx)(U,{...o,resourceConfig:e})}},439524(e,t,i){i.d(t,{GP:()=>o,N5:()=>n,Y9:()=>l});let a={},l=e=>{a[e]&&a[e].handlePullToRefresh()},n=(e,t)=>{a[e]=t},o=e=>{delete a[e]}},670386(e,t,i){i.d(t,{A:()=>o});var a=i(859471),l=i(304726),n=i(509610);let o=function(e){let t=(0,n.A)(),i=(0,a.useMemo)(()=>{if(!t)return null;let i=new WeakMap;return e.forEach((e,t)=>i.set(e,!(0,l.h)(t))),i},[e,t]);return(0,a.useCallback)(e=>null===i||(i.get(e)??!0),[i])}},327210(e,t,i){i.d(t,{A:()=>s});var a=i(61163),l=i(859471),n=i(150880),o=i(201593),r=i(562615);function s({color:e,image:t,isSelected:i,title:s}){(0,l.useEffect)(()=>{(0,a.A)("PillRep","/app/www/nux/PillRep.tsx")},[]);let{isDarkMode:d}=(0,o.D2)();return(0,r.jsxs)(n.az,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:d?i?"#fff":"#767676":i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,r.jsx)(n.n1,{height:48,rounding:"circle",width:48,children:t.url&&(0,r.jsx)(n._V,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,r.jsx)(n.az,{marginEnd:3,marginStart:2,children:(0,r.jsx)(n.KJ,{color:i?"inverse":d?"light":"dark",weight:"bold",children:s})})]})}},39412(e,t,i){i.d(t,{A:()=>k});var a,l,n=i(61163),o=i(859471),r=i(106386),s=i(825193),d=i(150880),u=i(743372),c=i(844255),p=i(466245),h=i(676130),g=i(538329),m=i(183756),f=i(327210),y=i(562615);let x=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:i,isLego:a,isSelected:l,locale:n,nameTextSize:o,renderAsPill:r,showFollowerCount:s,topicName:u,followerCount:c,image:p})=>{let h=(0,g.A)(),x=(0,m.A)(),w=(0,y.jsx)(d.In,{accessibilityLabel:h._('Selected', ' - ', ' -- '),color:"light",icon:a?"check":"circle-check",size:a?12:24});return r?(0,y.jsx)(f.A,{color:e||"#767676",image:p,isSelected:l??!1,title:u}):(0,y.jsxs)(d.az,{"aria-selected":l,position:"relative",children:[(0,y.jsx)(d.n1,{rounding:a||i?400:200,children:(0,y.jsxs)(d.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,y.jsx)(d.az,{bottom:!0,left:!0,padding:a&&l?1:0,position:"absolute",right:!0,rounding:a&&l?400:0,top:!0,children:p.url&&(0,y.jsx)(d._V,{alt:u,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:p.url})}),(0,y.jsx)(d.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:l?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:a&&l?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:a?400:void 0,top:!0}),a&&l&&(0,y.jsx)(d.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:400,top:!0})]})}),i?(0,y.jsx)(d.az,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,y.jsx)(d.KJ,{align:"center",color:"light",size:o,weight:"bold",children:u})}):(0,y.jsxs)(d.az,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,y.jsx)(d.KJ,{color:"light",size:o,weight:"bold",children:u}),s&&c>=0&&(0,y.jsx)(d.az,{paddingY:1,children:(0,y.jsxs)(d.KJ,{color:"inverse",size:"100",children:[(0,y.jsx)(d.KJ,{color:"inverse",inline:!0,size:"100",weight:"bold",children:x(n,c,{shortform:!0,shortform_maximum_fraction_digits:1})}),h._('followers', ' - ', ' -- ')]})})]}),l&&(0,y.jsx)(d.az,{margin:2,position:"absolute",right:!0,top:!0,children:a?(0,y.jsx)(d.az,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:200,width:24,children:w}):w})]})},w=(void 0!==a||(a=i(352762)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==a.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),b=({topicRef:e,...t})=>{(0,o.useEffect)(()=>{(0,n.A)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let i=(0,s.useFragment)(w,e),a=i.images?{url:i.images.url??"",width:i.images.width??0,height:i.images.height??0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,y.jsx)(x,{backgroundColor:i.background_color??"",followerCount:i.follower_count??0,image:a,topicName:i.name??"",...t})},v=({topic:e,topicBlob:t,topicInfoForContextualExp:i,...a})=>{(0,o.useEffect)(()=>{(0,n.A)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let l=i||e||t,r=l?.images?.["236x"]||l?.images?.["400x"]||l?.images?.["474x"]||l?.images?.orig||{height:1,url:"",width:1},s=l&&"follower_count"in l&&void 0!==l.follower_count?l.follower_count:-1;return(0,y.jsx)(x,{backgroundColor:l?.background_color||"",followerCount:s,image:r,topicName:l?.name||"",...a})},_=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:a=!1,markForRefresh:l,nameTextSize:n="lg",onTouch:o,padding:s=2,renderAsPill:g,showFollowButton:m=!1,showFollowerCount:f=!1,shouldClickthrough:x=!1,topic:w,viewParameter:_,viewType:F})=>{let S=(0,r.wA)(),I=(0,u.A)(),{locale:k}=(0,c._8)(),j=(0,y.jsxs)(d.az,{"data-test-id":"nux-picker-topic",children:["graphql"!==w.type?(0,y.jsx)(v,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:a,locale:k,nameTextSize:n,renderAsPill:g,showFollowerCount:f,topic:w.topic,topicBlob:w.topicBlob,topicInfoForContextualExp:w.topicInfoForContextualExp}):(0,y.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:a,locale:k,nameTextSize:n,renderAsPill:g,showFollowerCount:f,topicRef:w.topicRef}),!!w&&m&&(0,y.jsx)(d.az,{paddingY:2,children:(0,y.jsx)(p.A,{followEventType:601,id:w.id,inline:t,invertColors:t,isFollowed:w.is_followed,onFollow:e=>{S((0,h.e6)(e,I)),l&&l()},onUnfollow:e=>{S((0,h.X2)(e,I)),l&&l()},pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:_||void 0,viewType:F||void 0})})]}),A="/";return w&&(A=`/topics/${w.id}`),x&&w.slug?(0,y.jsx)(d.$A,{href:A,onTap:({event:e})=>{o?.(e)},rounding:200,tapStyle:"compress",children:(0,y.jsx)(d.az,{padding:s,children:j})}):j},F=(void 0!==l||(l=i(196635)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==l.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),S=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:i,isLego:a,isSelected:l=!1,markForRefresh:n,nameTextSize:o="lg",onTouch:r,padding:d=2,renderAsPill:u,showFollowButton:c=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:g,viewType:m})=>{let f=(0,s.useFragment)(F,e);return(0,y.jsx)(_,{decreaseNamePadding:t,isHomefeedTuner:i,isLego:a,isSelected:l,markForRefresh:n,nameTextSize:o,onTouch:r,padding:d,renderAsPill:u,shouldClickthrough:h,showFollowButton:c,showFollowerCount:p,topic:{id:f.entityId??"",type:"graphql",is_followed:f.is_followed??!1,topicRef:f},viewParameter:g,viewType:m})},I=({id:e,topic:t,topicBlob:i,topicInfoForContextualExp:a,decreaseNamePadding:l=!1,isHomefeedTuner:n,isLego:o,isSelected:s=!1,markForRefresh:d,nameTextSize:u="lg",onTouch:c,padding:p=2,renderAsPill:h,showFollowButton:g=!1,showFollowerCount:m=!1,shouldClickthrough:f=!1,viewParameter:x,viewType:w})=>{let b=(0,r.d4)(({topics:t})=>t[e]),v=t??b;return(0,y.jsx)(_,{decreaseNamePadding:l,isHomefeedTuner:n,isLego:o,isSelected:s,markForRefresh:d,nameTextSize:u,onTouch:c,padding:p,renderAsPill:h,shouldClickthrough:f,showFollowButton:g,showFollowerCount:m,topic:{id:e,is_followed:!!v?.is_followed,topic:v,topicBlob:i,topicInfoForContextualExp:a,type:"resource"},viewParameter:x,viewType:w})},k=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:a=!1,markForRefresh:l,nameTextSize:r="lg",onTouch:s,padding:d=2,renderAsPill:u,showFollowButton:c=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:g,viewType:m,...f})=>((0,o.useEffect)(()=>{(0,n.A)("TopicRep","/app/www/topic/TopicRep.tsx")},[]),f.topicRef?(0,y.jsx)(S,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:a,markForRefresh:l,nameTextSize:r,onTouch:s,padding:d,renderAsPill:u,shouldClickthrough:h,showFollowButton:c,showFollowerCount:p,topicRef:f.topicRef,viewParameter:g,viewType:m}):(0,y.jsx)(I,{decreaseNamePadding:e,id:f.id,isHomefeedTuner:t,isLego:i,isSelected:a,markForRefresh:l,nameTextSize:r,onTouch:s,padding:d,renderAsPill:u,shouldClickthrough:h,showFollowButton:c,showFollowerCount:p,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp,viewParameter:g,viewType:m}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/20476-01f3883addcb9aee.mjs.map