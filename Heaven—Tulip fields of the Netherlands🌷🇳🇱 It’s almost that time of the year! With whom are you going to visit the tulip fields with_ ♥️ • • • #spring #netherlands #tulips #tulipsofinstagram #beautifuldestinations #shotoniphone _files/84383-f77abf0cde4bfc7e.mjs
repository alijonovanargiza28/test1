(self.modernJsonp=self.modernJsonp||[]).push([["84383"],{315075(e,t,i){i.d(t,{A:()=>a});var n,r=new Uint8Array(16);function a(){if(!n&&!(n="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"u">typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)}},542637(e,t,i){i.d(t,{A:()=>s});let n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var r=[],a=0;a<256;++a)r.push((a+256).toString(16).substr(1));let s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!("string"==typeof i&&n.test(i)))throw TypeError("Stringified UUID is invalid");return i}},679902(e,t,i){i.d(t,{A:()=>a});var n=i(315075),r=i(542637);let a=function(e,t,i){var a=(e=e||{}).random||(e.rng||n.A)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){i=i||0;for(var s=0;s<16;++s)t[i+s]=a[s];return t}return(0,r.A)(a)}},432321(e,t,i){i.d(t,{A:()=>r});var n=i(640654);function r(){return(0,n.y)()}},127413(e,t,i){i.d(t,{A:()=>a});var n=i(570068);let r=`pulsing {
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
}`,a={css:(0,n.m5)([r]),animation:"pulsing 2s infinite"}},103892(e,t,i){i.d(t,{A:()=>a});var n=i(601185),r=i(971289);function a(){let e=(0,r.M)(),{checkExperiment:t}=(0,n.A)();return{inAffiliateDisclosureEnabled:e?t("mweb_closeup_affiliate_discloseures").anyEnabled:t("web_closeup_affiliate_discloseures").anyEnabled}}},548566(e,t,i){i.d(t,{A:()=>x,D:()=>T});var n=i(61163),r=i(859471),a=i(106386),s=i(979638),o=i(284885),l=i(708261),d=i(150880),c=i(693154),u=i(538329),p=i(542975),m=i(653956),_=i(562615);function h({boardlessPins:e,displayFBCModalContent:t,handleClick:i,imageUrl:a,inFBCExperiment:s,pinRef:o,smallPinRep1:l,smallPinRep2:h,title:f,updateStep:g,onDismiss:b,inResUserFBCExperiment:A=!1,repinData:y}){(0,r.useEffect)(()=>{(0,n.A)("FBCUpsellIntroStep","/app/common/react/components/save/QuickSave/FBCUpsellIntroStep.tsx")},[]);let E=(0,u.A)(),v=(0,c.A)(),x=v.isAuth?v.username:null,T=E._('Save it, sort it, find it', 'fbc.modal.title', 'Describes the core actions (saving, sorting, finding) associated with boards on Pinterest in a catchy way'),S=E._('Boards let you collect and organize your favorite ideas so you can get back to what inspires you.', 'fbc.modal.subtitle', 'Describes what a board is on Pinterest'),C=E._('Create board', 'fbc.modal.button.text', 'Instructs user to create a board'),P=x?(0,p.$)(E._('@{{ username }}\'s Vibe!', 'fbc.modal.board.title', 'States board is user\'s vibe. username: user\'s username'),{username:x.charAt(0).toUpperCase()+x.slice(1)}):null,I={url:y?.image?.url,name:y?.description};return s||A?(0,_.jsx)(d.so,{alignItems:"center",direction:"column",height:594,justifyContent:"start",width:"540",children:t?(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(d.az,{marginEnd:2,marginTop:2,padding:2,position:"absolute",right:!0,top:!0,children:(0,_.jsx)(d.K0,{accessibilityLabel:"Dismiss modal",icon:"close",iconColor:"default",onClick:b,size:"lg"})}),(0,_.jsx)(d.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--sema-color-background-wash-scrims-opaque)"}},display:"flex",flex:"grow",justifyContent:"center",width:"100%",children:(0,_.jsxs)(d.az,{alignItems:"start",color:"default",direction:"column",display:"flex",justifyContent:"center",padding:6,rounding:400,width:369,children:[(0,_.jsx)(m.A,{boardKey:null,coverPinKey:null,images:A?[I]:e}),P&&(0,_.jsx)(d.az,{marginTop:1,paddingX:1,width:"100%",children:(0,_.jsx)(d.KJ,{children:P})})]})}),(0,_.jsx)(d.so,{justifyContent:"center",width:"100%",children:(0,_.jsxs)(d.az,{alignItems:"center",direction:"column",display:"flex",paddingY:5,width:458,children:[(0,_.jsx)(d._Y,{align:"center",size:"600",children:T}),(0,_.jsx)(d.az,{marginTop:2,width:"100%",children:(0,_.jsx)(d.KJ,{align:"center",children:S})}),(0,_.jsx)(d.az,{display:"flex",justifyContent:"center",marginTop:4,paddingX:6,width:"100%",children:(0,_.jsx)(d.$n,{color:"primary",fullWidth:!0,onClick:g,size:"lg",text:C})})]})})]}):(0,_.jsx)(d.so,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,_.jsx)(d.y$,{show:!0})})}):(0,_.jsxs)(d.Rp,{onTap:i,rounding:800,children:[(0,_.jsx)(d.az,{alignItems:"center","data-test-id":"content-wrapper",display:"flex",justifyContent:"center",marginTop:8,minHeight:300,children:(0,_.jsxs)(d.az,{display:"flex",justifyContent:"between",overflow:"hidden",rounding:400,children:[(0,_.jsx)(d.az,{ref:o,height:300,width:200,children:a&&(0,_.jsx)(d._V,{alt:f||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:a})}),(0,_.jsxs)(d.so,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,_.jsx)(d.az,{ref:l,color:"secondary",height:150}),(0,_.jsx)(d.az,{ref:h,color:"secondary",height:150})]})]})}),(0,_.jsx)(d.az,{padding:8,children:(0,_.jsx)(d._Y,{align:"center",size:"600",children:E._('Keep your ideas organized by creating a board', 'quickSave.eduToast.heading', 'Explain users why they should create a board')})})]})}var f=i(586733),g=i(296221),b=i(79906),A=i(430705),y=i(168079),E=i(777064),v=i(699613);function x({boardId:e,boardUrl:t,onHide:i,imageUrl:d,title:p,toastDuration:m,firstBoardCreationExperimentEnabled:g=!1,resUserFirstBoardCreationExperimentEnabled:x=!1,showRepinAnimation:T,onComplete:S,repinData:C}){(0,r.useEffect)(()=>{(0,n.A)("QuickSaveBoardCreateEdu","/app/common/react/components/save/QuickSave/QuickSaveBoardCreateEdu.tsx")},[]);let{logContextEvent:P}=(0,f.o)(),I=(0,u.A)(),w=(0,s.Zp)(),R=(0,r.useRef)(null),O=(0,r.useRef)(null),j=(0,r.useRef)(null),[N,M]=(0,r.useState)("INTRO_STEP"),z=(0,c.A)(),L=z.isAuth?z.id:"",k=(0,a.d4)(({feeds:e})=>e[`boardless-pins:${z.isAuth?z.id:""}`])||[],U=(0,v.zy)(),{boardlessPinsEnabled:B}=(0,E.KP)(L),D=(0,A.A)((g||x)&&B&&L?{name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:L}}:null),V=!!k&&k.reduce((e,t)=>{let i=U[t.id];return e.push({name:i?.description,url:i?.images?.["236x"]?.url}),e},[])||[],$=(k||[]).length>0&&D?.data||x&&C;(0,y.A)(()=>{(g||x)&&P({event_type:13,view_type:740,view_parameter:4165})}),(0,y.A)(()=>{P({event_type:9311,element:11934,object_id_str:e}),setTimeout(()=>{let e,t,i;return e=R.current,t=O.current,i=j.current,void(e&&t&&i&&((0,o.A)({targets:e,height:[202],duration:600,delay:1e3,easing:"linear"}),(0,o.A)({targets:[t,i],width:[0,100],height:[100],marginLeft:[2],delay:1e3,duration:600,easing:"linear"})))},100);let t=setTimeout(()=>{g||x||i()},m);return()=>clearTimeout(t)});let W=()=>o.A.remove([R.current,O.current,j.current]),H=()=>{P({event_type:9313,element:11934,object_id_str:e}),(g||x)&&P({event_type:17476,view_type:740,view_parameter:4165}),W(),i()};return(0,_.jsxs)(r.Fragment,{children:["INTRO_STEP"===N&&(0,_.jsx)(b.Ay,{accessibilityModalLabel:I._('Keep your ideas organized by creating a board', 'quickSave.eduToast.modalAccessibilityLabel', 'Explain users why they should create a board'),onDismiss:H,children:(0,_.jsx)(h,{boardlessPins:V,displayFBCModalContent:!!$,handleClick:()=>{P({event_type:9312,element:11934,object_id_str:e}),W(),i(),w(t)},imageUrl:d,inFBCExperiment:g,inResUserFBCExperiment:x,onDismiss:H,pinRef:R,repinData:C,smallPinRep1:O,smallPinRep2:j,title:p,updateStep:()=>{M("BOARD_CREATE_STEP"),P({event_type:101,view_type:740,view_parameter:4165,element:96})}})}),(g||x)&&"BOARD_CREATE_STEP"===N&&k.length>0&&(0,_.jsx)(l.A,{boardlessPinsNormalized:k,fetchMore:()=>{},hasBoards:!1,isFirstBoardCreation:g,isResUserFirstBoardCreation:x,lastSavedPin:C,onComplete:S,onDismiss:()=>{P({event_type:17476,view_type:740,view_parameter:4166,element:12284}),i()},showRepinAnimation:T,userId:z.isAuth?z.id:""})]})}function T({experience:e}){return(0,r.useEffect)(()=>{(0,n.A)("QuickSaveBoardCreateEdu","/app/common/react/components/save/QuickSave/QuickSaveBoardCreateEdu.tsx")},[]),(0,_.jsx)(g.Je,{eligibleIds:[508446],experience:e,children:({complete:e,dismiss:t,experience:i})=>(0,_.jsx)(x,{boardId:"",boardUrl:"",imageUrl:"",onComplete:e,onHide:t,repinData:{id:i.display_data?.repin_id??"",image:{url:i.display_data?.repin_image?.url??"",height:i.display_data?.repin_image?.height??0,width:i.display_data?.repin_image?.width??0},description:i.display_data?.repin_description??""},resUserFirstBoardCreationExperimentEnabled:!0,title:"",toastDuration:5e3})})}},188148(e,t,i){i.d(t,{A:()=>n});function n({maxPrice:e,minPrice:t,price:i}){return e&&t?`${t}-${e}`:i}},854846(e,t,i){i.d(t,{J4:()=>s,Mw:()=>n,YH:()=>o,Yv:()=>l,nn:()=>r,sP:()=>a});let n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},r={BILLING_HISTORY:"BILLING_HISTORY",BILLING_RECEIPT:"BILLING_RECEIPT",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_SPEND_SUMMARY:"PREPAID_SPEND_SUMMARY",PREPAID_SPEND_BREAKDOWN:"PREPAID_SPEND_BREAKDOWN",SUMMARY:"SUMMARY"},a={CREATE:"CREATE",MANAGE:"MANAGE",VIEW_REPORT:"VIEW_REPORT",AB_TEST_CREATE:"AB_TEST_CREATE"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},o={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},l={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},871292(e,t,i){i.d(t,{A:()=>a});var n=i(752159),r=i(336683);function a(e,t,i){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){let t=i?window.open(e,"_blank",i):window.open(e,"_blank");return t&&(t.opener=null),t}{let t=(0,r.A)(e);return setTimeout(()=>{(0,n.PM)("setting_new_window_location")},0),window.location.href=t,window}}},729617(e,t,i){i.d(t,{A:()=>l});var n=i(859471);function r(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function a(){return window.innerWidth}function s(){return window.innerHeight}function o(){return null}function l(){let e=(0,n.useSyncExternalStore)(r,s,o),t=(0,n.useSyncExternalStore)(r,a,o);return null!==e&&null!==t?{height:e,width:t}:null}},78020(e,t,i){i.d(t,{A:()=>n});function n(e){let t=Math.round(e/1e3),i=Math.floor(t/60),n=t%60;return i+":"+(n<10?"0":"")+n}},171768(e,t,i){i.d(t,{A:()=>k});var n=i(61163),r=i(859471),a=i(548566),s=i(296221),o=i(731237),l=i(822727),d=i(150880),c=i(743372),u=i(676692),p=i(995273),m=i(538329),_=i(809756),h=i(562615);function f({dismissExperience:e,onClickCreateBoard:t}){(0,r.useEffect)(()=>{(0,n.A)("BoardUpsellBanner","/app/www/nux/encouragements/BoardUpsellBanner.tsx")},[]);let i=(0,m.A)(),{navFooterHeight:a,setForceShowNavFooter:s}=(0,_.o)(),o=(0,c.A)(),{viewParameter:l}=(0,u.WQ)();(0,r.useEffect)(()=>(s(!0),()=>{s(!1)}),[s]);let f=i._('Pin saved! Add it to a board', 'boardUpsellBanner.header', 'Header for the board upsell banner'),g=i._('Boards keep your ideas organized and easy to find later.', 'boardUpsellBanner.message', 'Message for the board upsell banner'),b=i._('Create a board', 'boardUpsellBanner.buttonLabel', 'Label for the create a board button');return(0,h.jsx)(d.Wd,{zIndex:p.nH,children:(0,h.jsx)(d.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{marginBottom:a+8}},paddingX:3,paddingY:2,position:"fixed",right:!0,width:"100%",children:(0,h.jsx)(d.Sl,{dismissButton:{accessibilityLabel:i._('Dismiss banner', 'boardUpsellBanner.dismiss', 'Accessibility label for the dismiss button'),onDismiss:()=>{o({event_type:123,view_type:3,view_parameter:l,component:15569}),e()}},imageData:{component:(0,h.jsx)(d.In,{accessibilityLabel:i._('Pin Icon', 'boardUpsellBanner.pinIcon', 'Accessibility label for the pin icon'),color:"primary",icon:"compact-pin-angled",size:20})},message:g,primaryAction:{accessibilityLabel:i._('Create board button', 'boardUpsellBanner.createBoardButton', 'Accessibility label for the create board button'),label:b,onClick:()=>{o({event_type:102,element:249,view_type:3,view_parameter:l,component:15569}),t()}},title:f})})})}var g=i(106386),b=i(979638),A=i(457315),y=i(79906),E=i(567176),v=i(601185),x=i(706466),T=i(653956),S=i(48180),C=i(647646),P=i(597615),I=i(251422),w=i(180152),R=i(189851),O=i(945685),j=i(573211),N=i(720407);function M({completeExperience:e,dismissExperience:t,repinData:i}){(0,r.useEffect)(()=>{(0,n.A)("FirstBoardCreateHalfSheet","/app/www/save/BoardUpsell/FirstBoardCreateHalfSheet.tsx")},[]);let a=(0,m.A)(),s=(0,b.zy)(),o=(0,g.wA)(),l=(0,j.Y)(),{checkExperiment:p}=(0,v.A)(),_=(0,c.A)(),f=(0,N.A)(),M=(0,R.oW)(),{showToast:z}=(0,x.CG)(),{viewParameter:L}=(0,u.WQ)(),[k,U]=(0,r.useState)(!1),[B,D]=(0,r.useState)(""),[V,$]=(0,r.useState)(!1),W=i.id,H={url:i?.image?.url,name:i?.description},F=a._('Keep board secret', 'boardCreationHalfSheet.boardSecret.label', 'Label for board secret toggle'),G=a._('Create Board', 'boardCreationHalfSheet.title', 'Title for board creation modal'),Y=a._('Create', 'boardCreationHalfSheet.createButton.label', 'Label for board creation button'),K=a._('Enter board name', 'boardCreationHalfSheet.boardName.placeholder', 'Placeholder for board name input'),J=a._('Board Name', 'boardCreationHalfSheet.boardName.label', 'Label for board name input'),Q=a._('Close board creation modal button', 'boardCreationHalfSheet.boardName.accessibilityLabel', 'Accessibility label for board name input'),q=a._('Create first board modal', 'boardCreationHalfSheet.accessibilityModalLabel', 'Accessibility label for board creation modal'),X=a._('Board name is too long', 'boardCreationHalfSheet.boardNameTooLongErrorMessage', 'Error message for board name input'),Z=async()=>{_({event_type:102,element:249,view_type:3,view_parameter:L,component:15544});let t=(0,S.A)(s.state?.trackingParams||"");try{let i=await f({boardCreateOptions:{name:B,initial_pin_client_tracking_params:[t],privacy:k?"secret":"public"},deprecatedSchemaForNormalization:w.no}),{url:n="",id:r}=i||{};W&&o((0,I.c)({checkExperiment:p,i18n:a,logContextEvent:_,pinId:W,boardId:r,trackingParams:{clientTrackingParams:t,pinnedToBoardId:r},historyPush:()=>void 0,savePinId:l?.save??(()=>{})})),e();let{duration:s,text:d,thumbnail:c}=(0,C.A)({boardId:r,getReduxBoard:M,isFBC:!0,pinId:W,viewType:3}),{href:u}=(0,O.A)(n,i.name??"",a);return z(({hideToast:e})=>(0,h.jsx)(P.A,{duration:s,href:u,onHide:e,text:d,thumbnail:c})),{boardId:r,boardUrl:n}}catch(e){return z(({hideToast:t})=>(0,h.jsx)(E.A,{duration:5e3,onHide:t,text:(0,A.A)(e,"message_detail")||(0,A.A)(e,"message")||a._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board')})),null}},ee=()=>{_({event_type:123,view_type:3,view_parameter:L,component:15544}),t()};return(0,h.jsx)(y.Ay,{accessibilityModalLabel:q,onDismiss:ee,children:(0,h.jsxs)(d.az,{padding:2,children:[(0,h.jsxs)(d.az,{alignItems:"center",display:"flex",justifyContent:"between",paddingY:1,width:"100%",children:[(0,h.jsx)(d.K0,{accessibilityLabel:Q,icon:"close",onClick:ee,size:"lg"}),(0,h.jsx)(d._Y,{color:"default",size:"300",children:G}),(0,h.jsx)(d.$n,{color:"primary",disabled:V||!B,onClick:Z,size:"md",text:Y})]}),(0,h.jsxs)(d.so,{direction:"column",children:[(0,h.jsx)(d.az,{display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,h.jsx)(d.az,{width:269,children:(0,h.jsx)(T.A,{boardKey:null,coverPinKey:null,fullSize:!0,images:[H]})})}),(0,h.jsxs)(d.az,{padding:2,children:[(0,h.jsx)(d.A_,{errorMessage:V?X:void 0,errorMessageDisplay:V?"visible":"hidden",id:"board-name-input",label:J,mobileInputMode:"text",onChange:({value:e})=>{D(e),e.length>=100?$(!0):$(!1)},placeholder:K,size:"lg",type:"text",value:B}),(0,h.jsxs)(d.az,{display:"flex",justifyContent:"between",padding:4,children:[(0,h.jsx)(d.KJ,{size:"100",children:F}),(0,h.jsx)(d.dO,{id:"secretBoardToggle",onChange:()=>U(!k),switched:k})]})]})]})]})})}function z({complete:e,dismiss:t,experience:i}){let[n,a]=(0,r.useState)(1),s=(0,r.useRef)(!1);(0,r.useEffect)(()=>()=>{s.current||t()},[t]);let o=()=>{s.current=!0,t()};return 1===n?(0,h.jsx)(f,{dismissExperience:o,onClickCreateBoard:()=>a(2)}):(0,h.jsx)(M,{completeExperience:()=>{s.current=!0,e()},dismissExperience:o,repinData:{id:i.display_data?.pin_id??"",image:{url:i.display_data?.pin_image?.url??""},description:i.display_data?.pin_description??""}})}function L({experience:e}){return(0,r.useEffect)(()=>{(0,n.A)("FirstBoardUpsellExperience","/app/www/save/BoardUpsell/FirstBoardUpsellExperience.tsx")},[]),(0,h.jsx)(l.Ay,{eligibleIds:[508536],experience:e,children:({complete:e,dismiss:t,experience:i})=>(0,h.jsx)(z,{complete:e,dismiss:t,experience:i})})}let k=({placementId:e})=>{(0,r.useEffect)(()=>{(0,n.A)("ExperiencesAfterAction","/app/packages/experiences/Framework/ExperiencesAfterAction.tsx")},[]);let{experienceForPlacement:t}=(0,o.Du)(e),{unmountPlacement:i,registerAfterActionPlacement:l}=(0,o.WJ)();return(0,r.useEffect)(()=>(l(e),()=>{i(e)}),[e,i,l]),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(s.aR,{experience:t}),(0,h.jsx)(s.r8,{experience:t}),(0,h.jsx)(s.Vj,{experience:t}),(0,h.jsx)(a.D,{experience:t}),(0,h.jsx)(L,{experience:t})]})}},777275(e,t,i){i.d(t,{A:()=>d});var n=i(61163),r=i(859471),a=i(296221),s=i(171768),o=i(284300),l=i(562615);let d=({placementId:e})=>{(0,r.useEffect)(()=>{(0,n.A)("ExperiencesAfterClickthrough","/app/packages/experiences/Framework/ExperiencesAfterClickthrough.tsx")},[]);let t=(0,a.Ts)(),i=(0,o.A)();return(0,r.useEffect)(()=>{let e=e=>{let{clickthroughProperties:i,offsiteTimedPair:n}=e;(i?.aux_data?.time_to_offsite??5e8)<5e8&&t("Clickthrough",{is_promoted:i?.aux_data?.is_promoted,pin_id:i?.object_id_str,clickthrough_duration_ns:n?.duration})};return e&&i?.onOffsiteEnd(e),()=>{e&&i?.removeOnOffsiteEnd(e)}},[t,i]),(0,l.jsx)(s.A,{placementId:e})}},210909(e,t,i){i.r(t),i.d(t,{default:()=>w});var n=i(61163),r=i(859471),a=i(150880),s=i(182267),o=i(586733),l=i(489630);function d(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let c={},u=e=>{let t=e.__id||e.id;return"string"==typeof t&&t||null};class p{constructor(){d(this,"idMap",new Map),d(this,"objMap",new WeakMap)}get(e){let t=u(e);return this.objMap.get(e)??(t?this.idMap.get(t):void 0)}has(e){let t=u(e);return this.objMap.has(e)??(!!t&&this.idMap.has(t))}set(e,t){let i=u(e);i&&this.idMap.set(i,t),this.objMap.set(e,t)}reset(){this.idMap=new Map,this.objMap=new WeakMap}}var m=i(909179);function _(e,t){return"number"==typeof e?e:"lg1"===t?e[t]??e.lg??1:e[t]??1}var h=i(411805),f=i(11978),g=i(127413),b=i(131094),A=i(562615);let{css:y,animation:E}=g.A,v={backgroundColor:"var(--sema-color-background-secondary)",animation:E,borderRadius:"var(--sema-rounding-400)"};function x({data:e}){(0,r.useEffect)(()=>{(0,n.A)("SkeletonPin","/app/common/react/components/SkeletonLoadingStates/SkeletonPin.tsx")},[]);let{height:t}=e;return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(b.A,{unsafeCSS:y}),(0,A.jsx)(a.az,{dangerouslySetInlineStyle:{__style:v},"data-test-id":"skeleton-pin",children:(0,A.jsx)(a.az,{height:t})})]})}var T=i(601185),S=i(844255),C=i(971289),P=i(81920),I=i(912849);function w(e){(0,r.useEffect)(()=>{(0,n.A)("Masonry","/app/packages/gestaltExtensions/Masonry/Masonry.tsx")},[]);let{align:t,cacheKey:i,id:d,isFetching:u,isGridCentered:g=!0,items:y,layout:E,loadItems:v,masonryRef:w,optOutFluidGridExperiment:R=!1,renderItem:O,scrollContainerRef:j,virtualize:N=!0,getColumnSpanConfig:M,_getResponsiveModuleConfigForSecondItem:z,isLoadingStateEnabled:L,initialLoadingStatePinCount:k,isLoadingAccessibilityLabel:U,isLoadedAccessibilityLabel:B}=e,D=(0,C.Ay)(),{isAuthenticated:V,isRTL:$,userAgent:W,stage:H}=(0,S._8)(),{browserName:F,platform:G}=W,{logContextEvent:Y}=(0,o.o)(),K=(0,T.A)(),J="desktop"===D,Q=(0,I.AJ)(),q=((0,r.useRef)(y.map(()=>({fetchTimestamp:Date.now(),measureTimestamp:Date.now(),hasRendered:!1,pageCount:0}))),J&&!R),{experimentalColumnWidth:X,experimentalGutter:Z}=(0,h.A)(q),ee=e.serverRender??!!J,et="flexible"===E||"uniformRowFlexible"===E||"desktop"!==D||q,ei=(et&&E?.startsWith("uniformRow")?"uniformRowFlexible":void 0)??(ee?"serverRenderedFlexible":"flexible"),en=e.columnWidth??X??236;et&&(en=Math.floor(en));let er=e.gutterWidth??Z??(J?16:1),ea=e.minCols??2,es=((0,r.useRef)(0),en+er),eo=function(e){let t;if(null==e)return;let i=((t=c[e])&&t.screenWidth===window.innerWidth||(c[e]={screenWidth:window.innerWidth}),c[e]);return i.measurementCache||(i.measurementCache=new p),i.measurementCache}(i),el=(0,r.useCallback)(()=>j?.current||window,[j]),ed=(0,r.useRef)(!0),{anyEnabled:ec}=K.checkExperiment("visual_search_stl_eligibility_check_migration_gss_css",{dangerouslySkipActivation:!0}),{group:eu}=K.checkExperiment("web_nav_sidebar",{dangerouslySkipActivation:!0}),ep=eu.startsWith("enabled_autoclose_reduce_debounce")?Number(eu.split("enabled_autoclose_reduce_debounce_")[1]):void 0,em=g&&ed.current?"centered":"",{className:e_,styles:eh}=function(e){let t=`m_${(0,m.A)(e).sort().reduce((t,i)=>{let n=e[i];return null==n||"object"==typeof n||"function"==typeof n?t:"boolean"==typeof n?t+(n?"t":"f"):t+n},"").replace(/\:/g,"\\:")}`,{flexible:i,gutterWidth:n,isRTL:r,itemWidth:a,maxColumns:s,minColumns:o,items:l,getColumnSpanConfig:d,_getResponsiveModuleConfigForSecondItem:c}=e,u=d?l.map((e,t)=>({index:t,columnSpanConfig:d(e)??1})).filter(e=>1!==e.columnSpanConfig):[],p=a+n,h=Array.from({length:s+1-o},(e,t)=>t+o).map(e=>{let m,h,f=e===o?0:e*p,g=e===s?null:(e+1)*p-.01;d&&c&&l.length>1&&(m=d(l[0]),h=c(l[1]));let{styles:b,numberOfVisibleItems:A}=u.reduce((r,s)=>{let{columnSpanConfig:o}=s,d=Math.min(function({columnCount:e,columnSpanConfig:t,firstItemColumnSpanConfig:i,isFlexibleWidthItem:n,secondItemResponsiveModuleConfig:r}){let a=e<=2?"sm":e<=4?"md":e<=6?"lg1":e<=8?"lg":"xl",s=_(t,a);if(n){let t=_(i,a);s="number"==typeof r?r:r?Math.max(r.min,Math.min(r.max,e-t)):1}return s}({columnCount:e,columnSpanConfig:o,isFlexibleWidthItem:!!h&&s===l[1],firstItemColumnSpanConfig:m??1,secondItemResponsiveModuleConfig:h??1}),e),c=null!=s.index&&r.numberOfVisibleItems>=d+s.index,u=i?100/e*d:a*d+n*(d-1),{numberOfVisibleItems:p}=r;return c?p-=d-1:s.index<p&&(p+=1),{styles:r.styles.concat(function({className:e,index:t,columnSpanConfig:i,visible:n,width:r,flexible:a}){let s="number"==typeof i?i:btoa(JSON.stringify(i));return a?`
      .${e} .static[data-column-span="${s}"]:nth-child(${t+1}) {
        visibility: ${n?"visible":"hidden"} !important;
        position: ${n?"inherit":"absolute"} !important;
        width: ${r}% !important;
      }`:`
      .${e} .static[data-column-span="${s}"]:nth-child(${t+1}) {
        visibility: ${n?"visible":"hidden"} !important;
        position: ${n?"inherit":"absolute"} !important;
        width: ${r}px !important;
      }`}({className:t,index:s.index,columnSpanConfig:o,visible:c,width:u,flexible:i})),numberOfVisibleItems:p}},{styles:"",numberOfVisibleItems:e}),y=i?`
      .${t} .static {
        box-sizing: border-box;
        width: calc(100% / ${e}) !important;
      }
    `:`
      .${t} {
        max-width: ${e*p}px;
      }

      .${t} .static {
        width: ${a}px !important;
      }
    `;return{minWidth:f,maxWidth:g,styles:`
      .${t} .static:nth-child(-n+${A}) {
        position: static !important;
        visibility: visible !important;
        float: ${r?"right":"left"};
        display: block;
      }

      .${t} .static {
        padding: 0 ${n/2}px;
      }

      ${y}

      ${b}
    `}}),f=h.map(({minWidth:e,maxWidth:t,styles:i})=>`
    @container (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${i}
    }
  `),g=h.map(({minWidth:e,maxWidth:t,styles:i})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${i}
    }
  `),b=`
    ${f.join("")}
    @supports not (container-type: inline-size) {
      ${g.join("")}
    }
  `;return{className:t,styles:`
    .masonryContainer:has(.${t}) {
      container-type: inline-size;
    }

    .masonryContainer > .centered {
      margin-left: auto;
      margin-right: auto;
    }

    .${t} .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${b}
  `}}({gutterWidth:er,flexible:et,items:y,isRTL:$,itemWidth:en,maxColumns:e.maxColumns??Math.max(y.length,16),minColumns:ea,getColumnSpanConfig:M,_getResponsiveModuleConfigForSecondItem:z}),ef=`${em} ${e_}`.trim(),{anyEnabled:eg,expName:eb,group:eA,isMeasureAllEnabled:ey}=(0,f.A)(),eE=((0,r.useRef)(void 0),(0,r.useRef)(y.length)),ev=(0,r.useRef)(0),ex=(0,r.useRef)(null);(0,r.useEffect)(()=>{eE.current=y.length,ev.current+=1},[y]),(0,r.useEffect)(()=>{ed.current&&(ed.current=!1)},[]),(0,r.useEffect)(()=>()=>{},[]);let eT=(0,r.useCallback)(e=>{let t=e.reduce((e,t)=>e+t),i=t/e.length,n={experimentalMasonryGroup:eA||"unknown",handlerId:Q,isAuthenticated:V,multiColumnItemSpan:e.length,browserName:F,platform:G,stage:H||"unknown"};(0,P.GV)("webapp.masonry.multiColumnWhitespace.count",{sampleRate:1,tags:n}),(0,P.uI)("webapp.masonry.multiColumnWhitespace.average",i,{sampleRate:1,tags:{...n,minCols:ea}}),Y({event_type:15878,component:14468,aux_data:{total_whitespace_px:t}}),Y({event_type:16062,component:14468,aux_data:{average_whitespace_px:i}}),Y({event_type:16063,component:14468,aux_data:{max_whitespace_px:Math.max(...e)}}),e.forEach(e=>{e>=50&&((0,P.GV)("webapp.masonry.multiColumnWhitespace.over50",{sampleRate:1,tags:n}),Y({event_type:16261,component:14468})),e>=100&&((0,P.GV)("webapp.masonry.multiColumnWhitespace.over100",{sampleRate:1,tags:n}),Y({event_type:16262,component:14468}))})},[F,eA,Q,V,Y,ea,G,H]),{_items:eS,_renderItem:eC}=function({initialLoadingStatePinCount:e=50,infiniteScrollPinCount:t=10,isFetching:i,items:n=[],renderItem:a,isLoadingStateEnabled:s}){let o=+(n.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&"closeup_module"===e.type).length>0),l=s&&i,d=(0,r.useMemo)(()=>Array.from({length:n.length>o?t:e}).reduce((e,t,i)=>[...e,{height:i%2==0?356:236,key:`skeleton-pin-${i}`,isSkeleton:!0}],[]),[n.length,o,t,e]);return{_items:(0,r.useMemo)(()=>l?[...n,...d]:n,[l,n,d]),_renderItem:(0,r.useMemo)(()=>s?e=>{let{itemIdx:t,data:i}=e;return t>=n.length&&i&&"object"==typeof i&&"key"in i&&"height"in i?(0,A.jsx)(x,{data:i},i.key):a(e)}:a,[s,a,n.length])}}({isLoadingStateEnabled:L,items:y,renderItem:(0,r.useCallback)(e=>(0,A.jsx)(l.A,{name:"MasonryItem",children:O(e)}),[O]),isFetching:u,initialLoadingStatePinCount:k}),eP=L&&u,eI=(0,r.useRef)(new Set);(0,r.useEffect)(()=>{let e={isAuthenticated:V,isDesktop:"desktop"===D,handlerId:Q,experimentalMasonryGroup:eA||"unknown",visualSearchSTLexperiment:ec?"true":"false",browserName:F,platform:G,stage:H||"unknown"},t=setTimeout(()=>{requestAnimationFrame(()=>{let t=Array.from(ex.current?.querySelectorAll("[data-grid-item-idx]")??[]);if(0===t.length)return;let i=t.map(e=>{let t=e.getAttribute("data-grid-item-idx");return{rect:e.getBoundingClientRect(),itemIdx:t}}),n=0,r=0,a=0,s=0,o=0,l=0;for(let e=0;e<i.length;e+=1){let t=i[e]?.rect,d=i[e]?.itemIdx;for(let c=e+1;c<i.length;c+=1){let e=i[c]?.rect,u=i[c]?.itemIdx;if(t&&e&&d&&u){let i=[d,u].sort().join("|");if(!eI.current.has(i)&&t.right>=e.left&&t.left<=e.right&&t.bottom>=e.top&&t.top<=e.bottom&&t.height>0&&e.height>0){eI.current.add(i),n+=1;let d=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left))*Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top));d>8e4?l+=1:d>4e4?o+=1:d>1e4?s+=1:d>5e3?a+=1:d>2500&&(r+=1)}}}}n>0&&(0,P.U9)("webapp.masonry.pinOverlapHits",n,{tags:e,sampleRate:.02}),r>0&&(0,P.U9)("webapp.masonry.pinOverlap.AreaPx.over2500",r,{tags:e,sampleRate:.02}),a>0&&(0,P.U9)("webapp.masonry.pinOverlap.AreaPx.over5000",a,{tags:e,sampleRate:.02}),s>0&&(0,P.U9)("webapp.masonry.pinOverlap.AreaPx.over10000",s,{tags:e,sampleRate:.02}),o>0&&(0,P.U9)("webapp.masonry.pinOverlap.AreaPx.over40000",o,{tags:e,sampleRate:.02}),l>0&&(0,P.U9)("webapp.masonry.pinOverlap.AreaPx.over80000",l,{tags:e,sampleRate:.02});let d="none";d=i.length<=10?"0-10":i.length<=20?"11-20":">20";let c="none";c=n>0&&n<=5?"1-5":n>5&&n<=20?"6-20":n>20&&n<=100?"21-100":">100",(0,P.GV)("webapp.masonry.pinOverlap.onOverlapCalculation",{tags:{...e,hasAnyOverlap:n>0?"true":"false",hasOverlapAreaOver2500:r>0?"true":"false",hasOverlapAreaOver5000:a>0?"true":"false",hasOverlapAreaOver10000:s>0?"true":"false",hasOverlapAreaOver40000:o>0?"true":"false",hasOverlapAreaOver80000:l>0?"true":"false",itemsMeasured:d,overlapPairs:c},sampleRate:.02})})},1e3);return()=>{clearTimeout(t)}},[F,D,eA,V,Q,G,H,ec]);let ew=(0,s.A)(),eR=(0,r.useCallback)(e=>{w&&(w.current=e)},[w]);return(0,A.jsxs)(r.Fragment,{children:[L&&!ed.current&&(0,A.jsx)(a.az,{"aria-live":"polite",display:"visuallyHidden",children:eP?U:B}),(0,A.jsx)("div",{ref:ex,"aria-busy":L?!!eP:void 0,className:"masonryContainer","data-test-id":"masonry-container",id:d,style:q?{padding:`0 ${er/2}px`}:void 0,children:(0,A.jsxs)("div",{className:ef,children:[ee&&ed.current?(0,A.jsx)(b.A,{"data-test-id":"masonry-ssr-styles",unsafeCSS:eh}):null,(0,A.jsx)(a.az,{"data-test-id":"max-width-container",marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,maxWidth:e.maxColumns?es*e.maxColumns:void 0,children:eg?(0,A.jsx)(a._6,{ref:ew?eR:e=>{w&&(w.current=e)},_dynamicHeights:!0,_getResponsiveModuleConfigForSecondItem:z,_logTwoColWhitespace:eT,_measureAll:ey,align:t,columnWidth:en,getColumnSpanConfig:M,gutterWidth:er,items:eS,layout:et?ei:E??"basic",loadItems:v,measurementStore:eo,minCols:ea,renderItem:eC,scrollContainer:el,virtualBufferFactor:.3,virtualize:N}):(0,A.jsx)(a.a,{ref:ew?eR:e=>{w&&(w.current=e)},_dynamicHeights:!0,_experimentalFluidResizeDebounce:void 0!==ep&&ep>=0?ep:void 0,_fluidResize:!0,_getResponsiveModuleConfigForSecondItem:z,_logTwoColWhitespace:eT,align:t,columnWidth:en,getColumnSpanConfig:M,gutterWidth:er,items:eS,layout:et?ei:E??"basic",loadItems:v,measurementStore:eo,minCols:ea,renderItem:eC,scrollContainer:el,virtualBufferFactor:.3,virtualize:N})})]})})]})}},411805(e,t,i){i.d(t,{A:()=>n});function n(e=!0){let t=e?16:void 0,i=t?Math.floor(t/4):void 0;return{experimentalColumnWidth:e?221:void 0,experimentalGutter:t,experimentalGutterBoints:i}}},715989(e,t,i){i.d(t,{A:()=>r});var n=i(844255);let r=()=>{let e="default",{locale:t}=(0,n._8)();return(({"ar-SA":"tall","bn-IN":"tall","hi-IN":"tall","te-IN":"tall","ko-KR":"ck","zh-CN":"ck","zh-TW":"ck",ja:"ja","th-TH":"th","vi-VN":"vi"})[t]??e)===e?"compact":"none"}},657381(e,t,i){i.d(t,{MZ:()=>s,O5:()=>o,WH:()=>n,iA:()=>a,jy:()=>r,mQ:()=>l});let n=157.33333333333334,r=(e=!1,t=!1)=>e?t?16:12:24,a=({defaultItemWidth:e,contentVisibleItemCount:t,gap:i,moduleWidth:n})=>t||n?(n-((Math.ceil(t)+1)*i+8))/t:e,s=(e,t,i)=>{let n=i?3:2,r=t?5:n,a=t?236:175,s=t?16:8,o=a*r+s*r-(t||!t&&i?12:6);if(!e)return o;for(let t=r;t>=2;t-=1)if(e>o)break;else o=a*t+s*t;return o};function o(e){let t=Object.values(e.videos?.video_list??{}).find(e=>"number"==typeof e.width&&"number"==typeof e.height);return t?{width:t.width,height:t.height}:{width:0,height:0}}function l(e){return!!(e&&"is_premiere"in e&&e.is_premiere&&"videos"in e&&e.videos)}},766675(e,t,i){i.d(t,{A:()=>s});var n=i(859471);function r(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends n.Component{constructor(...e){super(...e),r(this,"ref",(0,n.createRef)()),r(this,"observer",null),r(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let s=a},520483(e,t,i){i.d(t,{A:()=>r});var n=i(601185);function r({isQuickPromotableByPinner:e,hasBeenBoostPromoted:t}={}){let{checkExperiment:i}=(0,n.A)();if(i("web_ads_pb_killswitch").anyEnabled)return{isBoostV2Enabled:!1,isEligibleForBoost:!1,hasBeenBoostPromoted:t??!1};let a=!0===e?i("aid_exp_boost_a_pin").anyEnabled:i("aid_exp_boost_a_pin",{dangerouslySkipActivation:!0}).anyEnabled,s=!0===e?i("ads_pb_p2").anyEnabled:i("ads_pb_p2",{dangerouslySkipActivation:!0}).anyEnabled,o=i("ios_ads_pb",{dangerouslySkipActivation:!0}).anyEnabled,l=i("android_ads_pb",{dangerouslySkipActivation:!0}).anyEnabled,d=a||s||o||l;return{isBoostV2Enabled:d,isEligibleForBoost:d&&!0===e,hasBeenBoostPromoted:t??!1}}},538678(e,t,i){i.d(t,{A:()=>T});var n=i(61163),r=i(859471),a=i(601185),s=i(150194),o=i(17775),l=i(366199),d=i(772807),c=i(910128),u=i(186707),p=i(662594),m=i(441496),_=i(205392),h=i(449344),f=i(952402);let g=(0,o.lo)("GridProfiler_v2");function b(e,t){switch(t.type){case"START":return{status:"LAYOUT",failedCount:0,numOfItemsChecked:0};case"LAYOUT_PROGRESS":if("LAYOUT"!==e.status)return e;return{...e,failedCount:e.failedCount+1,numOfItemsChecked:t.numOfItemsChecked};case"LAYOUT_COMPLETE":return{status:"TIMING",failedCount:0,pinElements:t.pinElements};case"TIMING_PROGRESS":if("TIMING"!==e.status)return e;return{...e,failedCount:e.failedCount+1};case"COMPLETE":case"ABORT":return{status:"DISABLED"};default:return e}}function A(e){if(!e.poster)return!0;let t=new Image;return t.src=e.poster,t.complete}var y=i(2354),E=i(562615);function v(e){return(0,s.A)(e),null}function x(e){return!function({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:i,includeVideos:n=!1,includeSections:a,isPlaceholderGrid:s,onVisuallyCompletePinCount:y,stopwatchSetVisuallyCompleteResult:E,stopwatchContext:v}){let x=(0,h.lj)(),[T,S]=(0,r.useReducer)(b,{status:"DISABLED"}),C=(0,r.useRef)(new Map),P=(0,r.useRef)(new Map),I=(0,r.useRef)(new Set),w=(0,r.useRef)(new Set),R=(0,r.useRef)(null),O=!!window.PerformanceObserver?.supportedEntryTypes?.includes("element"),j=({imageTimings:e})=>{E?.({result:"COMPLETE"}),(0,p.Cf)(e)};(0,r.useEffect)(()=>{C.current.clear(),P.current.clear(),I.current.clear(),w.current.clear(),S({type:"START"})},[x]);let N="TIMING"===T.status?T.pinElements:null;(0,r.useEffect)(()=>{if(g("new status",T.status),"LAYOUT"===T.status){var e,t;let i,n=(e="scroll",t=()=>{(0,u.A)("scrollDuringLayout")},i=()=>{window.removeEventListener(e,i),t()},window.addEventListener(e,i),()=>window.removeEventListener(e,i));return()=>{n()}}return"TIMING"===T.status&&N?(I.current=new Set(N.map(e=>e.fileName)),w.current=new Set(N.map(e=>e.element)),O?R.current=(0,d.A)({type:"element",buffered:!0},e=>{e.getEntries().forEach(e=>{e.element&&w.current.has(e.element)&&e.renderTime&&P.current.set(e.element,e)})}):R.current=(0,d.A)({type:"resource",buffered:!0},e=>{e.getEntries().forEach(e=>{var t;let i,n,r,a=(r=(n=(i=(t=e.name).lastIndexOf("/"))>=0?t.slice(i+1):t).indexOf("?"))>=0?n.slice(0,r):n;I.current.has(a)&&e.responseEnd&&C.current.set(a,e)})}),()=>{R.current?.disconnect(),R.current=null}):()=>{}},[T.status,N,O]),(0,f.A)(()=>{var r;let d,u,f;if(s)return void g("bypassing PWT run due to skeleton pin grid");let b=(d=(0,h.R$)(),u=()=>{},"unknown"!==d?u=_.tL:v?(d=`${v?.name}`,v?.addBinaryAnnotation&&(u=v?.addBinaryAnnotation)):(d="unknown",u=(e,t,i)=>{}),{surface:d,addBinaryAnnotation:u,abortTiming:e=>{(0,c.A)(e),v?.abort(),E?.({result:"ABORT"})}});"LAYOUT"===T.status?S((r=(0,l.IX)(i,n,a),(f=function(e,t){if(!t){let t=(0,l.j5)();if(t===e)return g("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,l.ak)())return g("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}}(T.numOfItemsChecked,e)).complete?{type:"LAYOUT_COMPLETE",pinElements:r}:500*T.failedCount>6e4?((0,m.pI)({eventName:`images.${b.surface}.visuallyComplete.maxLayoutAttempt_v2`}),b.abortTiming("visuallyComplete_layoutTimeout"),{type:"ABORT"}):{type:"LAYOUT_PROGRESS",numOfItemsChecked:f.numOfItemsChecked})):"TIMING"===T.status&&S(function(e,t,i,n,r,a,s,l){let d=function(e,t,i,n){let r,a,s,l,d;if(n){let t,n,r,a,s;return t=[],n=0,r=0,a=0,s=0,e.forEach(({element:e})=>{let l=i.get(e);l?.renderTime?(a+=1,s=Math.max(s,l.renderTime),(0,o.Gp)(e,"green"),t.push({name:l.url,responseEnd:l.renderTime})):e instanceof HTMLImageElement&&e.complete||e instanceof HTMLVideoElement&&A(e)?(r+=1,(0,o.Gp)(e,"red")):(n+=1,(0,o.Gp)(e,"greenyellow"))}),{imageTimings:t,incompleteCount:n,noTimingCount:r,noTimingResponseEndCount:0,latestResponseEnd:0,elementTimingCount:a,latestRenderTime:s}}return r=[],a=0,s=0,l=0,d=0,e.forEach(({element:e,fileName:i})=>{let n=t.get(i);n?n.responseEnd?(r.push(n),(0,o.Gp)(e,"green"),d=Math.max(d,n.responseEnd)):(l+=1,(0,o.Gp)(e,"blue")):e instanceof HTMLImageElement&&e.complete||e instanceof HTMLVideoElement&&A(e)?(s+=1,(0,o.Gp)(e,"red")):(a+=1,(0,o.Gp)(e,"greenyellow"))}),{imageTimings:r,incompleteCount:a,noTimingCount:s,noTimingResponseEndCount:l,latestResponseEnd:d,elementTimingCount:0,latestRenderTime:0}}(e.pinElements,t,i,l),{incompleteCount:c,noTimingResponseEndCount:u,noTimingCount:_}=d,h=e.pinElements.length;return c||u?100*e.failedCount>6e4?((0,m.pI)({eventName:`images.${r.surface}.visuallyComplete.maxAttempt_v2`,tags:{totalImageCount:h,incompleteCount:c,noTimingCount:_,noTimingResponseEndCount:u}}),r.abortTiming("visuallyComplete_timingTimeout"),{type:"ABORT"}):{type:"TIMING_PROGRESS"}:(!function(e,t,i,n,r,a,s){let{imageTimings:o,noTimingCount:l,latestResponseEnd:d,latestRenderTime:c}=e,u=t.length;if(g(s?`All ${e.elementTimingCount} images are rendered`:`All ${o.length} images are fetched`),a?.(u),i&&i.length){let e,r,a,s,o,l,d=(e=0,r=0,a=0,s=0,o=0,l=i.filter(e=>"pin"===e.type),t.forEach((t,i)=>{let n,d=t.fileName.split(".")[0];n=l[i],d!==n?.image_signature&&(n=l.find(e=>d===e?.image_signature)),void 0===n?o+=1:n.is_promoted||n.recommendation_reason?.reason==="PROMOTED_PIN"||n?.promoter?a+=1:null!==n.story_pin_data_id&&void 0!==n.story_pin_data_id?e+=1:n?.videos?.video_list?r+=1:s+=1}),{storyPinCount:e,videoCount:r,adCount:a,imageCount:s,unknownCount:o});Object.entries(d).forEach(([e,t])=>{n.addBinaryAnnotation(e,t,"I16"),(0,p.kN)(e,t,"I16")}),(0,m.pI)({eventName:`${n.surface}.pinTypes_v2`,tags:d})}r({imageTimings:o}),s?((0,m.pI)({eventName:`images.${n.surface}.visuallyCompleteRender.complete_v2`,tags:{totalImageCount:u,noTimingCount:l,elementTimingCount:e.elementTimingCount}}),(0,m.AJ)({eventName:`images.${n.surface}.visuallyCompleteRender.timing_v2`,value:Math.round(c)})):((0,m.pI)({eventName:`images.${n.surface}.visuallyComplete.complete_v2`,tags:{totalImageCount:u,noTimingCount:l}}),(0,m.AJ)({eventName:`images.${n.surface}.visuallyComplete.timing_v2`,value:Math.round(d)}))}(d,e.pinElements,n,r,a,s,l),{type:"COMPLETE"})}(T,C.current,P.current,t,b,j,y,O))},"LAYOUT"===T.status&&500||"TIMING"===T.status&&100||null)}(e),null}function T({children:e,isAtEndOfFeed:t,pinData:i,itemCount:s,includeBackgroundImages:o=!1,includeVideos:l=!1,includeSections:d=!1,isPlaceholderGrid:c,onVisuallyCompletePinCount:p,stopwatchSetVisuallyCompleteResult:m,stopwatchContext:_}){let f,g;(0,r.useEffect)(()=>{(0,n.A)("MasonryVisuallyCompleteProfiler","/app/packages/pwt-logger/grid/MasonryVisuallyCompleteProfiler.tsx")},[]);let{isAuthenticated:b}=(0,y.tQ)();b||(d=!0);let A=(0,a.A)().checkExperiment("web_pwt_grid_profiler_v2").anyEnabled,T={pinData:i,isAtEndOfFeed:t,includeBackgroundImages:o,includeVideos:l,includeSections:d,isPlaceholderGrid:c,onVisuallyCompletePinCount:p,stopwatchSetVisuallyCompleteResult:m,stopwatchContext:_};return f=(0,r.useRef)(null),g=(0,h.lj)(),(0,r.useEffect)(()=>{s!==f.current&&(f.current=s,g&&(0,u.A)("masonryPagination"))},[g,s]),(0,E.jsxs)(r.Fragment,{children:[A?(0,E.jsx)(x,{...T}):(0,E.jsx)(v,{...T}),e]})}},164221(e,t,i){i.d(t,{A:()=>l,p:()=>o});var n=i(61163),r=i(859471),a=i(150880),s=i(562615);let o=({fill:e})=>{(0,r.useEffect)(()=>{(0,n.A)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]);let t="half"===e?(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(a.az,{position:"absolute",children:(0,s.jsx)(a.In,{accessibilityLabel:"","aria-hidden":!0,color:"default",icon:"star-half-fill",size:15})}),(0,s.jsx)(a.In,{accessibilityLabel:"",color:"subtle",icon:"star-fill",size:15})]}):(0,s.jsx)(a.In,{accessibilityLabel:"","aria-hidden":!0,color:"full"===e?"default":"subtle",icon:"star-fill",size:15});return(0,s.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function l({max_rating:e,rating:t,display:i}){var l;if((0,r.useEffect)(()=>{(0,n.A)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]),!t)return null;let d=[],c=parseFloat(e||"5"),u=5*(l=(l=parseFloat(t)||0)<=c?l:c)/c;if(Number.isNaN(u))return null;let p=Math.floor(u),m=u-p;return[...Array(p).keys()].forEach(e=>d.push((0,s.jsx)(o,{fill:"full"},e))),m>=.75?d.push((0,s.jsx)(o,{fill:"full"},d.length)):m>=.25&&d.push((0,s.jsx)(o,{fill:"half"},d.length)),[...Array(5-d.length).keys()].forEach(()=>d.push((0,s.jsx)(o,{fill:"empty"},d.length))),(0,s.jsx)(a.az,{"aria-label":`Rating ${String(u)} stars out of 5`,"data-test-id":"rating-stars",display:i?"flex":"inlineBlock",position:"relative",role:"img",width:18*c,children:d})}},319571(e,t,i){i.d(t,{A:()=>b});var n=i(61163),r=i(859471),a=i(150880),s=i(662449),o=i(766675),l=i(844255),d=i(274638),c=i(284300),u=i(697294),p=i(809799),m=i(699613),_=i(562615);function h(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class f extends r.Component{constructor(e){super(e),h(this,"componentWillUnmount",()=>{this.unregisterComponent()}),h(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:i,objectId:n,timeSpentContext:r,view:a,viewParameter:s}=this.props;return{view:a||r?.view,viewParameter:s||r?.viewParameter,component:t||r?.component,element:i,objectId:n||r?.objectId,clientTrackingParams:e||r?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),h(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),h(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e?.getParentUuid?.()}),h(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),h(this,"getTimedPair",()=>this.state.timedPair),h(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),h(this,"isRegistered",!1),h(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),h(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),h(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:i,left:n,right:r,top:a}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===i&&0===n&&0===r&&0===a?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new u.A(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,d.A)(e.auxData,this.props.auxData)&&(0,d.A)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,_.jsx)(p.I,{value:this.getContext(),children:(0,_.jsx)(o.A,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:i=>(0,_.jsx)(a.az,{ref:i,height:t??"100%",children:r.Children.only(e)})})})}componentDidMount(){(0,n.A)("DeprecatedTimeSpent","/app/packages/time-spent/DeprecatedTimeSpent.tsx")}}function g(e){let t=(0,s.qD)(),i=(0,p.J)(),n=(0,c.A)(),a=(0,m.Vk)(),{requestIdentifier:o=""}=(0,l._8)(),d={app_instance_id:o.slice(0,8),...e.auxData??{}};return(0,r.useEffect)(()=>{n?.setHistoryStackContext(t)},[t,n]),(0,r.useEffect)(()=>{n?.setPins(a??{})},[a,n]),n?(0,_.jsx)(f,{...e,auxData:d,timeSpentContext:i,timeSpentManager:n,children:e.children}):e.children}g.displayName="DeprecatedTimeSpent";let b=g},809799(e,t,i){i.d(t,{I:()=>n,J:()=>r});let{Provider:n,getMaybe:r}=(0,i(987628).A)("timeSpentContext")},284300(e,t,i){i.d(t,{A:()=>a,q:()=>n});let{Provider:n,getMaybe:r}=(0,i(987628).A)("TimeSpentManagerContext"),a=r},894986(e,t,i){i.d(t,{A:()=>r});var n=i(307079);let r=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,n.A)(t[1])}return(0,n.A)()}},8627(e,t,i){i.d(t,{A:()=>u});var n=i(61163),r=i(859471),a=i(971289),s=i(808571),o=i(994795),l=i(280814),d=i(562615);let c=new Set(["pin-card-hover-overlay","pin-card-hover-overlay-open-legend-wrapper","pin-card-hover-overlay-gradient-full"]);function u({children:e,headerHeightModifier:t}){(0,r.useEffect)(()=>{(0,n.A)("ScrollPinToTopToFeedOnTap","/app/www/ScrollPinToTopToFeedOnTap.tsx")},[]);let i=(0,s.g)(),u=(0,a.qJ)(),p=(0,r.useCallback)(e=>{if(function(e){let{nativeEvent:t}=e;return t instanceof MouseEvent&&(t.metaKey||t.ctrlKey||t.shiftKey||1===t.button)}(e))return;let{target:n}=e;if(n instanceof HTMLElement&&("IMG"===n.tagName||c.has(n.getAttribute("data-test-id")??""))){let e=n.getBoundingClientRect(),r=u?2*i:i,a=e.top+window.scrollY-r-(t??0);window.scrollTo(window.scrollX,a)}},[i,u,t]);return(0,d.jsx)(l.D,{children:(0,d.jsx)(o.A,{dataTestId:"scroll-pin-to-top-to-feed-on-tap",onTouch:p,pressState:"none",children:e})})}},56157(e,t,i){i.d(t,{A:()=>m,_:()=>p});var n=i(61163),r=i(859471),a=i(150880),s=i(103892),o=i(715989),l=i(538329),d=i(542975),c=i(601185),u=i(562615);let p=[0,2,3];function m({hasAffiliateProducts:e,hasAffiliateLink:t,href:i,isPromoted:m,onNavigateSponsorClick:_,sponsorName:h,sponsorUsername:f,sponsorshipStatus:g,textWeight:b="bold",isGrid:A,affiliateDisclosure:y}){let E;(0,r.useEffect)(()=>{(0,n.A)("SponsorshipText","/app/www/SponsorshipText/SponsorshipText.tsx")},[]);let v=(0,l.A)(),{checkExperiment:x}=(0,c.A)(),T=x("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,S=(0,o.A)(),{inAffiliateDisclosureEnabled:C}=(0,s.A)(),P=i||(f?`/${f}/`:null),I=P&&h?(0,u.jsx)(a.KJ,{__dangerouslyOverrideLineHeight:S,size:"200",weight:b,children:(0,u.jsx)(a.N_,{dataTestId:"sponsorship-text-link",href:P,onClick:_,children:h})},h):void 0,w=T&&!m&&"Ad â€¢ "||"";return m?E=(0,d.vQ)(v._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:I}):g||0===g?h&&!p.includes(g)?E=(0,d.vQ)(v._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:I}):2!==g&&(E=v._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):!A&&(t||e)&&(E=C?y:v._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'),w=""),(0,u.jsxs)(a.KJ,{__dangerouslyOverrideLineHeight:S,color:"subtle",inline:!0,lineClamp:2,size:"200",children:[w,E]})}},753115(e,t,i){i.d(t,{A:()=>n});function n(e,t){let{group:i}=e("dweb_scroll_pin_to_top_on_tap");return"enabled_all"===i||"employees"===i||i===`enabled_${t}`}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/84383-f77abf0cde4bfc7e.mjs.map