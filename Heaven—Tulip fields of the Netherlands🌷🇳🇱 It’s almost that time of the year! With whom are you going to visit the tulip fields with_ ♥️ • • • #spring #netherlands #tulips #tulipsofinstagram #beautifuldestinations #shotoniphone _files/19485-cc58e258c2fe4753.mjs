(self.modernJsonp=self.modernJsonp||[]).push([["19485"],{277229(e,t,s){s.d(t,{A:()=>A});var i=s(859471),o=s(49241);let a=["1200x","736x","474x474","236x236"];var l=s(61163),r=s(979638),n=s(150880),c=s(538329),p=s(911127),g=s(562615);function d({buttonPadding:e,isDeleted:t,onUndoClick:s}){(0,i.useEffect)(()=>{(0,l.A)("LensHistoryItemDeleteOverlay","/app/common/react/components/Lens/History/LensHistoryItemDeleteOverlay.tsx")},[]);let o=(0,c.A)();return(0,g.jsx)(p.A,{children:(0,g.jsxs)(n.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--sema-color-background-wash-scrims-default)",backdropFilter:"blur(10px)",cursor:"default",opacity:+!!t,pointerEvents:t?"auto":"none",transition:"opacity 200ms linear"}},left:!0,padding:e??3,position:"absolute",right:!0,rounding:400,top:!0,children:[(0,g.jsx)(n.KJ,{color:"light",children:o._('Successfully deleted', 'lens.history.deleted.message', 'Message shown when history item is deleted')}),(0,g.jsx)(n.Rp,{onTap:s,children:(0,g.jsx)(n.Wu,{color:"light",children:o._('Undo', 'lens.history.undo', 'Undo deletion button')})})]})})}var u=s(324440);function h({buttonPadding:e,saveButtonOnly:t,hideSave:s,imageUrl:o,onDeleteClick:a}){(0,i.useEffect)(()=>{(0,l.A)("LensHistoryItemHoverOverlay","/app/common/react/components/Lens/History/LensHistoryItemHoverOverlay.tsx")},[]);let r=(0,c.A)();return(0,g.jsxs)(n.az,{alignItems:"end",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--sema-color-background-wash-image-tint)"}},direction:"column",display:"flex",left:!0,padding:e??3,position:"absolute",right:!0,rounding:400,top:!0,children:[!s&&(0,g.jsx)(u.A,{imageUrl:o,saveButtonOnly:t}),(0,g.jsx)(n.az,{marginTop:"auto",children:(0,g.jsx)(n.K0,{accessibilityLabel:r._('Delete', 'lens.history.image.delete', 'Clicking on this deletes the image from the lens history'),bgColor:"secondary",icon:"trash-can",onClick:a,size:"md"})})]})}var m=s(299374),v=s(350539),_=s(586733),b=s(385800);function y({buttonPadding:e,height:t,hideSave:s,id:o,imageHeight:a,imageWidth:p,isDeleted:u,onDeleted:y,onUndoDelete:f,src:w,viewParameter:x,viewType:A,width:k}){(0,i.useEffect)(()=>{(0,l.A)("LensHistoryItem","/app/common/react/components/Lens/History/LensHistoryItem.tsx")},[]);let S=(0,c.A)(),j=(0,r.Zp)(),{logContextEvent:P}=(0,_.o)(),{setPreparedImage:M,setIsPopoverOpen:I}=(0,m.S)(),{hovered:z,onMouseEnter:E,onMouseLeave:C}=(0,b.A)(),T=(0,i.useCallback)(async()=>{P({aux_data:{url:w},event_type:101,view_parameter:x,view_type:A});try{let e=await fetch(w),t=await e.blob(),s=new File([t],"lens-history-image",{type:t.type}),i={file:s,src:URL.createObjectURL(s),apiUrl:w,width:p,height:a};M(i),await (0,v.i6)(i),P({aux_data:{url:w},event_type:6707,view_parameter:x,view_type:A}),I(!1),j("/lens-search/")}catch{}},[P,w,x,A,M,p,a,I,j]),L=(0,i.useCallback)(({event:e})=>{e.stopPropagation(),y(o)},[o,y]),B=(0,i.useCallback)(({event:e})=>{e.stopPropagation(),f(o)},[o,f]),R=(k??p)/(t??a);return(0,g.jsx)(n.Rp,{onTap:T,children:(0,g.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{aspectRatio:R}},onMouseEnter:E,onMouseLeave:C,overflow:"hidden",position:"relative",rounding:400,children:[(0,g.jsx)(n.n1,{height:"100%",rounding:400,width:"100%",children:(0,g.jsx)(n._V,{alt:S._('Lens history image', 'lens.history.image.alt', 'Image that was uploaded by the user to Lens History'),fit:"cover",naturalHeight:a,naturalWidth:p,src:w})}),z&&!u&&(0,g.jsx)(h,{buttonPadding:e,hideSave:s,imageUrl:w,onDeleteClick:L}),(0,g.jsx)(d,{buttonPadding:e,isDeleted:u,onUndoClick:B})]})})}var f=s(257300),w=s(168079),x=s(430705);function A({buttonPadding:e,height:t,hideSave:s,pageSize:l,viewParameter:r,viewType:n,width:c}){let{data:p,isFetching:d,fetchMore:u,isAtEnd:h,isLoaded:m}=(0,x.A)({name:"ApiResource",options:{url:o.YU,data:{fields:"id, image_urls, image_sizes",...void 0!==l&&{page_size:l}}},noCache:!0}),v=(0,i.useMemo)(()=>p??[],[p]),{deletedIds:b,onDeleted:A,onUndoDelete:k}=function(){let{logContextEvent:e}=(0,_.o)(),[t,s]=(0,i.useState)(new Set),a=(0,i.useRef)(new Set),l=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{a.current=t},[t]),(0,w.A)(()=>{let t=()=>{if(l.current||0===a.current.size)return;l.current=!0;let t=Array.from(a.current);(async()=>{try{await (0,f.A)({url:o.YU,method:"DELETE",data:{lens_history_ids:t}}),t.forEach(()=>{e({event_type:15657,view_parameter:o.Gj,view_type:o.rm})})}catch(e){}})()},s=()=>t();return window.addEventListener("beforeunload",s),()=>{t(),window.removeEventListener("beforeunload",s)}}),{deletedIds:t,onDeleted:(0,i.useCallback)(e=>{s(t=>new Set(t).add(e)),l.current=!1},[]),onUndoDelete:(0,i.useCallback)(e=>{s(t=>{let s=new Set(t);return s.delete(e),s}),l.current=!1},[])}}(),S=(0,i.useCallback)(i=>{let{id:o}=i,l=function(e){let{image_urls:t,image_sizes:s}=e;if(!t||!s)return null;let i=a.find(e=>t[e]&&s[e]);if(!i)return null;let o=t[i],l=s[i];if(!o||!l||"string"!=typeof o)return null;let{height:r,width:n}=l;return"number"!=typeof r||"number"!=typeof n||0===n||0===r?null:{src:o,height:r,width:n}}(i);if(!l||!o)return null;let{height:p,width:d,src:u}=l,h=b.has(o);return(0,g.jsx)(y,{buttonPadding:e,height:t,hideSave:s,id:o,imageHeight:p,imageWidth:d,isDeleted:h,onDeleted:A,onUndoDelete:k,src:u,viewParameter:r,viewType:n,width:c})},[e,b,t,s,A,k,r,n,c]);return{items:v,isFetching:d,fetchMore:u,isAtEnd:h,isLoaded:m,deletedIds:b,renderItem:S}}},324440(e,t,s){s.d(t,{A:()=>S});var i=s(61163),o=s(859471),a=s(150880),l=s(49241),r=s(911127),n=s(385336),c=s(400235),p=s(562615);function g({anchorRef:e,board:t,onBoardSelect:s,onDismiss:g,popoverId:d,urlPinInfo:u}){(0,o.useEffect)(()=>{(0,i.A)("BoardPicker","/app/common/react/components/Lens/Save/BoardPicker.tsx")},[]);let[h,m]=(0,o.useState)(!1),[v,_]=(0,o.useState)(""),b=(0,o.useCallback)(e=>{let{id:t,name:i,url:o}=e;s({id:t,name:i,url:o}),g()},[s,g]),y=(0,o.useCallback)(e=>{if(!e.boardId)return;let{boardId:t,title:i,url:o}=e;s({id:t,name:i??void 0,url:o??void 0}),g()},[s,g]),f=(0,o.useCallback)(e=>{_(e?.title??""),m(!0)},[]),w=(0,o.useCallback)(()=>{m(!1),g()},[g]);return(0,p.jsx)(a.Wd,{zIndex:new a.K5([l.B4]),children:h?(0,p.jsx)(n.A,{boardCreateSource:"board_picker",images:[{url:u.imageUrl,name:""}],initialValues:{boardName:v},onBoardCreate:b,onClose:w}):(0,p.jsx)(a.AM,{anchor:e.current,id:d,idealDirection:"down",onDismiss:g,positionRelativeToAnchor:!1,size:"xl",children:(0,p.jsx)(r.A,{children:(0,p.jsx)(c.cC,{displayShortlistMostRecentBoard:!0,onBoardCreate:f,onItemChosen:y,selectedItem:t,showCreateBoardButton:!0,showFlyoutSaveButton:!1,showSaveToProfile:!0})})})})}var d=s(299374),u=s(257300),h=s(567176),m=s(538329),v=s(706466),_=s(409652),b=s(106386),y=s(168079),f=s(275953);function w({board:e,onSaveComplete:t,urlPinInfo:s}){return(0,o.useEffect)(()=>{(0,i.A)("SaveHandler","/app/common/react/components/Lens/Save/SaveHandler.tsx")},[]),(0,p.jsx)(f.a,{action:"create",description:"",method:"lens",pinKey:null,setCompletionPromise:t,shuffleAssetKey:null,urlPinInfo:s,children:({handleSaveToBoard:t})=>(0,p.jsx)(x,{board:e,handleSaveToBoard:t})})}function x({board:e,handleSaveToBoard:t}){return(0,y.A)(()=>{t({...e,type:"board"})}),null}var A=s(175416),k=s(31973);function S({imageUrl:e,imageFile:t,saveButtonOnly:s=!1}){(0,o.useEffect)(()=>{(0,i.A)("LensBetterSave","/app/common/react/components/Lens/Save/LensBetterSave.tsx")},[]);let l=(0,o.useId)(),r=(0,o.useRef)(null),n=(0,o.useRef)(null),c=s?r:n,[y,f]=(0,o.useState)(!1),{isSaved:x,board:S,urlPinInfo:j,saveImageToBoard:P,handleUnsave:M,renderPendingSave:I}=function({imageUrl:e,imageFile:t}){let s=function(){let e=(0,b.d4)(e=>e.mostRecentBoard);if(e)return{id:e.id,name:e.name,url:e.url}}(),[i,a]=(0,o.useState)(e),l=(0,o.useMemo)(()=>({description:"",imageUrl:i,link:""}),[i]),{isSaved:r,savedBoard:n,handleBoardSaveComplete:c,handleUnsave:g,setOptimisticSave:y}=function({imageUrl:e}){let t=(0,m.A)(),s=(0,v.CG)(),{getSavedImageState:i,setSavedImageState:a,clearSavedImageState:l}=(0,d.S)(),r=i(e),[n,c]=(0,o.useState)(!!r),[g,b]=(0,o.useState)(r?.pinId??null),[y,f]=(0,o.useState)(r?.board),w=(0,o.useCallback)(async(i,o)=>{await (0,u.A)({url:"/v3/pins/{pin}/",urlParams:{pin:i},method:"DELETE"}),c(!1),b(null),f(void 0),l(e);let a=o?t._('Removed from your board!', 'LensBetterSave.RemovedFromBoard', 'Toast message when pin is removed from board'):t._('Pin removed!', 'LensBetterSave.PinRemoved', 'Toast message when boardless pin is removed');s.showToast(({hideToast:e})=>(0,p.jsx)(h.A,{dataTestId:"lens-better-save-removed-toast",onHide:e,text:a}))},[l,t,e,s]),x=(0,o.useCallback)(async()=>{g&&await w(g,!!y?.id)},[g,y?.id,w]),A=(0,o.useCallback)(e=>{c(!0),f(e)},[]);return{isSaved:n,savedBoard:y,handleBoardSaveComplete:(0,o.useCallback)(async t=>{let{id:i,board:o}=await t.promise,{id:l,name:r,url:n}=o,g={id:l,name:r,url:n};c(!0),b(i),f(g),a(e,{pinId:i,board:g}),s.showToast(({hideToast:t})=>(0,p.jsx)(_.A,{boardName:r,boardUrl:n,onHide:t,onUndo:async()=>{t(),await w(i,!!l)},pinImageUrl:e}))},[e,a,s,w]),handleUnsave:x,setOptimisticSave:A}}({imageUrl:e}),{setPendingBoard:f,renderPendingSave:x}=function({urlPinInfo:e,onBoardSaveComplete:t}){let[s,i]=(0,o.useState)(null),a=(0,o.useCallback)(()=>s?(0,p.jsx)(w,{board:s,onSaveComplete:async e=>{await t(e),i(null)},urlPinInfo:e}):null,[s,t,e]);return{setPendingBoard:i,renderPendingSave:a}}({urlPinInfo:l,onBoardSaveComplete:c});return{isSaved:r,board:n??s,urlPinInfo:l,saveImageToBoard:(0,o.useCallback)(async e=>{if(t)try{let e=await (0,A.A)(t);a(e)}catch{return}y(e),f(e)},[t,y,f]),handleUnsave:g,renderPendingSave:x}}({imageUrl:e,imageFile:t}),z=(0,o.useCallback)(e=>{(e.stopPropagation(),s&&x)?M():f(e=>!e)},[s,x,M]),E=(0,o.useCallback)(async e=>{(e.stopPropagation(),x)?M():!S?.id||s?f(!0):P(S)},[S,s,x,M,P]);return(0,p.jsxs)(a.az,{ref:r,"data-test-id":"lens-better-save",width:"100%",children:[(0,p.jsx)(k.A,{accessibilityControls:l,accessibilityExpanded:y,accessibilityHaspopup:!0,dropdownRef:n,hideDropdown:s,isSaved:x,onBoardDropdownClick:z,onSaveClick:E,promotedIsLeadAd:!1,selectedTitle:S?.name,showBoardFlyout:y,unselectedText:"Select",variant:"pin"}),y&&(0,p.jsx)(g,{anchorRef:c,board:S,onBoardSelect:P,onDismiss:()=>f(!1),popoverId:l,urlPinInfo:j}),I()]})}},49241(e,t,s){s.d(t,{B4:()=>m,CR:()=>g,Dj:()=>y,Et:()=>b,Gj:()=>n,OV:()=>h,SK:()=>l,SY:()=>p,UQ:()=>f,YU:()=>a,_W:()=>u,b0:()=>x,cr:()=>w,eN:()=>c,g0:()=>_,hU:()=>A,nb:()=>v,qm:()=>d,rm:()=>r});var i=s(150880),o=s(584342);let a="/v3/visual_search/lens/history/",l="/upload-lens-image-history/",r=119,n=4054,c=48,p=15075,g=119,d=130,u=540,h=768,m=new i.K5([o.Bf]),v="CAMERA_GALLERY",_="image/jpeg",b=.8,y=1200,f="/v3/visual_search/lens/upload/",w="IMAGE_URL",x="/v3/visual_search/lens/search/",A="/upload-lens-image/"},910409(e,t,s){s.d(t,{A:()=>o});let i=[{magicBytes:"Qk",mimeType:"image/bmp"},{magicBytes:"R0lGOD",mimeType:"image/gif"},{magicBytes:"/9j/",mimeType:"image/jpeg"},{magicBytes:"iVBORw0KGgo",mimeType:"image/png"},{magicBytes:"SUkq",mimeType:"image/tiff"},{magicBytes:"TU0A",mimeType:"image/tiff"},{magicBytes:"UklGR",mimeType:"image/webp"}];function o(e){let t,s=i.find(({magicBytes:t})=>e.startsWith(t)),o=s?.mimeType??"image/png";try{t=atob(e)}catch{throw Error("Invalid base64 encoding")}return new File([new Blob([Uint8Array.from(t,e=>e.charCodeAt(0))],{type:o})],"lens-base64-image",{type:o})}},175416(e,t,s){s.d(t,{A:()=>i});function i(e){return new Promise((t,s)=>{let i=new FileReader;i.onload=()=>t(i.result),i.onerror=()=>s(i.error),i.readAsDataURL(e)})}},350539(e,t,s){s.d(t,{i6:()=>c,o_:()=>p});var i=s(35458),o=s(910409),a=s(175416),l=s(401691),r=s(484409);let n=i.z.object({dataUrl:i.z.string().startsWith("data:"),apiUrl:i.z.string(),imageSignature:i.z.string().optional(),width:i.z.number(),height:i.z.number()});async function c(e){try{let t={dataUrl:await (0,a.A)(e.file),apiUrl:e.apiUrl,imageSignature:e.imageSignature,width:e.width,height:e.height};(0,r.V2)().setItem(l.Wy,t)}catch{}}function p(){try{let e=(0,r.V2)().getItem(l.Wy),t=n.safeParse(e);if(!t.success)return g(),null;let{dataUrl:s,apiUrl:i,imageSignature:a,width:c,height:p}=t.data,d=s.split(",")[1];if(!d)return g(),null;let u=(0,o.A)(d),h=URL.createObjectURL(u);return{file:u,src:h,apiUrl:i,imageSignature:a,width:c,height:p}}catch{return g(),null}}function g(){try{(0,r.V2)().removeItem(l.Wy)}catch{}}},998365(e,t,s){s.d(t,{A:()=>i});function i(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},649811(e,t,s){s.d(t,{A:()=>n});var i=s(693154),o=s(601185),a=s(971289),l=s(870540),r=s(847753);function n(e){let t=(0,a.qJ)(),{checkExperiment:s}=(0,o.A)(),n=(0,l.A)(),c=(0,i.A)(),p=(0,r.H7)(c,n),g=!t||s("web_sce_organic_pinbuilder_dep").anyEnabled;return!p&&(e&&s("sce_lightswitch_organic"),!t||!!g)}},655352(e,t,s){s.d(t,{A:()=>i});let i='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},669456(e,t,s){s.d(t,{B:()=>n,J:()=>c});var i=s(61163),o=s(859471),a=s(979638),l=s(562615);let r=(0,o.createContext)(!0);function n({children:e}){(0,o.useEffect)(()=>{(0,i.A)("InitialPageContext","/app/packages/InitialPageContext.tsx")},[]);let t=(0,a.zy)(),s=(0,o.useRef)(t).current===t;return(0,l.jsx)(r,{value:s,children:e})}function c(){return(0,o.use)(r)}},642477(e,t,s){s.d(t,{A:()=>o});var i=s(844255);let o=function(){let{country:e,isBot:t,isAuthenticated:s,locale:o}=(0,i._8)(),a="en"===o.slice(0,2);return t||!s&&a&&"US"===e}},24086(e,t,s){s.d(t,{A:()=>o});var i=s(859471);let o=function(e,t){let s=(0,i.useRef)(e),o=(0,i.useRef)(void 0),a=(0,i.useRef)(void 0);(0,i.useEffect)(()=>{s.current=e},[e]),(0,i.useEffect)(()=>()=>{o.current&&clearTimeout(o.current)},[t]);let l=(0,i.useCallback)((...e)=>{a.current=e,o.current&&clearTimeout(o.current),o.current=window.setTimeout(()=>{s.current(...e),a.current=void 0},t)},[t]);return l.flush=(0,i.useCallback)(()=>{if(o.current&&(clearTimeout(o.current),o.current=void 0),a.current){let e=a.current;return a.current=void 0,s.current(...e)}},[]),l.cancel=(0,i.useCallback)(()=>{o.current&&(clearTimeout(o.current),o.current=void 0),a.current=void 0},[]),l}},696683(e,t,s){s.d(t,{A:()=>c});var i=s(61163),o=s(859471),a=s(150880),l=s(326720),r=s(826209),n=s(562615);let c=({name:e,containerSize:t,illustrationSize:s=195,message:c,description:p,primaryAction:g,type:d="spot"})=>{(0,o.useEffect)(()=>{(0,i.A)("Illustration","/app/packages/gestalt-illustrations/Illustration.tsx")},[]);let{colorSchemeName:u}=(0,a.Ut)(),h="darkMode"===u,{imageSrc:m}=(0,o.useMemo)(()=>{let t=l.A[e],s=h?t[d].darkMode:t[d].lightMode;return{imageSrc:r.A&&s.webp||s.svg}},[e,d,h]);return(0,n.jsx)(a.so,{direction:"column",height:t,width:t,children:(0,n.jsxs)(a.so,{alignItems:"center",direction:"column",gap:3,children:[(0,n.jsxs)(a.so,{alignItems:"center",direction:"column",gap:1,width:"100%",children:[(0,n.jsx)(a.az,{height:s,width:s,children:(0,n.jsx)(a._V,{alt:"",naturalHeight:m.includes("3:2")?2:1,naturalWidth:m.includes("3:2")?3:1,role:"img",src:m})}),c||p?(0,n.jsxs)(a.so,{direction:"column",children:[(0,n.jsx)(a._Y,{accessibilityLevel:"none",align:"center",size:"400",children:c}),(0,n.jsx)(a.KJ,{align:"center",size:"200",children:p})]}):null]}),g??null]})})}},326720(e,t,s){s.d(t,{A:()=>i});let i={antLeaf:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.antleaf.hero.3_2.light.svg.webp"}}},bouquet:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.mobile.bouquet.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.mobile.bouquet.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.mobile.bouquet.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.mobile.bouquet.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.bouquet.hero.3_2.light.svg.webp"}}},cat:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cat.hero.3_2.light.svg.webp"}}},caterpillar:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.caterpillar.hero.3_2.light.svg.webp"}}},collage:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.collage.hero.3_2.light.svg.webp"}}},cookiejar:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.cookiejar.hero.3_2.light.svg.webp"}}},crystalBall:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.spot.dark.svg.webp"},lightMode:{svg:"hthttps://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.spot.light.svg.svg",webp:"hthttps://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalball.hero.3_2.light.svg.webp"}}},crystalBallAura:{spot:{darkMode:{svg:"hhttps://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballaura.hero.3_2.light.svg.webp"}}},crystalBallShootingStar:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.crystalballshootingstar.hero.3_2.light.svg.webp"}}},drawing:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drawing.hero.3_2.light.svg.webp"}}},dragonfly:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.dragonfly.hero.3_2.light.svg.webp"}}},drink:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.drink.hero.3_2.light.svg.webp"}}},favorite:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.favorite.hero.3_2.light.svg.webp"}}},fish:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fish.hero.3_2.light.svg.webp"}}},fishbowl:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.fishbowl.hero.3_2.light.svg.webp"}}},gumball:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.gumball.hero.3_2.light.svg.webp"}}},hotAirBalloon:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotairballoon.hero.3_2.light.svg.webp"}}},hotChocolate:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hotchocolate.hero.3_2.light.svg.webp"}}},hourglass:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.hourglass.hero.3_2.light.svg.webp"}}},iceCream:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.icecream.hero.3_2.light.svg.webp"}}},messagebottle:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.messagebottle.hero.3_2.light.svg.webp"}}},palette:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.palette.hero.3_2.light.svg.webp"}}},pinboard:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinboard.hero.3_2.light.svg.webp"}}},pinjar:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.pinjar.hero.3_2.light.svg.webp"}}},popsicle:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.popsicle.hero.3_2.light.svg.webp"}}},sunglasses:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglasses.hero.3_2.light.svg.webp"}}},sunglassesClouds:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.sunglassesclouds.hero.3_2.light.svg.webp"}}},telescope:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.telescope.hero.3_2.light.svg.webp"}}},toaster:{spot:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.spot.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.spot.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.spot.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.spot.light.svg.webp"}},hero_1_1:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.1_1.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.1_1.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.1_1.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.1_1.light.svg.webp"}},hero_3_2:{darkMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.3_2.dark.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.3_2.dark.svg.webp"},lightMode:{svg:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.3_2.light.svg.svg",webp:"https://s.pinimg.com/gestalt/illustrations/v1/ill.toaster.hero.3_2.light.svg.webp"}}}}},826209(e,t,s){s.d(t,{A:()=>i});let i=(()=>{if("u"<typeof window)return!1;let e=document.createElement("canvas");return e.width=1,e.height=1,e.toDataURL("image/webp").startsWith("data:image/webp")})()},353614(e,t,s){s.d(t,{A:()=>i});function i(e,t){return e.reduce((e,s)=>{let i="function"==typeof t?t(s):s[t];return i in e||(e[i]=[]),e[i].push(s),e},{})}},544673(e,t,s){s.d(t,{K:()=>m,z:()=>a});var i=s(427471),o=s(81920);let a="nic_v4",l=`${a}=1a`,r=`${a}=1b`,n=[l,r],c=["invite_code","invite","board_invite_code","sender"],p=null,g=e=>!!c.find(t=>e.includes(t)),d=e=>{let t;return e.pathname.includes("/pin/")&&!g(e.search)&&(t=e.search,!n.find(e=>t.includes(e)))},u=async e=>{let{resource_response:t}=await i.A.create("InviteSocialTrackingParamNonInviteResource",{user_id:e}).callCreate();if(!t)return(0,o.GV)(`${a}.social_tracking_pin_non_invite.no_resource_response`),"";{let e=encodeURIComponent(t.data);return(0,o.GV)(`${a}.social_tracking_pin_non_invite.encrypted.${e?"true":"false"}`),e}},h=(e,t,s=!1,i)=>{if(!d(e))return;let n=s?"mweb":"web";if(!t)return void(0,o.GV)(`${n}.${a}.social_tracking_pin_non_invite.insert.no_encrypted_id`);(0,o.GV)(`${n}.${a}.social_tracking_pin_non_invite.insert.attempt`);try{var c;let p,g=(c=s||!1,p=e.search?"&":"?",e.pathname+e.search+(p+(c?r:l)+t));(0,o.GV)(`${n}.${a}.social_tracking_pin_non_invite.insert.success`),i(g)}catch{(0,o.GV)(`${n}.${a}.social_tracking_pin_non_invite.insert.caught_exception`)}},m=(e,t,s,i,l)=>{let r=s?"mweb":"web";(0,o.GV)(`${r}.${a}.social_tracking_pin_non_invite.attempt`);try{let n;!s&&i&&d(e)?((0,o.GV)(`${r}.${a}.social_tracking_pin_non_invite.search_string_eligible`),((e,t,s=!1,i)=>{p?h(e,p,s,i):(async()=>{let o=await u(t);p=o,h(e,o,s,i)})()})(e,t,s,l)):(n=e.search,!g(n)&&!n.includes("sender")&&n.includes(a)&&(0,o.GV)(`${r}.${a}.social_tracking_pin_non_invite.search_string_land`))}catch{(0,o.GV)(`${r}.${a}.social_tracking_pin_non_invite.caught_exception`)}}},640992(e,t,s){s.d(t,{A:()=>o});var i=s(859471);function o(e){let{animationData:t,autoplay:o,initialSegment:a,loop:l,onComplete:r,onConfigReady:n,onDataFailed:c,onDataReady:p,onDestroy:g,onDOMLoaded:d,onEnterFrame:u,onLoadedImages:h,onLoopComplete:m,onSegmentStart:v}=e,[_,b]=(0,i.useState)(null),[y,f]=(0,i.useState)(!1),w=(0,i.useRef)(null),x=(0,i.useRef)(null),A=async()=>{b(await s.e("70993").then(s.t.bind(s,159976,23)))};return(0,i.useEffect)(()=>{A()},[]),(0,i.useEffect)(()=>{if(!x.current||!_||!t||!t.w||!t.h)return;w.current?.destroy();let s={...e,container:x.current};w.current=_.loadAnimation(s),f(!!w.current)},[x,w,t,_,e]),(0,i.useEffect)(()=>{w.current&&(w.current.loop=!!l,l&&w.current.isPaused&&w.current.play())},[l]),(0,i.useEffect)(()=>{w.current&&(w.current.autoplay=!!o)},[o]),(0,i.useEffect)(()=>{!w.current||(a?Array.isArray(a)&&a.length&&((w.current.currentRawFrame<a[0]||w.current.currentRawFrame>a[1])&&(w.current.currentRawFrame=a[0]),w.current.setSegment(a[0],a[1])):w.current.resetSegments(!1))},[a]),(0,i.useEffect)(()=>{if(!w.current||!y)return()=>{};let e=[{name:"complete",handler:r},{name:"loopComplete",handler:m},{name:"enterFrame",handler:u},{name:"segmentStart",handler:v},{name:"config_ready",handler:n},{name:"data_ready",handler:p},{name:"data_failed",handler:c},{name:"loaded_images",handler:h},{name:"DOMLoaded",handler:d},{name:"destroy",handler:g}].filter(e=>null!=e.handler).map(e=>(w.current?.addEventListener(e.name,e.handler),()=>{w.current?.removeEventListener(e.name,e.handler)}));return()=>{e.forEach(e=>e())}},[y,r,m,u,v,n,p,c,h,d,g]),{animationContainerRef:x,play:()=>{w.current?.play()},stop:()=>{w.current?.stop()},pause:()=>{w.current?.pause()},setSpeed:e=>{w.current?.setSpeed(e)},goToAndStop:(e,t)=>{w.current?.goToAndStop(e,t)},goToAndPlay:(e,t)=>{w.current?.goToAndPlay(e,t)},setDirection:e=>{w.current?.setDirection(e)},playSegments:(e,t)=>{w.current?.playSegments(e,t)},setSubframe:e=>{w.current?.setSubframe(e)},getDuration:e=>w.current?.getDuration(e),destroy:()=>{w.current?.destroy()},animationLoaded:y,animationItem:w.current}}},16917(e,t,s){s.d(t,{A:()=>P});var i=s(17775),o=s(564954),a=s(385982),l=s(472723),r=s(746904),n=s(355426),c=s(54240),p=s(752643),g=s(441496),d=s(449344),u=s(2354);let h="stopwatch_v2",m=(0,i.lo)(h),v=new Map,_=[],b=[],y=!1;function f(){let e=performance.now();v.forEach((t,s)=>{e-t.startTimestamp>t.maxDuration&&(m(`Auto-aborting stale stopwatch ${s} after ${t.maxDuration}ms`),j(s,"exceeded_max_duration"))})}function w(e,t,s){performance.mark(`${h}:${e}:${t}`,s?{startTime:s}:void 0)}function x(e,t,s,i){performance.measure(`${h}:${e}:${t}`,s,i)}function A(e){let t=`${h}:${e}:`,s=[`${t}start`,`${t}end`,`${t}subspan:`];return _.filter(e=>e.name.startsWith(t)&&!s.some(t=>e.name.startsWith(t))).map(e=>({label:e.name.slice(t.length),timestamp:e.startTime}))}function k(e,t){let s=`${h}:${e}:subspan:`;return b.filter(e=>e.name.startsWith(s)).map(e=>({name:e.name.slice(s.length),id:(0,c.A)(),parentId:t,startTime:e.startTime,endTime:e.startTime+e.duration,annotationMap:{},binaryAnnotationMap:{}}))}function S(e){let t=`${h}:${e}:`;try{_=_.filter(e=>!e.name.startsWith(t)),b=b.filter(e=>!e.name.startsWith(t))}catch{}let s=v.get(e);s?.resourceObserver?.disconnect(),v.delete(e)}function j(e,t){if(!(0,p.A)())return;let s=v.get(e);if(!s)return void(0,g.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"abort",version:"2"});m(`Aborted ${e}: ${t}`);let i=performance.now(),{startTimestamp:a}=s,r=(0,c.A)(),h=(0,u.tQ)(),_={type:"stopwatch",name:e},b={type:"ABORT",traceId:r,startTime:a,endTime:i,spans:k(e,r),annotationMap:(0,n.A)(A(e)),binaryAnnotationMap:(0,o.jp)({metricId:_,pwtStaticContext:h,binaryAnnotations:s.binaryAnnotations,performanceResourceTimings:s.resourceBuffer,type:"ABORT",stopwatchVersion:2}),reason:t??"unknown"};(0,l.A)({metricId:_,pwtStaticContext:h,result:b,sampleRate:s.sampleRate,stopwatchVersion:2}),(0,g.HF)({abortReason:t??"unknown",pwtName:e,annotateExperiments:(0,d.e0)(),version:"2"}),S(e)}function P(e,t={}){let{sampleRate:s,maxDuration:i}=t;return{name:e,start:t=>(function(e,t={}){if(!(0,p.A)())return;!function(){if(y||!(0,p.A)())return;y=!0;let e=`${h}:`;try{new PerformanceObserver(t=>{let s=t.getEntries().filter(t=>t.name.startsWith(e));_.push(...s)}).observe({type:"mark",buffered:!0}),new PerformanceObserver(t=>{let s=t.getEntries().filter(t=>t.name.startsWith(e));b.push(...s)}).observe({type:"measure",buffered:!0}),setInterval(f,1e4)}catch{}}(),v.has(e)&&(m(`Stopwatch ${e} already active, aborting previous`),j(e,"new_stopwatch_started"));let s=t.startTime??performance.now(),{observer:i,buffer:o}=function(){let e=[];if(!(0,p.A)())return{observer:null,buffer:e};try{let t=new PerformanceObserver(t=>{if(e.push(...t.getEntries()),e.length>5e3){let t=e.length-5e3;e.splice(0,t),(0,g.pI)({eventName:"resourceBufferTruncated.v2",tags:{dropped:t,remaining:5e3}}),m("Resource buffer truncated",{dropped:t,remaining:5e3})}});return t.observe({type:"resource",buffered:!1}),{observer:t,buffer:e}}catch{return{observer:null,buffer:e}}}();v.set(e,{sampleRate:t.sampleRate??1,binaryAnnotations:{},resourceObserver:i,resourceBuffer:o,startTimestamp:s,maxDuration:t.maxDuration??6e4}),w(e,"start",s),(0,g.Lc)({pwtName:e,annotateExperiments:(0,d.e0)(),version:"2"}),m(`Started ${e}`)})(e,{...t,sampleRate:s,maxDuration:i}),stop:t=>(function(e,t){var s;let i;if(!(0,p.A)())return;let _=v.get(e);if(!_)return void(0,g.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"stop",version:"2"});let b=t??performance.now();w(e,"end",b);let{startTimestamp:y}=_;x(e,"duration",`${h}:${e}:start`,`${h}:${e}:end`);let f=(0,c.A)(),j=(0,u.tQ)(),P={type:"stopwatch",name:e},M={type:"COMPLETE",metricId:P,traceId:f,startTime:y,endTime:b,spans:[...k(e,f),...(s=_.resourceBuffer,[{name:"network_resources",id:i=(0,c.A)(),parentId:f,startTime:y,endTime:b,annotationMap:{},binaryAnnotationMap:{}},...s.filter(e=>e.responseEnd>0&&e.startTime>=y&&e.responseEnd<=b).map(e=>(0,r.A)((0,a.B)(e,[]),i)).filter(Boolean)])],annotationMap:(0,n.A)(A(e)),binaryAnnotationMap:(0,o.jp)({metricId:P,pwtStaticContext:j,binaryAnnotations:_.binaryAnnotations,performanceResourceTimings:_.resourceBuffer,type:"COMPLETE",stopwatchVersion:2})};m(`Stopped ${e}`,{duration:b-y}),(0,l.A)({metricId:P,pwtStaticContext:j,result:M,sampleRate:_.sampleRate,stopwatchVersion:2}),(0,g.ed)({pwtName:e,annotateExperiments:(0,d.e0)(),version:"2"}),S(e)})(e,t),abort:t=>j(e,t),annotate:t=>{(0,p.A)()&&v.has(e)&&(w(e,t),m(`${e} annotation: ${t}`))},binaryAnnotate:(t,s,i)=>{let o;(o=v.get(e))&&(o.binaryAnnotations={...o.binaryAnnotations,[t]:{value:s,type:i}},m(`${e} binary: ${t}=${String(s)}`))},subspanStart:t=>{(0,p.A)()&&v.has(e)&&(w(e,`subspan:${t}:start`),m(`${e} subspan start: ${t}`))},subspanStop:t=>(function(e,t){if((0,p.A)()&&v.has(e)){w(e,`subspan:${t}:end`);try{x(e,`subspan:${t}`,`${h}:${e}:subspan:${t}:start`,`${h}:${e}:subspan:${t}:end`),m(`${e} subspan stop: ${t}`)}catch{m(`${e} subspan stop failed: ${t}`)}}})(e,t),isActive:()=>v.has(e)}}},782310(e,t,s){s.d(t,{A:()=>x});var i=s(859471),o=s(987628),a=s(1807),l=s(17775),r=s(88894),n=s(564954),c=s(385982),p=s(472723),g=s(746904),d=s(851116),u=s(355426),h=s(772807),m=s(54240),v=s(161235);let _=["closeup_dweb_blended_ui_organic","web_pwt_grid_profiler_v2"],b=(0,l.lo)("PwtStopwatch"),y=(e,t)=>{if(v.A){if("start"===t.type&&!e.isTiming){let{name:s,startTime:i,navigationType:o}=t;return(0,a.DM)(`TIMING.${s}`),{isTiming:!0,name:s,isSampled:t.isSampled,startTime:"number"==typeof i?i:v.A.now(),metricId:{type:"stopwatch",name:s,navigationType:o},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming)if(t.bypassIsTimingCheck)b("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{let s=t.name||e.name;return b("ignoring action - stopwatch is not actively timing",t),(0,a.DM)(`WARN.${s}.noTiming.${t.type}`),e}if("annotate"===t.type){let s=v.A.now();return b(`adding annotation {${t.label}: ${s}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:s}])}}if("binaryAnnotate"===t.type)return b(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[t.name]:{value:t.value,type:t.annotationType}}}};if("binaryAnnotateOperation"===t.type){let{value:s,type:i}=t.binaryAnnotationValueAndType;if(!e.binaryAnnotations[t.name])return{...e,binaryAnnotations:{...e.binaryAnnotations,...{[t.name]:{value:s,type:i}}}};{let o=e.binaryAnnotations[t.name].value||0;return b(`operating on binary annotation {
          name: ${t.name}
          pervious value: ${String(o)}
          operand: ${String(s)}
        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[t.name]:{value:s?t.operation(o,s):o,type:i}}}}}}if("addSubspan"===t.type){b(`adding subspan {${t.name}}`),-1!==e.spans.findIndex(e=>e.name===t.name)&&b(`WARNING: adding duplicate subspan name {${t.name}}`);let s=t.id||(0,m.A)();-1!==e.spans.findIndex(e=>e.id===s)&&b(`WARNING: adding duplicate subspan id {${t.name}: ${s}}`);let i=0;return t.startTime?i=t.startTime:e.startTime?i=e.startTime:b(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:s,startTime:i,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){b(`starting subspan {${t.name}}`),-1!==e.spans.findIndex(e=>e.name===t.name)&&b(`WARNING: starting duplicate subspan name {${t.name}}`);let s=t.id||(0,m.A)();-1!==e.spans.findIndex(e=>e.id===s)&&b(`WARNING: starting duplicate subspan id {${t.name}: ${s}}`);let i=t.parentName?e.spans.find(e=>e.name===t.parentName)?.id:null;return{...e,spans:[...e.spans,{name:t.name,id:s,parentId:t.parentId||i,startTime:v.A.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){b(`stopping subspan {${t.name}}`),!t.id&&e.spans.filter(e=>e.name===t.name).length>1&&(0,a.vV)("duplicate_subspan_stop_name",{name:t.name,type:t.type});let s=t.id?e.spans.findIndex(e=>e.id===t.id):e.spans.findIndex(e=>e.name===t.name);return s>-1?(e.spans[s].endTime=v.A.now(),t.annotations&&(e.spans[s].annotationMap={...e.spans[s].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[s].binaryAnnotationMap={...e.spans[s].binaryAnnotationMap,...t.binaryAnnotations})):(0,a.vV)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.filter(e=>e.name===t.currentName).length>1&&(0,a.vV)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});let s=e.spans.findIndex(e=>e.name===t.currentName);return s>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:t.currentName,newName:t.newName}]:(b(`renaming subspan {${t.currentName}} to {${t.newName}}`),e.spans[s].name=t.newName):(0,a.vV)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){let{startTime:s,metricId:i,pwtStaticContext:o,annotations:a,binaryAnnotations:l,isSampled:d,spans:h,traceId:y}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),d){let r=t.stopTime||v.A.now(),d=[...h.map(t=>{t.endTime===1/0&&(t.endTime=r);let s=e.spanNameUpdates.findIndex(e=>t.name===e.currentName);return s>-1&&(b(`renaming subspan {${t.name}} to {${e.spanNameUpdates[s].newName}}`),t.name=e.spanNameUpdates[s].newName,e.spanNameUpdates=e.spanNameUpdates.filter(e=>e.newName!==t.name)),t})];if(t.manualAndResourceSpans||0===h.length){let e=(0,m.A)();d.push({name:"network_resources",id:e,startTime:s,endTime:r,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map(t=>(0,g.A)((0,c.B)(t,[]),e)).filter(Boolean))}let f={type:"COMPLETE",metricId:i,traceId:y,startTime:s,endTime:r,spans:d,annotationMap:{...(0,u.A)(a)},binaryAnnotationMap:(0,n.jp)({annotateExperiments:_,metricId:i,pwtStaticContext:o,binaryAnnotations:l,performanceResourceTimings:t.customStopwatchBuffer||[],type:"COMPLETE",stopwatchVersion:1})};(0,p.A)({metricId:i,pwtStaticContext:o,result:f,annotateExperiments:_})}return(0,r.EG)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.A)(),spanNameUpdates:[]}}if("error"===t.type){let{error:s,stopwatchPerformanceObserver:i}=t;return s&&(0,a.vV)(s),i&&i.disconnect(),(0,r.EG)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.A)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();let s=t.reason||"",{startTime:i,metricId:o,pwtStaticContext:a,binaryAnnotations:l,traceId:c}=e,g={type:"ABORT",traceId:c,startTime:i,endTime:v.A.now(),spans:[],annotationMap:{},binaryAnnotationMap:(0,n.jp)({annotateExperiments:_,metricId:o,pwtStaticContext:a,binaryAnnotations:l,performanceResourceTimings:t.customStopwatchBuffer||[],type:"ABORT",stopwatchVersion:1}),reason:s};return(0,p.A)({metricId:o,pwtStaticContext:a,result:g,annotateExperiments:_}),(0,r.EG)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:c,spanNameUpdates:[]}}}return e};var f=s(749566),w=s(562615);let x=({name:e,sampleRate:t,abortOnUnloadOrClientNavigation:s=!0,navigationType:l,manualAndResourceSpans:n=!1})=>{let{Provider:c,getMaybe:p}=(0,o.A)(`Stopwatch_${e}`);return{Provider:function({children:o}){let p=(({name:e,sampleRate:t,navigationType:s,manualAndResourceSpans:o=!1})=>{let a=(0,d.A)(),l=(0,i.useRef)([]),n=(0,i.useRef)(null),c=(0,i.useRef)(null);null===c.current&&(c.current=(0,r.Qr)());let[p,g]=(0,i.useReducer)(y,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:c.current,spanNameUpdates:[]});return a?{isTiming:p.isTiming,name:p.name,start:i=>(window.PerformanceObserver&&(l.current=[],n.current=(0,h.A)({entryTypes:["resource"]},e=>{l.current=l.current.concat(e.getEntries()),l.current.length>1e3&&(l.current=l.current.slice(-1e3))})),g({type:"start",startTime:i,name:e,navigationType:s,pwtStaticContext:a,isSampled:!t||Math.random()<t})),stop:e=>g({type:"stop",stopTime:e,stopwatchPerformanceObserver:n.current,customStopwatchBuffer:l.current,manualAndResourceSpans:o}),error:e=>{g({type:"error",stopwatchPerformanceObserver:n.current,error:e})},abort:e=>g({type:"abort",stopTime:v.A?.now(),stopwatchPerformanceObserver:n.current,customStopwatchBuffer:l.current,reason:e}),annotate:(e,t,s=!1)=>g({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:s}),binaryAnnotate:(e,t,s,i,o=!1)=>g({type:"binaryAnnotate",name:e,value:t,annotationType:s,parentId:i,bypassIsTimingCheck:o}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:s,parentId:i,bypassIsTimingCheck:o=!1})=>g({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:s,parentId:i,bypassIsTimingCheck:o}),addSubspan:({name:e,startTime:t,endTime:s,annotations:i={},binaryAnnotations:o={},parentId:a=null,id:l=null,bypassIsTimingCheck:r=!1})=>g({type:"addSubspan",name:e,startTime:t,endTime:s,annotations:i,binaryAnnotations:o,parentId:a,id:l,bypassIsTimingCheck:r}),subspanStart:({name:e,annotations:t={},binaryAnnotations:s={},parentId:i=null,parentName:o=null,id:a=null,bypassIsTimingCheck:l=!1})=>g({type:"subspanStart",name:e,annotations:t,binaryAnnotations:s,parentId:i,parentName:o,id:a,bypassIsTimingCheck:l}),subspanStop:({name:e,annotations:t,binaryAnnotations:s,id:i,parentId:o,bypassIsTimingCheck:a=!1})=>g({type:"subspanStop",name:e,annotations:t,binaryAnnotations:s,id:i,parentId:o,bypassIsTimingCheck:a}),subspanUpdateName:({currentName:e,newName:t,bypassIsTimingCheck:s,updateWhenStopwatchCompletes:i=!0})=>g({type:"subspanUpdateName",currentName:e,newName:t,bypassIsTimingCheck:s,updateWhenStopwatchCompletes:i}),getSpans:(e,t)=>p.spans.filter(s=>s[e]===t),getTraceId:()=>p.traceId}:null})({name:e,sampleRate:t,navigationType:l,manualAndResourceSpans:n}),g=(0,f.A)(),u=g?g.time:0,m=(0,i.useRef)("NotStarted"),_=p?.isTiming,b=(0,i.useCallback)(t=>{"Started"===m.current?(m.current="Stopped",p?.abort(t)):(0,a.DM)(`WARN.${e}.noTiming.abort`)},[p]),x=(0,i.useCallback)((e,t)=>{p?.annotate(e,t)},[p]),A=(0,i.useCallback)((e,t,s,i)=>{p?.binaryAnnotate(e,t,s,i)},[p]),k=(0,i.useCallback)(({name:e,binaryAnnotationValueAndType:t,operation:s,parentId:i,bypassIsTimingCheck:o})=>{p?.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:s,parentId:i,bypassIsTimingCheck:o})},[p]),S=(0,i.useCallback)(({name:e,startTime:t,endTime:s,annotations:i,binaryAnnotations:o,parentId:a,id:l,bypassIsTimingCheck:r})=>{p?.addSubspan({name:e,startTime:t,endTime:s,annotations:i,binaryAnnotations:o,parentId:a,id:l,bypassIsTimingCheck:r})},[p]),j=(0,i.useCallback)(({name:e,annotations:t,binaryAnnotations:s,parentId:i,parentName:o,id:a,bypassIsTimingCheck:l})=>{p?.subspanStart({name:e,annotations:t,binaryAnnotations:s,parentId:i,parentName:o,id:a,bypassIsTimingCheck:l})},[p]),P=(0,i.useCallback)(({name:e,annotations:t,binaryAnnotations:s,id:i,parentId:o,bypassIsTimingCheck:a})=>{p?.subspanStop({name:e,annotations:t,binaryAnnotations:s,id:i,parentId:o,bypassIsTimingCheck:a})},[p]),M=(0,i.useCallback)(({currentName:e,newName:t,bypassIsTimingCheck:s,updateWhenStopwatchCompletes:i})=>{p?.subspanUpdateName({currentName:e,newName:t,bypassIsTimingCheck:s,updateWhenStopwatchCompletes:i})},[p]),I=(0,i.useCallback)((e,t)=>p?p.getSpans(e,t):[],[p]),z=(0,i.useCallback)(()=>p?p.getTraceId():"",[p]),E=(0,i.useCallback)(t=>{"Started"===m.current?(m.current="Stopped",p?.error(t)):(0,a.DM)(`WARN.${e}.noTiming.error`)},[p]),C=(0,i.useCallback)(e=>{"Started"===m.current&&p?.abort("duplicated_init_stopwatch_action"),m.current="Started",p?.start(e)},[p]),T=(0,i.useCallback)(e=>{"NotStarted"===m.current&&(m.current="Started",p?.start(e))},[p]),L=(0,i.useCallback)(t=>{"Started"===m.current?(m.current="Stopped",p?.stop(t)):(0,a.DM)(`WARN.${e}.noTiming.stop`)},[p]);(0,i.useEffect)(()=>()=>{s&&b("unloadOrClientNavigation")},[u]);let B=(0,i.useMemo)(()=>({name:e,isTiming:_,abort:b,addAnnotation:x,addBinaryAnnotation:A,binaryAnnotationOperation:k,addSubspan:S,subspanStart:j,subspanStop:P,getSpans:I,getTraceId:z,updateSubspanName:M,stop:L,error:E,start:C,startOnce:T}),[_,b,x,A,k,S,j,P,I,z,M,L,E,C,T]);return(0,w.jsx)(c,{value:B,children:o})},get:p}}},114735(e,t,s){s.d(t,{A:()=>o});let i=(0,s(16917).A)("search_tab_render");function o(){return i}},355426(e,t,s){s.d(t,{A:()=>i});let i=e=>{let t={};e.forEach(({label:e,timestamp:s})=>{t={...t,[e]:(t[e]||[]).concat([s])}});let s=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,i)=>{let o=i?`${e}_${i+1}`:e;s={...s,[o]:t}})}),s}},657171(e,t,s){s.d(t,{HV:()=>f,Ji:()=>_,OK:()=>p,OQ:()=>h,ZK:()=>w,gm:()=>v,ih:()=>d,kS:()=>b,lU:()=>m,oX:()=>c,pW:()=>u,uc:()=>y,x6:()=>n,z1:()=>g});var i=s(81920);let o="onloadRecaptchaJsCallback",a="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",l="recaptcha-enterprise-src",r=(e,t,s)=>{(0,i.GV)("recaptcha_v3.request_token.attempt",{sampleRate:.1,tags:{action:s}}),void 0===window.grecaptcha||void 0===window.grecaptcha.enterprise?(t(Error("Error loading reCAPTCHA Enterprise")),(0,i.GV)("recaptcha_v3.request_token.js_loading_error",{sampleRate:.1,tags:{action:s}})):window.grecaptcha.enterprise.ready(()=>{try{window.grecaptcha.enterprise.execute(a,{action:s}).then(e).catch(t)}catch(e){(0,i.GV)("recaptcha_v3.request_token.exec_error",{sampleRate:.1,tags:{action:s}}),t(e)}})},n=(e,t,s)=>{if(window[o]=()=>r(e,t,s),null!==document.getElementById(l))r(e,t,s);else{let e=document.createElement("script");e.id=l,e.src=`https://www.recaptcha.net/recaptcha/enterprise.js?onload=${o}&render=${a}`;let t=document.getElementsByTagName("script")[0];t.parentNode&&t.parentNode.insertBefore(e,t)}},c=105e3,p=8e3,g=3e4,d="mweb_auth",u="mweb_login",h="mweb_signup",m="web_auth",v="web_unauth",_="mweb_reset_password",b="web_reset_password",y="mweb_change_password",f="web_change_password",w="web_verify_phone"},161916(e,t,s){s.d(t,{A:()=>c});var i=s(859471),o=s(106386),a=s(810972),l=s(212244),r=s(120649);let n=(e,t,s)=>e.resources[t]?.[s];function c(e){let{name:t,optionsKey:s}=e??{name:"",optionsKey:""},c=t===l.W,p=(0,r.uN)(),g=p?.get(t,s);if(g)throw g;let d=(0,a.createSelector)(e=>n(e,t,s),e=>e?.data),u=(0,a.createSelector)(e=>n(e,t,s),e=>e?.auxData),h=(0,a.createSelector)(e=>n(e,t,s),e=>e?.error),m=(0,a.createSelector)(e=>n(e,t,s),e=>e?.nextBookmark),v=(0,o.d4)(m),_=(0,o.d4)(d),b=(0,o.d4)(u),y=(0,o.d4)(h),f=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(c)return f.current;let w={auxData:b,data:_,error:y,isAtEnd:"-end-"===v,nextBookmark:v};return(w.auxData!==f.current.auxData||w.data!==f.current.data||w.error!==f.current.error||w.isAtEnd!==f.current.isAtEnd||w.nextBookmark!==f.current.nextBookmark)&&(f.current=w),f.current}},888454(e,t,s){s.d(t,{fX:()=>a,kP:()=>o,uq:()=>i});let i="var(--sema-color-hover-background-secondary)",o="var(--sema-color-background-secondary)",a="0 0 0 4px rgba(0, 132, 255, .5)"},802209(e,t,s){s.d(t,{$G:()=>a,AP:()=>h,G2:()=>o,Kf:()=>n,Nc:()=>g,Qf:()=>r,Tx:()=>l,V1:()=>c,ZD:()=>m,hm:()=>p,iz:()=>_,xP:()=>u,xx:()=>v,ys:()=>d});var i=s(150880);let o={w:9,h:16},a=o.w/o.h,l=800,r=10,n=5e3,c=2e3;function p(e,t=1){return{x:(e??24)/5,y:(e??24)*(t-1)}}let g={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},d=[g.IMAGE,g.VIDEO],u={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},h=new i.rk(1),m=new i.K5([h]),v=new i.K5([m]),_=e=>{let t=Math.floor(e||0),s=Math.floor(t/60),i=t-60*s,o=s<10?`${s}`:s,a=i<10?`0${i}`:i;return`${o}:${a}`}},483877(e,t,s){s.d(t,{A:()=>i});let i=({url:e})=>""===e||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(e)},156602(e,t,s){s.d(t,{A:()=>c});var i=s(61163),o=s(859471),a=s(150880),l=s(562615);function r(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let n={default:{backgroundColor:"var(--sema-color-background-secondary)",boxShadow:"none"},drag:{backgroundColor:"var(--sema-color-background-default)",boxShadow:"var(--sema-space-0) var(--sema-space-0) var(--sema-space-0) var(--sema-space-25) var(--sema-color-border-education)"},error:{backgroundColor:"var(--sema-color-background-error-weak)",boxShadow:"var(--sema-space-0) var(--sema-space-0) var(--sema-space-0) var(--sema-space-25) var(--sema-color-border-error)"}};class c extends o.Component{constructor(...e){super(...e),r(this,"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),r(this,"handleOnDragEnter",e=>{let{onDragEnter:t}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!0}),t&&t(e)}),r(this,"handleOnDragLeave",e=>{let{onDragLeave:t}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!1}),t&&t(e)}),r(this,"handleOnDragOver",e=>{let{onDragOver:t}=this.props;e.preventDefault(),e.stopPropagation(),t&&t(e)}),r(this,"handleOnDrop",e=>{let{onDrop:t}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!1}),t&&t(e)}),r(this,"handleMouseEnter",()=>{let{onMouseEnter:e}=this.props;e&&e(),this.setState({isHoveringOver:!0})}),r(this,"handleMouseLeave",()=>{let{onMouseLeave:e}=this.props;e&&e(),this.setState({isHoveringOver:!1})}),r(this,"setContainedHeight",e=>{this.setState({containedHeight:e})})}getDragContainerStyles(e,t){return t&&"default"===e?{...n[e],backgroundColor:t}:n[e]}render(){let{children:e,color:t,dropRounding:s,hasError:i,height:o,position:r,width:n}=this.props,{isDraggingOver:c,isHoveringOver:p,containedHeight:g}=this.state;return(0,l.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{...this.getDragContainerStyles(c?"drag":i?"error":"default",t),...s?{borderRadius:s}:{}}},"data-test-id":"drag-behavior-container",height:o||g||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:r,rounding:200,width:n||"100%",children:e(c,p,this.setContainedHeight,g)})}componentDidMount(){(0,i.A)("DragBehavior","/app/packages/vip/DragBehavior.tsx")}}},543219(e,t,s){s.d(t,{A:()=>c});var i=s(61163),o=s(859471),a=s(150880),l=s(156602),r=s(562615);let n={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0},c=e=>{(0,o.useEffect)(()=>{(0,i.A)("FileUpload","/app/packages/vip/FileUpload.tsx")},[]);let[t,s]=(0,o.useState)(!1),c=t=>{let{onChange:s}=e;t.preventDefault(),t.stopPropagation(),s&&s(t),t.target.value=""},p=t=>{let{onClick:s}=e;s&&s(t)},{accept:g,accessibilityLabel:d,accessibilityDescription:u,allowMultipleFiles:h,children:m,color:v,dropRounding:_,hasError:b,height:y,id:f,onDrop:w,position:x,rounding:A=200,width:k,isAriaHidden:S,isRequired:j,experimentsClient:P}=e;return(0,r.jsx)(l.A,{color:v,dropRounding:_,experimentsClient:P,hasError:b,height:y,onDrop:w,position:x,width:k,children:e=>(0,r.jsxs)(a.az,{dangerouslySetInlineStyle:{__style:{...t?{border:"2px solid var(--sema-color-border-focus-outer-default)"}:{}}},height:"100%",onBlur:()=>s(!1),onFocus:()=>s(!0),position:"relative",rounding:A,children:[m(e),(0,r.jsx)("input",{accept:g,"aria-describedby":"upload-button-explanation","aria-hidden":S,"aria-invalid":b?"true":void 0,"aria-label":d,"data-test-id":f,id:f,multiple:h,onChange:c,onClick:p,required:j,style:n,tabIndex:S?-1:0,type:"file"}),u&&(0,r.jsx)(a.az,{display:"none",id:"upload-button-explanation",children:(0,r.jsx)(a.KJ,{children:u})})]})})}},835940(e,t,s){s.d(t,{A:()=>c,E:()=>n});var i=s(61163),o=s(859471),a=s(987628),l=s(562615);let{Provider:r,get:n}=(0,a.A)("ContentHeader");function c({children:e}){(0,o.useEffect)(()=>{(0,i.A)("ContentHeaderContext","/app/www/ContentHeader/ContentHeaderContext.tsx")},[]);let[t,s]=(0,o.useState)(!1),a=(0,o.useMemo)(()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:s}),[t]);return(0,l.jsx)(r,{value:a,children:e})}},900344(e,t,s){s.d(t,{I4:()=>c,jR:()=>n});var i=s(859471),o=s(987628),a=s(63661),l=s(562615);let{Provider:r,get:n}=(0,o.A)("HeaderShadow");function c({children:e}){let[t,s]=(0,i.useState)(!1),[o,n]=(0,i.useState)(0),[c,p]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=(0,a.A)(()=>{s(window.scrollY>0),n(window.scrollY)},50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let g=(0,i.useCallback)(e=>{p(e)},[]),d=(0,i.useMemo)(()=>({currentScrollPosition:o,isScrolled:t,setSubheaderShadow:g,subheaderShadow:c}),[o,t,g,c]);return(0,l.jsx)(r,{value:d,children:e})}},856865(e,t,s){s.d(t,{A:()=>a});var i=s(586754),o=s(743858);function a(){let{enabled:e}=(0,i.A)(),{enabled:t}=(0,o.A)();return{enabled:e||t}}},743858(e,t,s){s.d(t,{A:()=>p});var i=s(979638),o=s(693154),a=s(115795),l=s(601185),r=s(844255),n=s(642477),c=s(971289);let p=function(){let e=(0,o.A)(),{isRTL:t}=(0,r._8)(),s=(0,i.zy)(),p="desktop"===(0,c.Ay)(),g=(0,n.A)(),d=p&&(0,l.A)().checkExperiment("unauth_dweb_extra_icons_experiment").anyEnabled;return{enabled:(g||d)&&p&&!(0,a.NF)(s)&&!(0,a.BG)(s)&&!(0,a.fF)(s)&&!(0,a.qi)(s)&&!(0,a.TS)(s)&&!t&&!e.isAuth}}},409652(e,t,s){s.d(t,{A:()=>g});var i=s(61163),o=s(859471),a=s(150880),l=s(586733),r=s(567176),n=s(538329),c=s(542975),p=s(562615);function g({boardName:e,boardUrl:t,isBoardlessPin:s,isFromPinBuilder:g,hasNewPin:d,onChangeButtonClick:u,onVisitButtonClick:h=()=>{},onHide:m,onUndo:v,pinImageUrl:_}){let b;(0,o.useEffect)(()=>{(0,i.A)("PostSavedPinToast","/app/www/common/PinBetterSave/PostSavedPinToast.tsx")},[]);let y=(0,n.A)(),{logContextEvent:f}=(0,l.o)();g?b={accessibilityLabel:y._('Visit Pin', 'PostSavedPinToast.a11yVisitButton', 'Accessibility label for Visit Pin saved from PinBuilder'),label:y._('Visit', 'PostSavedPinToast.VisitButton', 'Visit Pin saved from PinBuilder'),size:"lg",role:"button",onClick:h}:(u||v)&&(b={accessibilityLabel:d&&s&&u?y._('Change Pin destination', 'PostSavedPinToast.a11yChangeButton', 'Change saved pin to a different destination'):y._('Undo Saved Pin', 'PostSavedPinToast.a11yUndoButton', 'Undo Saved Pin'),label:d&&s&&u?y._('Change', 'PostSavedPinToast.ChangeButton', 'Change saved pin to a different destination'):y._('Undo', 'PostSavedPinToast.UndoButton', 'Undo Saved Pin'),size:"lg",role:"button",onClick:d&&s&&u?()=>u():v});let w=()=>{d&&s&&u&&f({event_type:101,component:14409})};return(0,p.jsx)(r.A,{duration:s?6e3:3e3,imageUrl:_,onHide:m,primaryAction:b,text:(0,p.jsx)(a.KJ,{overflow:"normal",size:"200",children:(0,c.$w)({text:y._('Saved to <a id="1">{{ boardName }}</a>', 'PostSavedPinToast.SavedToBoardToast.Message', 'Saved to label for better save. boardName: url to saved board'),markers:{boardName:e??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(a.N_,{display:"block",href:s?"/me/":t??"",onClick:w,children:(0,p.jsx)(a.KJ,{lineClamp:1,size:"200",weight:"bold",children:e},"PostSavedPinToastBoardName")})}})}),thumbnail:s?{icon:(0,p.jsx)(a.In,{accessibilityLabel:y._('Saved to profile thumbnail', 'PostSavedPinToast.thumbnail.accessibilityLabel', 'Thumbnail for saved to profile.'),color:"default",icon:"clock-history",size:24})}:void 0})}},745489(e,t,s){s.d(t,{A:()=>c,a:()=>n});var i=s(61163),o=s(859471),a=s(150880),l=s(114735),r=s(562615);let n={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function c({backgroundColor:e,children:t,coverImage:s,disableTabIndex:c,height:p,id:g,isHovered:d,onClick:u,onMouseDown:h,onMouseEnter:m,onMouseLeave:v,searchBoxRenderStopwatch:_,url:b,width:y}){(0,o.useEffect)(()=>{(0,i.A)("BubbleWrapper","/app/www/discover/Bubbles/BubbleWrapper.tsx")},[]);let[f,w]=(0,o.useState)(!1),x=()=>{m?m():w(!0)},A=()=>{v?v():w(!1)},k=d||f,S=k?n.hoverOverlay:n.bubbleOverlay;return(0,r.jsx)(a.$A,{href:b,onBlur:A,onFocus:x,onMouseDown:h,onMouseEnter:x,onMouseLeave:A,onTap:()=>{u?.(g)},rounding:400,tabIndex:c?-1:void 0,children:(0,r.jsx)(a.n1,{height:p,rounding:400,width:y||"100%",children:s?.url?(0,r.jsxs)(a._V,{alt:"",color:e,fit:"cover",naturalHeight:s.height??1,naturalWidth:s.width??1,onLoad:()=>{_?.stop();let e=(0,l.A)();e.isActive()&&e.stop()},role:"presentation",src:s.url,children:[(0,r.jsx)(a.az,{dangerouslySetInlineStyle:{__style:S},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:k}):t]}):(0,r.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},826828(e,t,s){s.d(t,{A:()=>st});var i=s(61163),o=s(859471),a=s(150880),l=s(836664),r=s(538329),n=s(782310);let{Provider:c,get:p}=(0,n.A)({name:"autocomplete_render",sampleRate:1}),{Provider:g,get:d}=(0,n.A)({name:"search_tab_render",sampleRate:1});var u=s(844255),h=s(177052),m=s(979638),v=s(586733),_=s(655352),b=s(693154),y=s(131094),f=s(562615);function w({gradientPrimaryColor:e,gradientSecondaryColor:t,gradientDirection:s,position:i}){return(0,f.jsx)(a.az,{bottom:"bottom"===i,dangerouslySetInlineStyle:{__style:{backgroundImage:`linear-gradient(${s}, ${e}, ${t})`,pointerEvents:"none"}},height:16,position:"absolute",rounding:"pill",top:"top"===i,width:"100%",zIndex:new a.rk(1)})}let x={color:"var(--sema-color-text-subtle)",fontFamily:"var(--sema-font-family-body-300)",fontSize:"var(--sema-font-size-body-300)",fontWeight:"var(--sema-font-weight-body-100-default)",letterSpacing:"var(--sema-font-letterspacing-body-300)",lineHeight:"var(--sema-font-lineheight-body-300)"},A=({term:e})=>(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{...x,display:"inline",textOverflow:"ellipsis",whiteSpace:"nowrap"}},overflow:"hidden",children:e});function k({defaultPlaceholder:e,gradientSecondaryColor:t="#FFF",height:s=48,suggestedSearchTerms:l}){let n;(0,o.useEffect)(()=>{(0,i.A)("DynamicSearchPlaceholder","/app/packages/search/DynamicSearchPlaceholder.tsx")},[]);let c=(0,r.A)(),p=l.length<3,g=(0,o.useRef)(null);return(0,f.jsx)(a.az,{ref:g,alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"dynamic-search-placeholder",display:"flex",height:s,overflow:"hidden",position:"relative",children:p?(0,f.jsx)(a.KJ,{color:"subtle",inline:!0,children:e}):(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(w,{gradientDirection:"to top",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:t,position:"top"}),(0,f.jsx)(w,{gradientDirection:"to bottom",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:t,position:"bottom"}),(0,f.jsxs)(a.so,{alignItems:"stretch",height:20,justifyContent:"start",children:[(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{...x,display:"inline"}},children:c._('Search for', 'searchBar.placeholder.dynamicText', 'Placeholder in search input. This text is followed by a set of animated search phrases like "Search for aesthetic art"')}),(0,f.jsx)(y.A,{unsafeCSS:`
@keyframes slide-3-terms-loop {
  0%, 21.74% {
    transform: translateY(0%);
  }
  33.33%, 55.07% {
      transform: translateY(-25%);
  }
  66.66%, 88.4% {
      transform: translateY(-50%);
  }
  100% {
      transform: translateY(-75%);
  }
}
@keyframes slide-4-terms-loop {
  0%,16.3% {
    transform: translateY(0%);
  }
  25%,41.3%{
    transform: translateY(-20%);
  }
  50%,66.3%{
    transform: translateY(-40%);
  }
  75%,91.3%{
    transform: translateY(-60%);
  }
  100% {
    transform: translateY(-80%);
  }
}
@keyframes slide-5-terms-loop {
  0%, 13.04% {
    transform: translateY(0%);
  }
  20%,33.04%{
    transform: translateY(-16.66%);
  }
  40%,53.04%{
    transform: translateY(-33.33%);
  }
  60%,73.04%{
    transform: translateY(-49.98%);
  }
  80%,93.04%{
    transform: translateY(-66.64%);
  }
  100% {
    transform: translateY(-83.3%);
  }
}
`}),(0,f.jsx)(a.az,{children:(0,f.jsxs)(a.az,{dangerouslySetInlineStyle:(n=l.length,{__style:{animation:`slide-${n}-terms-loop ${2.3*(n+1)}s ease-out infinite forwards`}}),display:"inlineBlock",marginStart:1,children:[l.map(e=>(0,f.jsx)(a.az,{marginBottom:7,children:(0,f.jsx)(A,{term:e})},e)),(0,f.jsx)(a.az,{marginBottom:7,children:(0,f.jsx)(A,{term:l[0]??""})})]})})]})]})})}var S=s(168079),j=s(808666);function P(){(0,o.useEffect)(()=>{(0,i.A)("InlineACSuggestion","/app/packages/search/InlineACSuggestion.tsx")},[]);let{displayedQuery:e,inlineACSuggestion:t,logInlineSuggestionView:s}=(0,j.Z)();return(0,S.A)(()=>{s()}),(0,f.jsxs)(a.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:[(0,f.jsx)("span",{style:{visibility:"hidden"},children:(0,f.jsx)(a.KJ,{color:"disabled",inline:!0,children:e})}),(0,f.jsx)(a.KJ,{color:"subtle",inline:!0,children:t.slice(e.length)})]})}var M=s(145200),I=s(888454);let z="search-text-area-floating";var E=s(184240),C=s(106386),T=s(115795),L=s(430705),B=s(803489),R=s(601185),D=s(586754),$=s(532463);function U(){let e=(0,m.zy)(),t=function(){let{checkExperiment:e}=(0,R.A)();return(0,D.A)().enabled&&e("dweb_search_omnipresent_multimodal").anyEnabled}(),{group:s}=(0,$.A)()||{group:""},i=t&&(0,T.dM)(e)&&e.pathname.split("/")[2]||"",a=t&&(0,T._p)(e)?(0,B.A)(e.search).query_image_pins?.toString():"",l=a||i,{setMultimodalPinId:r}=(0,j.Z)(),n=(0,C.d4)(({pins:e})=>e[l||""]),{data:c,isFetching:p}=(0,L.A)(n?null:{name:"ApiResource",options:{url:`/v3/pins/${l}/`,data:{fields:["pin.images[236x]","pin.is_unsafe"]}}}),g=n??c;return((0,o.useEffect)(()=>{a?r(a):i&&!s.includes("optin")&&g&&!g.is_unsafe?r(i):r("")},[i,a,s,r,g]),t&&!g&&p)?{pinId:l}:t&&g&&!g.is_unsafe?{pinId:l,imageData:g.images?.["236x"]}:{}}var N=s(999370);function O({disabled:e=!1,name:t,inlineSYOP:s=!1}){(0,o.useEffect)(()=>{(0,i.A)("SearchInput","/app/packages/search/SearchInput.tsx")},[]);let l=(0,r.A)(),n=(0,o.useRef)(null),c=(0,o.useRef)(void 0),{isAuth:p}=(0,b.A)(),g=(0,m.zy)(),d=(0,a.Ib)(),u=!!(0,$.A)()&&!s,{pinId:h,imageData:w}=U(),{logContextEvent:x}=(0,v.o)();(0,S.A)(()=>{x({event_type:120,component:43,element:227})});let{delayedSearchBoxOpen:A,displayedQuery:C,handleInputBlur:T,handleInputChange:L,handleInputClick:B,handleInputFocus:R,handleKeyDown:D,handleKeyUp:O,suggestionsFocusIndex:F,suggestionGroups:V,inlineACSuggestion:H,isInTypeaheadSession:G,handleTypedSearchSubmit:W,multimodalPinId:K,searchBoxPlaceholder:q,searchBoxHovered:Y,setVoiceSearchPlaceholder:J,suggestedSearchTerms:Z,voiceSearchPlaceholder:X}=(0,j.Z)(),Q=(0,E.TR)({suggestionsFocusIndex:F,suggestionGroups:V}),ee=K&&!u&&G,{isEligiblePageTypeForDynamicSearchPlaceholder:et}=(0,M.$)(g);(0,o.useEffect)(()=>{X&&c.current&&(c.current.pathname!==g.pathname||c.current.search!==g.search)&&J(N.g.NULL),c.current=g},[g,X,J]),(0,S.A)(()=>{n.current&&W&&n.current.addEventListener("searchTrigger",W)}),(0,o.useEffect)(()=>{n.current&&(document.activeElement===n.current!==G?G?n.current.focus():n.current.blur():J(N.g.NULL))},[G,J,K]),(0,S.A)(()=>{!n.current||new URLSearchParams(window.location.search).get("search_box_open")&&A()});let es=!d&&!p&&et&&!C,ei=l._('Looking for something?', 'searchBox.searchInput.placeholder.omnipresent', 'placeholder text for the omnipresent search box'),eo=es?"":K&&l._('Refine your search', 'searchBox.searchInput.placeholder.multimodal', 'placeholder text for the search box when a multimodal pin is selected')||(u||h)&&ei||q||l._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),ea=K&&w&&`padding-left: ${Math.round(108*(w.width||1)/(w.height||2))+4}px !important;`||u&&!G&&!C&&"padding-left: 36px !important;"||"",el=h&&w&&`padding-left: ${Math.round(40*(w.width||1)/(w.height||2))+4+12*!!G-8}px !important;`||"";return(0,f.jsxs)(a.az,{flex:"grow",height:"100%",children:[(0,f.jsx)(y.A,{unsafeCSS:`
          div:has(> #${z}) {
            border-radius: 20px !important;
            ${!G?"border: none !important":""}
          }
          #${z} {
            font-size: 20px !important;
            width: calc(100% - 20px) !important;
            ${ea}
          }
          input::placeholder {
          color: var(--sema-color-text-subtle)${es?"; display: none":""}
          }
          input {
            ${h?el:""}
          }`}),u||ee?(0,f.jsx)(a.fs,{ref:n,"data-test-id":"search-box-input",disabled:e,id:z,onBlur:({event:e})=>{T(e)},onChange:({event:e})=>{L(e)},onClick:({event:e})=>{B(e)},onFocus:({event:e})=>{R(e)},onKeyDown:({event:e})=>{D(e)},onKeyUp:({event:e})=>{O(e)},placeholder:eo,rows:3,value:C}):(0,f.jsx)("input",{ref:n,"aria-activedescendant":Q,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-expanded":G,"aria-label":l._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off","data-gestalt-valid-html":"SearchField","data-test-id":"search-box-input",disabled:e,name:t,onBlur:T,onChange:L,onClick:B,onFocus:R,onKeyDown:D,onKeyUp:O,placeholder:eo,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"var(--sema-color-text-default)",fontFamily:_.A,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:C}),!!H&&(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:13}},position:"absolute",top:!0,width:"85%",children:(0,f.jsx)(P,{})}),es&&(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",top:!0,width:"85%",children:(0,f.jsx)(k,{defaultPlaceholder:eo,gradientSecondaryColor:Y?I.uq:I.kP,suggestedSearchTerms:Z})}),(0,f.jsx)(a.az,{display:"none",id:"searchBoxAccessibleText",children:l._(`When autocomplete results are available use up and down arrows to
                review and enter to select. Touch device users, explore by touch or
                with swipe gestures.`, 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}var F=s(497384),V=s(826258),H=s(108173),G=s(890922),W=s(224723),K=s(584342);function q({contentTypes:e,contentTypesAnchor:t,handleSelectFilter:s,onDismiss:l}){return(0,o.useEffect)(()=>{(0,i.A)("ContentFilterList","/app/www/discover/SearchBox/ContentFilterList.tsx")},[]),(0,f.jsx)(a.ms,{anchor:t,disableMobileUI:!0,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:l,zIndex:new a.rk(K.d1),children:e.map((e,t)=>(0,f.jsx)(a.ms.Item,{dataTestId:"search-filter-"+e.dataId,onSelect:()=>s(t),option:{value:e.text,label:e.text},children:(0,f.jsx)(a.KJ,{weight:[W.cO.PINS,W.cO.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text))})}var Y=s(856865),J=s(845754);let Z=function({currentlySelectedFilter:e,currentQuery:t,handleContentTypeFilterHover:s,handleScopeChange:i}){let l,n,{logContextEvent:c}=(0,v.o)(),p=(0,r.A)(),g=(n=(l=[{scope:W.cO.PINS,text:p._('All Pins', 'All Pins label for content type filters on search bar', 'All Pins label for content type filters on search bar'),dataId:"all-pins"},{scope:W.cO.PINS_MINE,text:p._('Your Pins', 'Your Pins label for content type filters on search bar', 'Your Pins label for content type filters on search bar'),dataId:"your-pins"}]).findIndex(e=>e.scope===W.cO.PINS_MINE),l.push(l.splice(n,1)[0]),l),d=(0,o.useRef)(null),u=(0,m.Zp)(),{enabled:h}=(0,Y.A)(),[_,b]=(0,o.useState)(e||g[0].scope),[y,w]=(0,o.useState)(!1),[x,A]=(0,o.useState)(!1);(0,S.A)(()=>{c({event_type:120,view_type:2,component:215})}),(0,o.useEffect)(()=>{b(e)},[e]);let k=(g[_?g.findIndex(e=>e.scope===_):0]||g[0]).text,j=(0,f.jsx)(a.az,{ref:d,dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:48}},"data-test-id":"search-filter",overflow:"hidden",children:(0,f.jsxs)(a.az,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,f.jsx)(a.KJ,{inline:!0,size:"200",weight:"bold",children:k}),(0,f.jsx)(a.az,{marginStart:2,children:(0,f.jsx)(a.In,{accessibilityLabel:p._('Dropdown', ' - ', ' -- '),color:"default",icon:"chevron-down",inline:!0,size:12})})]})});return(0,f.jsxs)(a.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:x?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:48,left:!0,marginStart:2,position:"relative",rounding:h?J.Xr:600,children:[(0,f.jsx)(a.Rp,{fullHeight:!0,fullWidth:!1,onMouseEnter:()=>void(A(!0),s&&s(!0)),onMouseLeave:()=>void(A(!1),s&&s(!1)),onTap:({event:e})=>{e&&(e.preventDefault(),e.stopPropagation()),w(!y),c({event_type:101,component:215,aux_data:{entered_query:t}})},rounding:600,children:j}),y&&(0,f.jsx)(q,{contentTypes:g,contentTypesAnchor:d.current,handleSelectFilter:e=>{let s=g[e].scope;b(s),w(!1),c({event_type:101,component:215,element:(e=>{switch(e){case W.cO.PINS:return 220;case W.cO.PINS_MINE:return 223;case W.cO.PINS_VIDEO:return 11399;case W.cO.BOARDS:return 221;case W.cO.USERS:return 222;default:return null}})(s),aux_data:{entered_query:t}}),i(s),t&&u(`/search/${s}/?q=${encodeURIComponent(t)}&rs=${G.I.FILTER}`)},onDismiss:()=>w(!1)})]})};var X=s(284966);function Q({children:e,hideOnScroll:t,isInTypeaheadSession:s,searchBoxHovered:i}){let[a,l]=(0,o.useState)(!1),r=(0,o.useRef)(null),n=(0,o.useRef)(null),c=(0,o.useRef)(!1),p=(0,o.useRef)(!1),g=(0,o.useRef)(!0);function d(){g.current||c.current&&!r.current&&(r.current=setTimeout(()=>{l(!0)},150))}function u(){c.current&&(!p.current&&r.current&&h(),null!==n.current&&(clearTimeout(n.current),n.current=null),n.current=setTimeout(()=>{l(!1),n.current=null},2e3))}function h(){r.current&&(clearTimeout(r.current),r.current=null)}function m(){null!==n.current&&(clearTimeout(n.current),n.current=null)}return(0,o.useEffect)(()=>{let e=setTimeout(()=>{g.current=!1},600);return()=>clearTimeout(e)},[]),(0,o.useEffect)(()=>{c.current=t,p.current=a},[t,a]),(0,o.useEffect)(()=>{if(!a||!s&&!i)return;h(),m();let e=requestAnimationFrame(()=>{l(!1)});return()=>cancelAnimationFrame(e)},[a,s,i]),(0,o.useEffect)(()=>{a||h()},[a]),(0,S.A)(()=>{let e=(0,X.A)(d,10),t=(0,X.A)(u,10);return window.addEventListener("scroll",e),window.addEventListener("scrollend",t),()=>{window.removeEventListener("scroll",e),window.removeEventListener("scrollend",t),h(),m()}}),e({isHidden:a,updateHiddenState:l})}var ee=s(296221),et=s(385800);function es(){let e=(0,$.A)(),{imageData:t,pinId:s=""}=U(),{width:i,height:l,url:n}=t||{},{hovered:c,onMouseEnter:p,onMouseLeave:g}=(0,et.A)(),{multimodalPinId:d,setMultimodalPinId:h,handleClearSearch:m,isInTypeaheadSession:v}=(0,j.Z)(),_=(0,r.A)(),{isRTL:b}=(0,u._8)(),y=!e&&(!v||!d),w=!y||v,x=y&&!d,A=y&&40||d&&108||54,k=d||x?(i||1)/(l||2)*A:A,[S,P]=(0,o.useState)(null);return n&&(0,f.jsxs)(a.az,{ref:P,alignItems:"end",dangerouslySetInlineStyle:{__style:{[b?"right":"left"]:-4,bottom:-4}},display:"flex",justifyContent:"center",padding:2,position:"absolute",children:[(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{boxShadow:"var(--sema-elevation-shadow-raised)"}},height:A,position:"relative",rounding:400,width:k,children:(0,f.jsxs)(a.Rp,{onMouseDown:({event:e})=>{e.preventDefault(),e.stopPropagation()},onMouseEnter:p,onMouseLeave:g,onTap:()=>{d?m({clearMultimodalPinId:!0}):h(s)},rounding:y?200:400,children:[(0,f.jsx)(a.n1,{height:A,rounding:y?200:400,wash:!0,width:k,children:(0,f.jsx)(a.n1,{height:A,rounding:y?200:400,wash:c,width:k,children:(0,f.jsx)(a.az,{"aria-label":_._('Search with this Pin', 'MultimodalSearchPinImage.image.altText', 'Alt text for the multimodal search pin image'),dangerouslySetInlineStyle:{__style:{border:y?"1px solid white":void 0,background:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center"}},height:A,rounding:y?200:400,width:k})})}),w&&(0,f.jsx)(a.az,{bottom:!x,dangerouslySetInlineStyle:{__style:x?b?{bottom:4,left:-15}:{bottom:4,right:-15}:{}},left:b,padding:1,position:"absolute",right:!b,children:(0,f.jsx)(a.K0,{accessibilityLabel:d?_._('Remove', 'MultimodalSearchPinImage.removeButton.accessibilityLabel', 'Accessibility label for button to remove the multimodal search pin'):_._('Add', 'MultimodalSearchPinImage.addButton.accessibilityLabel', 'Accessibility label for button to add the multimodal search pin'),bgColor:"default",icon:d?"close":"plus",size:"xs"})})]})}),!y&&(0,f.jsx)(a.az,{padding:2,children:(0,f.jsx)(a.Ex,{text:_._('Beta', 'searchbox.multimodalSearch.betaBadge', 'Beta badge for multimodal search')})}),(0,f.jsx)(ee.En,{anchor:S,experienceIds:[508714],idealDirection:b?"right":"left",placementId:12,positionRelativeToAnchor:!1,showCaret:!0,textWeight:"normal"})]})}function ei(){(0,o.useEffect)(()=>{(0,i.A)("MultimodalSearchPinImage","/app/www/discover/SearchBox/MultimodalSearchPinImage.tsx")},[]);let{pinId:e}=U();return e?(0,f.jsx)(es,{}):null}function eo({hasAppliedQuery:e,onClear:t,isInlineSYOP:s}){(0,o.useEffect)(()=>{(0,i.A)("ClearSearchButton","/app/www/discover/SearchBox/SearchBoxActions/ClearSearchButton.tsx")},[]);let l=(0,r.A)(),n=!!(0,$.A)()&&!s,{isInTypeaheadSession:c,multimodalPinId:p}=(0,j.Z)(),g=n||p&&!n&&c,{logContextEvent:d}=(0,v.o)();return(0,S.A)(()=>{d({event_type:120,view_type:2,component:43,element:73})}),(0,f.jsx)(a.az,{alignItems:"center",dangerouslySetInlineStyle:g?{__style:{bottom:60}}:void 0,"data-test-id":"search-cancel",display:"flex",height:48,justifyContent:"center",position:g?"absolute":void 0,right:!!g,rounding:e&&!g?300:400,width:48,children:(0,f.jsx)(a.K0,{accessibilityLabel:l._('Remove search input', 'searchBox.removeSearchInput.accessibilityLabel', 'Accessibility label to remove the search input'),icon:e&&!g?"close":"circle-close",iconColor:"default",onClick:t,padding:e&&!g?2:void 0,size:e&&!g?"sm":"lg"})})}var ea=s(299374),el=s(49241);let er={state:"idle",color:"subtle",borderColor:"var(--sema-color-border-decorative)",iconColor:"dark",iconName:"circle-arrow-up"},en={state:"dragging",color:"infoWeak",borderColor:"var(--sema-color-border-focus-outer-default)",iconColor:"dark",iconName:"circle-arrow-up"},ec={state:"error",color:"errorWeak",borderColor:"var(--sema-color-border-error)",iconColor:"error",iconName:"circle-exclamation-point"};function ep({error:e,isDraggingOver:t,setValidationError:s}){(0,o.useEffect)(()=>{(0,i.A)("LensDropZoneContent","/app/common/react/components/Lens/Uploader/Popover/FileUpload/LensDropZoneContent.tsx")},[]);let l=(0,r.A)(),{state:n,color:c,borderColor:p,iconColor:g,iconName:d}=function({error:e,isDraggingOver:t}){return t?en:e?ec:er}({isDraggingOver:t,error:e});return(0,o.useEffect)(()=>{t&&e&&s("")},[t,e,s]),(0,f.jsx)(a.az,{alignItems:"center",color:c,dangerouslySetInlineStyle:{__style:{borderColor:p,borderStyle:"dashed",borderWidth:2}},direction:"column",display:"flex",height:"100%",justifyContent:"center",paddingY:10,rounding:800,children:(0,f.jsxs)(a.so,{alignItems:"center",direction:"column",gap:{column:4,row:0},justifyContent:"center",children:[(0,f.jsx)(a.In,{accessibilityLabel:l._('Upload photo', 'lens.fileUpload.icon', 'Accessibility label for the Lens file upload icon'),color:g,icon:d,size:32}),(0,f.jsx)(a.az,{width:320,children:"error"===n?(0,f.jsx)(a.KJ,{align:"center",color:"error",children:e}):(0,f.jsx)(a.KJ,{align:"center",children:l._('Choose a file or drag and drop it here', 'lens.fileUpload.instruction', 'Instructional text for dragging or selecting a file in Lens upload')})})]})})}let eg="MULTIPLE_IMAGES",ed="NO_FILE",eu="URL_VALIDATION",eh="UNSUPPORTED_FORMAT",em="IMAGE_TOO_LARGE",ev="DATA_URL_INVALID",e_="REMOTE_URL_FAILED",eb="NO_RESULTS",ey="GENERIC";class ef extends Error{constructor(e,t){var s,i;super(e,t),(s="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s="name","string"))?i:i+"")in this?Object.defineProperty(this,s,{value:"LensError",enumerable:!0,configurable:!0,writable:!0}):this[s]="LensError",this.type=e}}let ew=e=>e._('Something went wrong. Please try again', 'lens.error.uploadFailed', 'Generic fallback error message when no specific error applies'),ex=(e,t)=>{switch(t){case eg:return e._('Upload a single image and try again.', 'lens.error.multipleImages', 'Error message when user drops multiple images instead of one');case ed:return e._('No image found. Try dragging an image file.', 'lens.error.noFile', 'Error message when user drops content with no valid image file');case eu:return e._('Double check the image URL and try again.', 'lens.error.urlValidation', 'Error message when user enters a malformed or invalid URL in Lens');case eh:return e._('Something went wrong. Upload a .jpg, .gif, .png, .tif, or .webp file or an image link.', 'lens.error.unsupportedFormat', 'Error message when user uploads an unsupported image format');case em:return e._('This image is too large. Try a smaller image.', 'lens.error.imageTooLarge', 'Error message when the image exceeds size limits for processing');case ev:return e._('Couldn\'t load image from URL. Try a different image.', 'lens.error.dataUrlInvalid', 'Error when data URL is invalid (e.g. malformed base64, corrupted data)');case e_:return e._('Unable to add link. Try saving and uploading the image.', 'lens.error.remoteUrlFailed', 'Error when fetching remote URL fails (site blocked, network error, server error)');case eb:return e._('No results found for this image. Try uploading another image.', 'lens.error.noResults', 'Error message when no visual search results are found for the uploaded image');default:return ew(e)}};var eA=s(196861);async function ek(e,t){return new Promise((s,i)=>{e.toBlob(e=>{e?s(e):i(Error("Canvas toBlob failed"))},t,el.Et)})}async function eS(e,t,s=eh){let i=await (0,eA.A)({file:e,i18n:t,ideaPinRenamingEnabled:!1,options:{allowVideo:!1}});if("error"===i.type)throw new ef(s,{cause:i.message||"File validation failed"});let o=await createImageBitmap(e),{width:a,height:l}=o,r=a>el.Dj?el.Dj/a:1,[n,c]=[Math.round(a*r),Math.round(l*r)],p=document.createElement("canvas");p.width=n,p.height=c;let g=p.getContext("2d");if(!g)throw o.close(),new ef(ey,{cause:"Failed to create canvas context"});g.drawImage(o,0,0,n,c),o.close();let d=await ek(p,el.g0),u=new File([d],"lens-file-image",{type:d.type}),h=URL.createObjectURL(u);return{file:u,src:h,width:n,height:c}}var ej=s(910409);async function eP(e,t){let s,i=e.split(",")[1];if(!i)throw new ef(ev,{cause:"Missing base64 data in data URL"});try{s=(0,ej.A)(i)}catch(e){throw new ef(ev,{cause:e||"Failed to decode base64 image"})}return eS(s,t,ev)}var eM=s(457315),eI=s(257300);async function ez(e){let t,s;try{t=await (0,eI.A)({url:el.UQ,method:"GET",data:{url:e}})}catch(e){switch((0,eM.A)(e,"api_error_code")){case 2654:throw new ef(eh,{cause:e});case 2655:throw new ef(em,{cause:e});default:throw new ef(e_,{cause:e})}}let i=t.resource_response.data?.image_file;if(!i)throw new ef(e_,{cause:"Missing image_file in V3_LENS_UPLOAD_HANDLER response"});try{s=(0,ej.A)(i)}catch(e){throw new ef(e_,{cause:e||"Failed to decode base64 image from server"})}let o=URL.createObjectURL(s),a=await createImageBitmap(s),{width:l,height:r}=a;return a.close(),{file:s,src:o,width:l,height:r}}function eE(e,t){return e.startsWith("data:image")?()=>eP(e,t):()=>ez(e)}var eC=s(997737),eT=s(543219);let eL=`
  [data-test-id='lens-file-upload'] [data-test-id='drag-behavior-container'] {
    box-shadow: none !important;
  }
  [data-test-id='lens-file-upload'] [data-test-id='drag-behavior-container'] > div {
    border: none !important;
  }
`;function eB({error:e,isDisabled:t=!1,setValidationError:s,uploadImage:l}){(0,o.useEffect)(()=>{(0,i.A)("LensFileUpload","/app/common/react/components/Lens/Uploader/Popover/FileUpload/LensFileUpload.tsx")},[]);let n=(0,r.A)(),{handleFileSelect:c,handleFileAndUrlDrop:p}=function({isDisabled:e,setValidationError:t,uploadImage:s}){let i=(0,r.A)(),{logContextEvent:o}=(0,v.o)();return{handleFileSelect:a=>{if(e)return;let l=function(e){if(e&&e.length>1)return{type:"multipleFiles"};let t=e?.[0];return t?{type:"file",file:t}:{type:"noFile"}}(a.target.files);switch(o({component:el.SY,element:14558,event_type:15656,view_type:el.CR}),l.type){case"file":s(()=>eS(l.file,i),el.nb,"file");break;case"multipleFiles":t(ex(i,eg));break;case"noFile":t(ex(i,ed))}},handleFileAndUrlDrop:a=>{if(e)return;let l=function(e){let t=e.types.includes("text/uri-list"),s=e.getData("text/uri-list").split(`
`).find(e=>e&&!e.startsWith("#"))??null,{files:i}=e;return s?{type:"url",url:s,fromBrowser:!0}:i.length>1?{type:"multipleFiles",fromBrowser:t}:1===i.length&&i[0]?{type:"file",file:i[0],fromBrowser:!1}:t?{type:"invalidUrl",fromBrowser:!0}:{type:"noFile",fromBrowser:!1}}(a.dataTransfer);switch(o({component:el.SY,event_type:l.fromBrowser?3502:3501,view_type:el.CR}),l.type){case"url":s(eE(l.url,i),el.cr,"file");break;case"file":s(()=>eS(l.file,i),el.nb,"file");break;case"multipleFiles":t(ex(i,eg));break;case"invalidUrl":t(ex(i,eu));break;case"noFile":t(ex(i,ed))}}}}({isDisabled:t,setValidationError:s,uploadImage:l});return(0,f.jsxs)(a.az,{"data-test-id":"lens-file-upload",height:"100%",position:"relative",width:"100%",children:[(0,f.jsx)(y.A,{unsafeCSS:eL}),(0,f.jsx)(eT.A,{accept:eC.oA.join(","),accessibilityLabel:n._('File Upload', 'lens.fileUpload.area', 'Accessibility label for the Lens file upload input'),allowMultipleFiles:!1,dropRounding:32,hasError:!!e,id:"lens-file-upload",onChange:c,onDrop:p,children:t=>(0,f.jsx)(ep,{error:e,isDraggingOver:t,setValidationError:s})})]})}var eR=s(277229),eD=s(348681),e$=s(284387),eU=s(726329),eN=s(750612);function eO(){(0,o.useEffect)(()=>{(0,i.A)("LensHistoryCarousel","/app/common/react/components/Lens/Uploader/Popover/History/LensHistoryCarousel.tsx")},[]);let e=(0,r.A)(),t=(0,m.zy)(),s=(0,m.Zp)(),{logContextEvent:l}=(0,v.o)(),{setIsPopoverOpen:n}=(0,ea.S)(),c=el.Gj,{items:p,isLoaded:g,renderItem:d}=(0,eR.A)({buttonPadding:2,height:229,hideSave:!0,pageSize:10,viewParameter:c,viewType:119,width:163}),u=g&&p.length>0,h=!u,_="/lens-search/history"===t.pathname,b=e._('Your uploads', 'lens.history.header', 'Header for users Lens image upload history'),y=e._('View all', 'lens.history.viewAll', 'Text for button to view all lens history');(0,eD.r)(u?{component:15075,element:14560,view_type:119}:null);let w=(0,eU.bi)({componentType:15075,impressionType:"Story",loggingId:"lens-history-carousel-impression-logging-id",viewType:119});return(0,f.jsx)(a.az,{ref:w,marginBottom:2,paddingY:3,children:(0,f.jsx)(eN.A,{actionButton:(0,f.jsx)(a.$n,{disabled:h,onClick:({event:e})=>{e.stopPropagation(),l({component:15075,element:14560,event_type:101,view_type:119}),n(!1),_||s("/lens-search/history")},text:y}),collapseButtonElementType:14560,collapseByDefault:!0,componentType:15075,disabled:h,expandButtonElementType:14560,headerPaddingX:10,heading:b,icon:"compact-chevron-down",viewType:119,children:(0,f.jsx)(a.az,{marginTop:3,paddingX:6,children:(0,f.jsx)(e$.A,{inset:"none",itemHeight:229,items:p,itemWidth:163,mode:"multi",renderItem:({item:e})=>d(e),showNavigationButtons:!0,showScrollMarkers:!0})})})})}function eF({onDismiss:e}){(0,o.useEffect)(()=>{(0,i.A)("LensPopoverHeader","/app/common/react/components/Lens/Uploader/Popover/LensPopoverHeader.tsx")},[]);let t=(0,r.A)();return(0,f.jsx)(a.az,{padding:6,children:(0,f.jsxs)(a.so,{alignItems:"center",justifyContent:"between",children:[(0,f.jsx)(a._Y,{accessibilityLevel:1,size:"400",children:t._('Upload an image to search', 'lens.popover.header', 'Header for Lens Image Search popover')}),(0,f.jsx)(a.K0,{accessibilityLabel:t._('Close', 'lens.popover.close', 'Close button for Lens popover'),icon:"close",iconColor:"default",onClick:e,size:"lg"})]})})}function eV(){(0,o.useEffect)(()=>{(0,i.A)("LensUploadingOverlay","/app/common/react/components/Lens/Uploader/Popover/LensUploadingOverlay.tsx")},[]);let e=(0, r.A)()._('Uploading Image', 'lens.loading.message', 'Message for uploading image');return(0,f.jsx)(a.az,{bottom:!0,color:"default",left:!0,margin:"auto",position:"absolute",right:!0,top:!0,children:(0,f.jsxs)(a.so,{alignItems:"center",direction:"column",gap:{row:0,column:6},height:"100%",justifyContent:"center",width:"100%",children:[(0,f.jsx)(a.y$,{accessibilityLabel:e,show:!0}),(0,f.jsx)(a.Wu,{children:e})]})})}var eH=s(483877);let eG="lens-url-input";function eW({error:e,isDisabled:t=!1,setValidationError:s,uploadImage:l}){(0,o.useEffect)(()=>{(0,i.A)("LensUrlUpload","/app/common/react/components/Lens/Uploader/Popover/UrlUpload/LensUrlUpload.tsx")},[]);let n=(0,r.A)(),{inputValue:c,handleInputChange:p,handleSubmit:g,handleKeyDown:d}=function({isDisabled:e,setValidationError:t,uploadImage:s}){let i=(0,r.A)(),{logContextEvent:a}=(0,v.o)(),[l,n]=(0,o.useState)(""),c=()=>{if(!e&&l){if(a({component:el.SY,element:14559,event_type:15656,view_type:el.CR}),!l.startsWith("data:image")&&!(0,eH.A)({url:l}))return void t(ex(i,eu));s(eE(l,i),el.cr,"url")}};return{inputValue:l,handleInputChange:e=>{n(e),t("")},handleSubmit:c,handleKeyDown:e=>{"Enter"===e.key&&c()}}}({isDisabled:t,setValidationError:s,uploadImage:l});return(0,f.jsxs)(a.az,{paddingY:4,position:"relative",children:[(0,f.jsx)(y.A,{unsafeCSS:`
          #${eG} {
            padding-right: 52px !important;
          }
        `}),(0,f.jsx)(a.A_,{autoComplete:"url",disabled:t,errorMessage:e,hasError:!!e,id:eG,label:n._('Upload from URL', 'lens.url.label', 'Label for url input'),labelDisplay:"hidden",onChange:({value:e})=>p(e),onKeyDown:({event:e})=>d(e),placeholder:n._('Paste image link', 'lens.url.textField', 'Placeholder text to enter website url'),size:"lg",type:"url",value:c}),(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{top:26}},paddingX:3,position:"absolute",right:!0,children:(0,f.jsx)(a.K0,{accessibilityLabel:n._('Submit', 'lens.url.submitButton', 'Submit button to scrape images from url'),bgColor:"secondary",disabled:!c||t,icon:"chevron-right",onClick:g,size:"sm"})})]})}var eK=s(417978),eq=s(703672),eY=s(672908);let eJ={x:0,y:0,w:1,h:1};async function eZ(e,t){let s=new FormData;s.append("image",e),s.append("x",String(eJ.x)),s.append("y",String(eJ.y)),s.append("w",String(eJ.w)),s.append("h",String(eJ.h));let i=await (0,eK.A)({url:el.hU,type:"POST",data:s}).promise;if(!i.responseText)throw new ef(ey,{cause:"Empty response from server"});let o=JSON.parse(i.responseText);if(!o.success)throw new ef(ey,{cause:o.error||"Upload not successful"});if(!o.data||0===o.data.length)throw new ef(eb,{cause:o.error||"Empty data in the response"});if(!o.url)throw new ef(ey,{cause:o.error||"Missing API URL in response"});let a=o.url,l=o.image_signature,r={url:el.b0,data:{url:a,crop_source:5,...eJ,add_fields:eY.A.base_grid_item.join(","),...null!=l&&{image_signature:l}}};return t((0,eq.O8)("ApiResource",r,{resource_response:{data:o.data??[],error:null},bookmarks:o.bookmark?[o.bookmark]:[]})),{apiUrl:a,imageSignature:l}}var eX=s(350539),eQ=s(808571);function e0({anchor:e,onDismiss:t,searchBoxRef:s}){(0,o.useEffect)(()=>{(0,i.A)("LensPopover","/app/common/react/components/Lens/Uploader/Popover/LensPopover.tsx")},[]);let l=(0,r.A)(),{checkExperiment:n}=(0,R.A)(),c=n("dweb_search_omnipresent_multimodal").anyEnabled,p=(0,eQ.g)(),[g,d]=(0,o.useState)(null),[u,h]=(0,o.useState)(0),{isUploading:v,fileError:_,setFileError:b,urlError:y,setUrlError:w,uploadImage:x}=function({onDismiss:e}){let t=(0,r.A)(),s=(0,C.wA)(),i=(0,m.Zp)(),{pathname:a}=(0,m.zy)(),{setPreparedImage:l}=(0,ea.S)(),[n,c]=(0,o.useState)(!1),[p,g]=(0,o.useState)(""),[d,u]=(0,o.useState)(""),h=e=>{g(e),e&&u("")},v=e=>{u(e),e&&g("")},_=async(o,r,n)=>{let p="file"===n?h:v;p(""),c(!0);try{let t,n,c,{file:p,src:g,width:d,height:u}=await o();try{({apiUrl:t,imageSignature:n}=await eZ(p,s))}catch(e){throw URL.revokeObjectURL(g),e}let h={file:p,src:g,apiUrl:t,imageSignature:n,width:d,height:u};l(h),await (0,eX.i6)(h),(c=new FormData).append("image",p),c.append("source_type",r),(0,eK.A)({url:el.SK,type:"PUT",data:c}),"/lens-search"!==a&&i("/lens-search/"),e()}catch(e){p(e instanceof ef?ex(t,e.type):ew(t))}finally{c(!1)}};return{isUploading:n,fileError:p,setFileError:h,urlError:d,setUrlError:v,uploadImage:_}}({onDismiss:t});return((0,eD.r)({component:el.SY,view_type:el.CR}),(0,o.useLayoutEffect)(()=>{s.current&&d(s.current.getBoundingClientRect()),h(document.documentElement.clientWidth)},[s]),e)?(0,f.jsx)(a.Wd,{zIndex:el.B4,children:(0,f.jsx)(a.AM,{accessibilityLabel:l._('Lens popover', 'lens.popover.accessibilityLabel', 'Popover for Lens Image Search'),anchor:e,coordinates:c?void 0:{top:p,end:null!==g?u-g.right:0},idealDirection:c?"up":"down",offset:c&&null!==g?g.height-el.eN:void 0,onDismiss:t,position:c?void 0:"fixed",positionRelativeToAnchor:c,size:"flexible",children:(0,f.jsxs)(a.az,{maxWidth:el.OV,minWidth:el._W,position:"relative",width:u/3,children:[(0,f.jsx)(eF,{onDismiss:t}),(0,f.jsxs)(a.az,{dangerouslySetInlineStyle:{__style:{maxHeight:`calc(100vh - ${p}px - ${el.qm}px)`,flexDirection:"column"}},display:"flex",overflow:"auto",position:"relative",children:[(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{flex:"1 1 320px",marginTop:2}},minHeight:150,paddingX:6,children:(0,f.jsx)(eB,{error:_,isDisabled:v,setValidationError:b,uploadImage:x})}),(0,f.jsx)(a.az,{paddingX:6,children:(0,f.jsx)(eW,{error:y,isDisabled:v,setValidationError:w,uploadImage:x})}),(0,f.jsx)(eO,{}),v&&(0,f.jsx)(eV,{})]})]})})}):null}function e1({searchBoxRef:e}){(0,o.useEffect)(()=>{(0,i.A)("LensButton","/app/www/discover/SearchBox/SearchBoxActions/LensButton.tsx")},[]);let t=(0,r.A)(),{logContextEvent:s}=(0,v.o)(),{isPopoverOpen:l,setIsPopoverOpen:n,setLensButtonMounted:c}=(0,ea.S)(),p=(0,o.useRef)(null);(0,S.A)(()=>(c(!0),s({component:43,element:1304,event_type:120}),()=>c(!1)));let g=(0,o.useCallback)(()=>{n(!l),s({component:43,element:1304,event_type:101})},[l,n,s]);return(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(a.K0,{ref:p,accessibilityLabel:t._('Lens', 'searchBox.lens.accessibilityLabel', 'Lens'),icon:"camera-circle",onClick:g,tooltip:{text:t._('Upload image', 'searchBox.lens.tooltip', 'Upload image'),idealDirection:"down",zIndex:J.Yo}}),l&&(0,f.jsx)(e0,{anchor:p.current,onDismiss:()=>n(!1),searchBoxRef:e})]})}function e2(){return"u">typeof window&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)}var e3=s(640992);let e6={v:"4.8.0",meta:{g:"LottieFiles AE 3.6.0",a:"",k:"",d:"",tc:""},fr:25,ip:0,op:75,w:24,h:24,nm:"lottie_loop_3_sec",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Shape Layer 5",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22.062,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.75],[-10.125,4.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:5,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-.703],[-10.125,.641]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:12,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:25,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.704],[-10.125,5.714]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:32,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3.25],[-10.125,3.194]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:39,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.544],[-10.125,4.522]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:45,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-.703],[-10.125,.641]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:52,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:67,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.451],[-10.125,5.474]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.75],[-10.125,4.688]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[17.047,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:7,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:18,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.135,-6.147],[-10.135,6.125]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:27,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.165,-1.59],[-10.165,1.514]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:38,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-4.346],[-10.154,4.304]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:53,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.151,-4.706],[-10.151,4.668]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:63,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.165,-1.59],[-10.165,1.514]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.135,-6.147],[-10.135,6.125]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[12.031,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:13,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.145,-5.963],[-10.145,5.901]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:24,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-.622],[-10.141,.622]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:33,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-6.64],[-10.154,6.587]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:42,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-.622],[-10.141,.622]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:50,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.156,-7.75],[-10.156,7.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.15,-4.91],[-10.15,4.872]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:67,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-6.64],[-10.154,6.587]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[7.016,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-6.062],[-10.109,5.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:10,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-7.688],[-10.109,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:29,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-.938],[-10.141,.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:39,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-4.734],[-10.117,4.456]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-.938],[-10.141,.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:56,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-5.148],[-10.121,5.07]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:65,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-1.818],[-10.137,1.802]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-6.062],[-10.109,5.688]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[2,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:7,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.688],[-10.125,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:17,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:26,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.438],[-10.125,5.413]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:33,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-1.062],[-10.125,1]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:40,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-6.851],[-10.125,6.734]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:50,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.688],[-10.125,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:70,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0}],markers:[{tm:75,cm:"",dr:0}]};function e5(){(0,o.useEffect)(()=>{(0,i.A)("AudioBars","/app/www/inclusiveProduct/VoiceSearch/AudioBars.tsx")},[]);let e=(0, r.A)()._('Listening...', 'searchBox.voiceSearch.accessibilityLabel', 'Icon indicating that the microphone is listening'),{animationContainerRef:t}=(0,e3.A)({animationData:e6,loop:!0,autoplay:!0,renderer:"svg",rendererSettings:{title:e},onDOMLoaded:()=>{let e=t.current?.querySelector("svg");e&&e.setAttribute("role","img")}});return(0,f.jsx)(a.so,{alignItems:"center",height:48,justifyContent:"center",width:48,children:t?(0,f.jsx)(a.n1,{height:24,width:24,children:(0,f.jsx)(a.az,{ref:t})}):(0,f.jsx)(a.In,{accessibilityLabel:e,color:"default",icon:"audio-bars",size:24})})}var e4=s(79906);function e7({onCloseClick:e}){(0,o.useEffect)(()=>{(0,i.A)("VoiceSearchPermissionsModal","/app/www/inclusiveProduct/VoiceSearch/VoiceSearchPermissionsModal.tsx")},[]);let t=(0,r.A)(),{logContextEvent:s}=(0,v.o)();(0,S.A)(()=>{s({event_type:13,view_type:2,component:15282})});let l=()=>{s({event_type:101,view_type:2,component:15282,element:75}),e()};return(0,f.jsx)(e4.Ay,{accessibilityModalLabel:t._('Voice search permissions modal', 'voiceSearch.accessibilityLabel', 'Modal for Voice Search permissions'),align:"start",heading:(0,f.jsx)(a._Y,{accessibilityLevel:1,size:"600",children:t._('Want to use voice search?', 'voiceSearch.modal.header', 'Header for Voice Search microphone permissions')}),isOpen:!0,onDismiss:l,size:"sm",children:(0,f.jsxs)(a.az,{direction:"column",display:"flex",paddingX:7,children:[(0,f.jsx)(a.KJ,{children:t._('Go to your browser settings to let Pinterest access the microphone', 'voiceSearch.modal.message', 'Voice Search microphone permissions message')}),(0,f.jsx)(a.az,{display:"flex",justifyContent:"end",marginBottom:6,marginTop:7,children:(0,f.jsx)(a.$n,{accessibilityLabel:t._('Close', 'voiceSearch.close.button', 'Button to close voice search permissions modal'),color:"primary",onClick:l,size:"md",text:t._('Close', 'voiceSearch.close.button', 'Button to close voice search permissions modal')})})]})})}function e8(){(0,o.useEffect)(()=>{(0,i.A)("VoiceSearchEntryPoint","/app/www/discover/SearchBox/SearchBoxActions/VoiceSearchEntryPoint.tsx")},[]);let e=(0,r.A)(),{logContextEvent:t}=(0,v.o)(),{checkExperiment:s}=(0,R.A)(),{handleTextChange:l,handleVoiceSearchSubmit:n,voiceSearchPlaceholder:c,setVoiceSearchPlaceholder:p}=(0,j.Z)(),[g,d]=(0,o.useState)(!1),[u,h]=(0,o.useState)(!1),m=(0,o.useRef)(null),_=s("web_lens",{dangerouslySkipActivation:!0}).anyEnabled;(0,o.useEffect)(()=>{h(e2())},[]),(0,S.A)(()=>{t({event_type:120,view_type:2,component:43,element:15977})});let b=(0,o.useCallback)(()=>{m.current&&(m.current.stop(),p(N.g.NULL))},[p]);if((0,o.useEffect)(()=>{c===N.g.CANCEL&&(b(),p(N.g.NULL))},[c,b,p]),!u)return null;let y=async()=>{t({event_type:101,view_type:2,component:43,element:15977});try{let e,s=await navigator.permissions.query({name:"microphone"});if("denied"===s.state){p(N.g.NULL),d(!0);return}let i=new(window.webkitSpeechRecognition||window.SpeechRecognition);m.current=i,i.lang="en-US",i.interimResults=!1,e=void 0,l(""),p(N.g.NULL),i.onstart=()=>{p(N.g.LISTENING)},i.onresult=t=>{let s=t.results?.[0]?.[0]?.transcript;s&&(e=s)},i.onerror=e=>{p(null),"permission-denied"===e.error&&d(!0)},i.onend=()=>{e&&c!==N.g.CANCEL?(n(e),p(null)):"prompt"===s.state?p(null):(t({event_type:16683,view_type:2,component:43,aux_data:{reason:"voice search miss"}}),p(N.g.DEFAULT)),e=void 0},i.start()}catch(e){t({event_type:16683,view_type:2,component:43,aux_data:{error_message:(0,eM.A)(e,"message")}})}};return(0,f.jsxs)(o.Fragment,{children:[c===N.g.LISTENING?(0,f.jsx)(e5,{}):(0,f.jsx)(a.K0,{accessibilityLabel:e._('Voice search', 'searchBox.voiceSearch.accessibilityLabel', 'Icon button that initiates a voice search'),icon:"microphone",iconColor:"default",onClick:y,tooltip:_?{text:e._('Search by voice', 'searchBox.voice.tooltip', 'Search By Voice'),idealDirection:"down",zIndex:J.Yo}:void 0}),g&&(0,f.jsx)(e7,{onCloseClick:()=>d(!1)})]})}function e9({displayedQuery:e,hasAppliedQuery:t,hasTypedSinceFocus:s,isInlineSYOP:l,isInTypeaheadSession:r,onClearSearch:n,searchBoxRef:c,voiceSearchPlaceholder:p}){(0,o.useEffect)(()=>{(0,i.A)("SearchBoxActions","/app/www/discover/SearchBox/SearchBoxActions/SearchBoxActions.tsx")},[]);let{multimodalPinId:g}=(0,j.Z)(),{showCancel:d,showLens:h,showVoice:v}=function({displayedQuery:e,hasTypedSinceFocus:t,isInlineSYOP:s,voiceSearchPlaceholder:i}){let{language:o}=(0,u._8)(),a=(0,m.zy)(),l=(0,b.A)(),{isSyop:r}=(0,j.Z)(),n=(0,T.VX)(a),{checkExperiment:c}=(0,R.A)(),p=l.isAuth,g=e2(),d=i===N.g.LISTENING,h=p&&!s&&!r&&!n&&c("web_lens",{dangerouslySkipActivation:!0}).anyEnabled,v=g&&p&&!s&&o.startsWith("en");return d?{state:"voiceListening",showCancel:!0,showLens:!1,showVoice:!0}:e?t?{state:"typing",showCancel:!0,showLens:!1,showVoice:v}:{state:"filled",showCancel:!0,showLens:h,showVoice:v}:{state:"empty",showCancel:!1,showLens:h,showVoice:v}}({displayedQuery:e,hasTypedSinceFocus:s,isInlineSYOP:l,voiceSearchPlaceholder:p}),_=!!(0,$.A)()&&!l,y=g&&!_&&r;return(0,f.jsxs)(a.az,{alignItems:"center",dangerouslySetInlineStyle:_||y?{__style:{bottom:4}}:void 0,display:"flex",marginEnd:1,marginStart:3,onMouseDown:e=>{e.preventDefault()},position:_||y?"absolute":void 0,right:!!(_||y),children:[d&&(0,f.jsx)(eo,{hasAppliedQuery:t,isInlineSYOP:l,onClear:n}),h&&(0,f.jsx)(e1,{searchBoxRef:c}),v&&(0,f.jsx)(e8,{})]})}var te=s(987628),tt=s(652567);let ts={recentSaves:[],recentViews:[]};function ti(e,t){if(e=e||ts,"FETCH_COMPLETE"!==t.type)return e;{let{options:s={},resource:i}=t.payload,{data:o}=t.payload.response.resource_response;if("ApiResource"===i&&"/v3/users/me/recent/engaged/pin/stories/"===s.url&&o){let t=o.find(e=>"user_recently_viewed_pins"===e.story_type),s=o.find(e=>"user_recently_saved_pins"===e.story_type),i=t?.objects.map(({description:e,id:t,images:s},i)=>({label:e,images:s,resultIndex:i,type:"recent_view",url:`/pin/${t}`}))||[],a=s?.objects.map(({description:e,id:t,images:s},i)=>({label:e,images:s,resultIndex:i,type:"recent_save",url:`/pin/${t}`}))||[];return{...e,recentSaves:a,recentViews:i}}return e}}let{Provider:to,get:ta}=(0,te.A)("SearchBox");function tl({children:e}){let[t,s]=(0,o.useReducer)(ti,ts),i=(0,o.useCallback)(e=>{s({type:"FETCH_COMPLETE",payload:e})},[]);(0,tt.jY)("ApiResource",i);let a=(0,o.useMemo)(()=>({state:t}),[t]);return(0,f.jsx)(to,{value:a,children:e})}var tr=s(75840),tn=s(971289);function tc({autocompleteRequestSurface:e}){let t=(0,tn.qJ)(),s=(0,b.A)();return(0,tr.A)(s.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:W.cO.PINS,autocomplete_request_surface:e},noCache:!0}:null),(0,tr.A)(t?{name:"SearchTabResource"}:null),null}let tp=(0,s(16917).A)("autocomplete_render");var tg=s(114735),td=s(621556),tu=s(24086),th=s(406661),tm=s(542975),tv=s(319571),t_=s(668014);let tb=({children:e,impressionTrackerProps:t})=>((0,o.useEffect)(()=>{(0,i.A)("MaybeImpressionTracker","/app/packages/impression-logging/MaybeImpressionTracker.tsx")},[]),t?(0,f.jsx)(eU.g$,{...t,children:e}):e({impressionTrackerRef:null}));var ty=s(618243),tf=s(386379);function tw({onLoad:e,suggestion:t}){(0,o.useEffect)(()=>{(0,i.A)("AutocompleteUpsellSuggestions","/app/www/discover/SearchBox/AutocompleteUpsellSuggestions.tsx")},[]);let s=(0,tf.A)({url:t.action_button_uri});return(0,o.useEffect)(()=>{e()},[]),(0,f.jsxs)(a.az,{padding:10,children:[(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"}},marginBottom:6,children:t.description}),(0,f.jsx)(a.$A,{href:t.action_button_uri,rel:s?"nofollow":"none",rounding:"pill",children:(0,f.jsx)(a.az,{color:"info",display:"inlineBlock",padding:3,rounding:"pill",children:(0,f.jsx)(a.KJ,{color:"inverse",weight:"bold",children:t.action_button_text})})})]})}var tx=s(323250),tA=s(528045),tk=s(464224);let tS=(0,o.lazy)(()=>s.e("58329").then(s.bind(s,521344)));function tj({experiences:e,index:t,focusedIndex:s,onSuggestionMouseEnter:i,onSuggestionMouseLeave:l,onLoad:r,query:n,suggestion:c}){let p=(0,tA.A)(c),{handleSuggestionSelect:g,handleInclusiveProductFilterClick:d,getSuggestionImpressionOptions:u}=(0,j.Z)();return(0,o.useEffect)(()=>{c.image||r()},[]),(0,f.jsx)(ee.cO,{experiences:e,placementId:1000315,searchTerm:n,suggestions:[c],children:({searchDelightConfig:e})=>(0,f.jsx)(tb,{impressionTrackerProps:u({index:t,groupIndex:t,suggestion:c,loggingId:c.id}),children:({impressionTrackerRef:o})=>(0,f.jsxs)(a.az,{ref:o,marginBottom:1,marginEnd:-3,marginStart:-3,children:[(0,f.jsx)(tx.m,{id:(0,E.mc)(0,t),isHovered:s===t,onClick:()=>{g({suggestion:c,index:t})},onMouseEnter:()=>{i(t)},onMouseLeave:()=>{l()},url:(0,E.R7)({suggestion:c,query:n}),children:(0,f.jsx)(a.so,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(a.az,{flex:"grow",children:(0,f.jsx)(tx.A,{highlightMatch:!0,imageUrl:c.image,label:c.label,onLoad:r,query:n,rounding:2,searchDelightConfig:e,subLabel:c.subLabel,type:c.type})})})}),!!p&&p!==tk.zB.BODY&&d&&(0,f.jsx)(a.so,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:(0,f.jsx)(t_.A,{name:"SafeSuspense_BlendedTypeaheadSuggestion_InclusiveFilters",children:(0,f.jsx)(ty.A,{children:(0,f.jsx)(tS,{filters:{[p]:c.modified_filter_eligibility?.[p]?.filter_options},moduleType:tk.P4.SEARCH_AUTOCOMPLETE,onClickApplyFilters:e=>d(c,t,e),query:n,viewParameter:103,viewType:2})})})})]})})})}let tP=({index:e,focusedIndex:t,onSuggestionMouseEnter:s,onSuggestionMouseLeave:i,onLoad:o,suggestion:l})=>{let{handleSuggestionSelect:r,getSuggestionImpressionOptions:n}=(0,j.Z)();return(0,f.jsx)(tb,{impressionTrackerProps:n({index:e,groupIndex:e,suggestion:l,loggingId:l.id}),children:({impressionTrackerRef:n})=>(0,f.jsx)(a.az,{ref:n,marginBottom:1,marginEnd:-3,marginStart:-3,children:(0,f.jsx)(tx.m,{id:(0,E.mc)(0,e),isHovered:t===e,onClick:()=>{r({suggestion:l,index:e})},onMouseEnter:()=>{s(e)},onMouseLeave:()=>{i()},url:l.url,children:(0,f.jsx)(tx.A,{imageUrl:l.image,isVerifiedMerchant:l.is_verified_merchant,label:l.label,onLoad:o,rounding:"circle",subLabel:l.subLabel,verified:l.verified})})},`${l.type}-${l.label}-${l.subLabel||""}`)})};function tM({experiences:e,suggestions:t,focusedIndex:s,query:a,onSuggestionMouseEnter:l,onSuggestionMouseLeave:r}){(0,o.useEffect)(()=>{(0,i.A)("BlendedTypeaheadSuggestion","/app/www/discover/SearchBox/BlendedTypeaheadSuggestion.tsx")},[]);let n=p(),c=e=>"image"in e&&e.image,g=t.some(c),d=()=>{n?.stop(),tp.isActive()&&tp.stop()};return t.map((t,i)=>{let o=!g||c(t);switch(t.type){case"autocompleteupsell":return(0,f.jsx)(tw,{onLoad:o?d:()=>{},suggestion:t},`search-suggestion-${t.type}-${t.id}`);case"query":case"recent_pin_searches":return(0,f.jsx)(tj,{experiences:e,focusedIndex:s,index:i,onLoad:o?d:()=>{},onSuggestionMouseEnter:l,onSuggestionMouseLeave:r,query:a,suggestion:t},`search-suggestion-${t.type}-${t.id}`);case"user":return(0,f.jsx)(tP,{focusedIndex:s,index:i,onLoad:o?d:()=>{},onSuggestionMouseEnter:l,onSuggestionMouseLeave:r,suggestion:t},`search-suggestion-${t.type}-${t.id}`);default:return null}})}var tI=s(65881),tz=s(241037),tE=s(733048),tC=s(745489),tT=s(713364),tL=s(535078);function tB({contextLogData:e,dominantColor:t,groupIndex:s,height:l,icon:n,images:c,isDarkRep:p=!1,isHovered:g,title:d,onMouseEnter:u,onMouseLeave:h,onClick:m,searchBoxRenderStopwatch:v,suggestion:_,showRemoveButton:b=!1,slotIndex:y,url:w,width:x}){(0,o.useEffect)(()=>{(0,i.A)("SearchInFeedRep","/app/common/react/components/discover/stories/SearchInFeedRep.tsx")},[]);let A=(0,r.A)(),{autocompleteRequestSurface:k,getSuggestionImpressionOptions:S,isSyop:P}=(0,j.Z)(),{group:M,anyEnabled:I}=(0,tT.A)({isSyop:P}),z=(0,tL.A)(k),E=M.includes("vertical"),C=l||80,T=c&&c[0]&&c[0]["236x"]?.url||"";(0,tz.A)("search_tab_render",T,"recent_query"===_.type?"200x":"236x");let L=!!n&&(0,tE.A)(n),B=!!x&&x<160||!!l&&l<60,R=B&&!I?"200":"300",D=I?void 0:"bold",$=(B||I)&&2||3,U=B&&2||I&&3||4,N=x?x-C:156,O=B?300:400,F=B?300:400,V=B?200:300,H=B?200:300,G=()=>{v?.stop();let e=(0,tg.A)();e.isActive()&&e.stop()},W=async e=>{await (0,eI.A)({url:"/v3/search/recent/",method:"DELETE",data:{query:e}}),z()};return(0,f.jsx)(tb,{impressionTrackerProps:S({index:y,additionalAuxData:e,groupIndex:s,suggestion:_,loggingId:_.id}),children:({impressionTrackerRef:e})=>(0,f.jsx)(a.az,{ref:e,"data-test-id":b?"recent-query":void 0,height:C,width:x||"100%",children:(0,f.jsx)(a.n1,{rounding:O,wash:!p&&!E,children:(0,f.jsxs)(a.az,{dangerouslySetInlineStyle:I?void 0:{__style:p&&{backgroundColor:g?"var(--base-color-grayscale-350)":"var(--base-color-grayscale-400)"}||g&&tC.a.lightHoverOverlay||{}},children:[(0,f.jsx)(tx.m,{isHovered:g,onBlur:()=>{},onClick:m,onFocus:u,onMouseEnter:u,onMouseLeave:h,rounding:F,url:w,children:(0,f.jsxs)(a.so,{direction:"row",children:[(0,f.jsx)(a.az,{"data-test-id":"search-suggestion-image-container",flex:"none",height:C,padding:I?1:void 0,width:C,children:T?(0,f.jsx)(a.n1,{height:"100%",rounding:I?V:void 0,wash:!0,width:"100%",children:(0,f.jsx)(a._V,{alt:"",color:t,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:G,role:"presentation",src:T})}):(0,f.jsx)(a.az,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",rounding:I?H:void 0,width:"100%",children:(0,f.jsx)(a.In,{accessibilityLabel:"",color:"dark",icon:"magnifying-glass",size:24})})}),(0,f.jsxs)(a.az,{alignItems:"center",display:"flex",flex:"grow",maxHeight:C,maxWidth:I?void 0:N,padding:U,children:[L&&(0,f.jsx)(a.az,{alignItems:"center",display:"flex",flex:"none",marginEnd:2,children:(0,f.jsx)(a.In,{accessibilityLabel:"",icon:L,inline:!0,size:14})}),(0,f.jsx)(a.KJ,{color:p?"light":void 0,dataTestId:"search-suggestion-text",lineClamp:$,size:R,weight:D,children:d})]}),b&&(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{visibility:g?"visible":"hidden"}},"data-test-id":"clear-recent-queries",display:"flex",flex:"none",marginEnd:2,marginStart:-1,children:(0,f.jsx)(a.K0,{accessibilityLabel:A._('Remove recent search', 'Remove recent search icon in search autocomplete', 'Remove recent search icon'),bgColor:"default",focusColor:"darkBackground",icon:"close",iconColor:"default",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),W(d)},padding:2,size:"sm"})})]})}),b&&(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{visibility:g?"visible":"hidden"}},"data-test-id":"clear-recent-queries",marginEnd:2,marginTop:7,onMouseEnter:u,onMouseLeave:h,position:"absolute",right:!0,top:!0,children:(0,f.jsx)(a.K0,{accessibilityLabel:A._('Remove recent search', 'Remove recent search icon in search autocomplete', 'Remove recent search icon'),focusColor:"darkBackground",icon:"close",iconColor:"default",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),W(d)},padding:2,size:"sm"})})]})})})})}var tR=s(284247),tD=s(989457);function t$({coverImage:e,creator:t,formattedTitle:s,height:l,id:r,impressionTrackerRef:n,inheritedIsHovered:c,onClick:p,onMouseDown:g,onMouseEnter:d,onMouseLeave:u,searchBoxRenderStopwatch:h,url:m,width:v}){(0,o.useEffect)(()=>{(0,i.A)("SimpleBubble","/app/www/discover/Bubbles/SimpleBubble.tsx")},[]);let _=t?.avatar_color_index;return(0,f.jsx)(tC.A,{ref:n,backgroundColor:"gray",coverImage:e,disableTabIndex:!0,height:l,id:r,isHovered:c,onClick:p,onMouseDown:g,onMouseEnter:d,onMouseLeave:u,searchBoxRenderStopwatch:h,url:m,width:v,children:(0,f.jsx)(a.az,{ref:n,alignItems:"end",display:"flex",height:l,justifyContent:"center",padding:3,position:"absolute",top:!0,width:v||"100%",children:(0,f.jsxs)(a.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[l>200?(0,f.jsx)(a._Y,{align:"center",color:"light","data-test-id":"sp-bubble-title",size:"600",children:s}):(0,f.jsx)(a.KJ,{align:"center",color:"light","data-test-id":"sp-bubble-subtitle",weight:"bold",children:s}),t&&t.image_small_url&&t.full_name&&(0,f.jsxs)(a.az,{alignItems:"center","data-test-id":"sp-bubble-creator",display:"flex",justifyContent:"center",marginTop:4,children:[(0,f.jsx)(a.az,{marginEnd:2,children:(0,f.jsx)(tD.eu,{color:_,name:t.full_name,outline:!0,size:"xs",src:t.image_small_url})}),(0,f.jsx)(a.KJ,{color:"light",size:"100",children:t.full_name})]})]})})})}var tU=s(194046);function tN({board:e,height:t,isHovered:s,searchBoxRenderStopwatch:a,slotIndex:l,storyId:r,storyType:n,viewParameter:c,viewType:p,width:g,...d}){(0,o.useEffect)(()=>{(0,i.A)("EditorialBoardBubble","/app/www/discover/Bubbles/EditorialBoardBubble.tsx")},[]);let{id:u,name:h,image_cover_hd_url:m,owner:v,url:_}=e,b=(0,tR.A)(h||"",{});return h&&u&&_?(0,f.jsx)(tU.D6,{auxData:{grid_index:l.toString(),board_id:u,story_type:n,story_id:r},loggingId:u,objectIdStr:u,slotIndex:l,viewParameter:c||3467,viewType:p,children:({impressionTrackerRef:e})=>(0,f.jsx)(t$,{coverImage:{url:m},creator:v,formattedTitle:b,height:t,id:u,impressionTrackerRef:e,inheritedIsHovered:s,searchBoxRenderStopwatch:a,url:_,width:g,...d})}):null}var tO=s(755817);function tF({component:e,height:t,isHovered:s,searchBoxRenderStopwatch:a,slotIndex:l,storyId:r,storyType:n,todayArticle:c,viewParameter:p,viewType:g,width:d,...u}){(0,o.useEffect)(()=>{(0,i.A)("TodayArticleBubble","/app/www/discover/Bubbles/TodayArticleBubble.tsx")},[]);let{id:h,title:m,image_urls:v,article_creator_user:_,feed_source:b,is_product_pin_feed:y}=c,w=v&&v.length>0?{url:v[0]}:void 0,x=(0,tR.A)(m||"",{});if(!m||!h)return null;let A=(0,tO.oF)(b??0,y??!1,m,h);return(0,f.jsx)(tU.hK,{auxData:{grid_index:l.toString(),today_article_id:h,story_type:n,story_id:r},component:e,loggingId:h,objectIdStr:h,slotIndex:l,viewParameter:p||3467,viewType:g,children:({impressionTrackerRef:e})=>(0,f.jsx)(t$,{coverImage:w,creator:_,formattedTitle:x,height:t,id:h,impressionTrackerRef:e,inheritedIsHovered:s,searchBoxRenderStopwatch:a,url:A,width:d,...u})})}function tV(e){(0,o.useEffect)(()=>{(0,i.A)("TatSpBubble","/app/www/discover/Bubbles/TatSpBubble.tsx")},[]);let{bubble:t}=e;return"board"===t.type?(0,f.jsx)(tN,{...e,board:t}):(0,f.jsx)(tF,{...e,todayArticle:t})}function tH({children:e,prototypeSLP:t,containerWidth:s,repType:l="default"}){(0,o.useEffect)(()=>{(0,i.A)("SuggestionsGrid","/app/www/discover/SearchBox/SuggestionsGrid.tsx")},[]);let{checkExperiment:r}=(0,R.A)(),n=r("dweb_ac_empty_state_new_user_onboarding_exp",{dangerouslySkipActivation:!0}).group,c=!!(0,$.A)();return t?(0,f.jsx)(a.xA,{columnGap:2,rowGap:2,templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:`repeat(${c?3:2}, 1fr)`,lg:`repeat(${c?3:4}, 1fr)`,xl:`repeat(${c?3:4}, 1fr)`,xxl:"repeat(4, 1fr)"},children:e({width:void 0,height:"trending"===l&&72||"nux"===l&&"enabled_4reps"===n&&110||88})}):(0,f.jsx)(a.so,{alignItems:"stretch",direction:"row",gap:2,justifyContent:"start",wrap:!0,children:e(function({containerWidth:e}){let t,s=4,i=t=>e?(e-(64+8*(t-1)))/t:236;for(t=i(4);t<177&&s>1;)s-=1,t=i(s);for(;t>354;)s+=1,t=i(s);let o=Math.max(60,t/2.6);return{width:t,height:o}}({containerWidth:s}))})}function tG({title:e,action:t,prototypeSLP:s}){return(0,f.jsxs)(a.az,{alignItems:"center","data-test-id":"suggestion-group-heading",display:"flex",justifyContent:"between",marginEnd:2,children:[s?(0,f.jsx)(a.az,{marginEnd:1,paddingX:1,children:(0,f.jsx)(a._Y,{lineClamp:1,size:"400",children:e})}):(0,f.jsx)(a._Y,{lineClamp:1,size:"300",children:e}),s&&t&&(0,f.jsx)(a.so.Item,{flexBasis:"shrink",children:(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{top:2}},position:"relative",children:(0,f.jsx)(a.IM,{onMouseEnter:t.onFocus,onMouseLeave:t.onBlur,children:(0,f.jsx)(a.Rp,{onBlur:t.onBlur,onFocus:t.onFocus,onTap:t.onClick,children:(0,f.jsx)(a.KJ,{color:"subtle",children:(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{lineHeight:1}},children:t.text})})})})})})]})}let tW=({handleRemove:e,id:t,isHovered:s,label:i,onClick:o,onMouseEnter:l,onMouseLeave:r,removeA11yText:n,url:c})=>(0,f.jsx)(a.az,{"aria-selected":s?"true":"false","data-test-id":"search-suggestion",id:t,marginBottom:2,marginEnd:2,role:"option",children:(0,f.jsx)(a.$A,{accessibilityLabel:i,href:c,onMouseEnter:l,onMouseLeave:r,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{e.metaKey||e.ctrlKey||(t(),e.preventDefault(),o())},rounding:"pill",children:(0,f.jsxs)(a.az,{alignItems:"center",color:s?void 0:"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",...s?{backgroundColor:"#dadada"}:{}}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,f.jsx)(a.KJ,{align:"center",children:i}),(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,f.jsx)(a.K0,{accessibilityLabel:n??"",icon:"close",iconColor:"default",onClick:({event:t})=>{t.stopPropagation(),t.preventDefault(),e?.(i)},size:"xs"})})]})})}),tK=({id:e,isHovered:t,onClick:s,onMouseEnter:i,onMouseLeave:l,showSeeMoreOverlay:n,suggestion:c,trackClick:p,url:g})=>{let d=(0,r.A)();return(0,f.jsx)(a.az,{"aria-selected":t?"true":"false","data-test-id":"search-suggestion",id:e,marginBottom:2,paddingX:1,role:"option",children:(0,f.jsx)(a.$A,{href:g||c.url,onMouseEnter:i,onMouseLeave:l,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),p(),e.metaKey||e.ctrlKey||g||(e.preventDefault(),s())},rounding:300,tabIndex:-1,children:(0,f.jsxs)(a.n1,{height:116,rounding:300,wash:t,width:90,children:[c.images["236x"]?.url&&(0,f.jsx)(a._V,{alt:c.label,fit:"cover",naturalHeight:c.images["236x"]?.height??1,naturalWidth:c.images["236x"]?.width??1,src:c.images["236x"].url}),n&&(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(a.az,{dangerouslySetInlineStyle:H.t5,height:116,left:!0,position:"absolute",top:!0,width:90}),(0,f.jsx)(a.az,{alignItems:"center",display:"flex",height:116,justifyContent:"center",padding:3,position:"absolute",top:!0,width:90,children:(0,f.jsx)(a.KJ,{align:"center",color:"inverse",dataTestId:"see-more-suggestions-overlay",weight:"bold",children:d._('See More', 'searchBox.suggestionGroups.recentPinRep.seeMoreText', 'Text inviting users to see more of the same type of Pins')})})]})]})})})},tq=({componentType:e,focusedIndex:t,groupIndex:s,keyPrefix:i,onSuggestionMouseEnter:o,onSuggestionMouseLeave:l,seeMoreUrl:r,suggestions:n,title:c})=>{let{logContextEvent:p}=(0,v.o)(),{handleSuggestionSelect:g}=(0,j.Z)();return(0,f.jsxs)(a.so,{dataTestId:`${i}_section`,direction:"column",gap:4,children:[(0,f.jsx)(a.so,{width:"100%",children:(0,f.jsx)(tG,{title:c})}),(0,f.jsx)(a.so,{alignItems:"stretch",justifyContent:"start",width:"100%",wrap:!0,children:n.map((a,c)=>{let d=6===c&&7===n.length;return(0,f.jsx)(tK,{id:(0,E.mc)(s,c),isHovered:t===c,onClick:()=>{g({suggestion:a,index:c})},onMouseEnter:()=>{o(c)},onMouseLeave:()=>{l()},showSeeMoreOverlay:d,suggestion:a,trackClick:()=>{p({event_type:101,component:e,element:d?179:12374,view_type:2,view_parameter:103})},url:d?r:a.url},`${i}-${c}`)})})]})};function tY({focusedIndex:e,groupIndex:t,onSuggestionMouseEnter:s,onSuggestionMouseLeave:a,suggestions:l}){(0,o.useEffect)(()=>{(0,i.A)("SuggestionGroups","/app/www/discover/SearchBox/SuggestionGroups.tsx")},[]);let n=(0,r.A)();return(0,eD.r)({component:13844,view_parameter:103,view_type:2}),(0,f.jsx)(tq,{componentType:13844,focusedIndex:e,groupIndex:t,keyPrefix:"recent_save",onSuggestionMouseEnter:s,onSuggestionMouseLeave:a,seeMoreUrl:"/me/pins/",suggestions:l,title:n._('Recently saved', 'searchBox.recentSavedSuggestions.heading', 'Recently saved Pins heading in search autocomplete')})}function tJ({suggestion:e,groupIndex:t,index:s,focusedIndex:i,onSuggestionMouseEnter:o,onSuggestionMouseLeave:l}){let{handleSuggestionSelect:n,getSuggestionImpressionOptions:c,autocompleteRequestSurface:p}=(0,j.Z)(),g=(0,tL.A)(p),d=(0,r.A)(),u=async e=>{await (0,eI.A)({url:"/v3/search/recent/",method:"DELETE",data:{query:e}}),g()},h=d._('Remove', 'Remove recent search in search typeahead suggestion', 'Remove recent search in search typeahead suggestion');return(0,f.jsx)(tb,{impressionTrackerProps:c({index:s,groupIndex:t,suggestion:e,loggingId:e.id}),children:({impressionTrackerRef:r})=>(0,f.jsx)(a.az,{ref:r,"data-test-id":"recent-query",children:(0,f.jsx)(tW,{handleRemove:u,id:(0,E.mc)(t,s),isHovered:i===s,label:e.label,onClick:()=>{n({suggestion:e,index:s})},onMouseEnter:()=>{o(s)},onMouseLeave:()=>{l()},removeA11yText:h,url:(0,E.R7)({suggestion:e,query:""})})},`${e.type}-${e.label}`)})}function tZ({containerWidth:e,focusedIndex:t,groupIndex:s,onSuggestionMouseEnter:l,onSuggestionMouseLeave:n,searchBoxRenderStopwatch:c,suggestions:p}){(0,o.useEffect)(()=>{(0,i.A)("SuggestionGroups","/app/www/discover/SearchBox/SuggestionGroups.tsx")},[]);let g=(0,r.A)(),{isSyop:d}=(0,j.Z)(),{anyEnabled:u}=(0,tT.A)({isSyop:d}),{handleSuggestionSelect:h}=(0,j.Z)(),m=(0,E.Dq)({pillLabels:p.map(e=>e.label),maxWidth:e});return(0,f.jsxs)(a.so,{direction:"column",gap:4,children:[(0,f.jsx)(tG,{prototypeSLP:u,title:g._('Recent searches', 'Recent searches heading in search autocomplete', 'Recent searches heading in search autocomplete')}),u?(0,f.jsx)(tH,{containerWidth:e,numItems:p.length,prototypeSLP:u,repType:"recentSearch",children:({width:e,height:i})=>p.map((o,a)=>(0,f.jsx)(tB,{groupIndex:s,height:i,images:o.image_preview_pins?.map(e=>({"236x":{...e.image_medium_size_pixels,url:e.image_medium_url}})),isHovered:t===a,onClick:()=>{h({suggestion:o,index:a})},onMouseEnter:()=>{l(a)},onMouseLeave:()=>{n()},searchBoxRenderStopwatch:c,showRemoveButton:!0,slotIndex:a,suggestion:o,title:o.label,url:(0,E.R7)({suggestion:o,query:""}),width:e},o.label))}):(0,f.jsx)(a.az,{display:"flex",overflow:"hidden",position:"relative",children:p.slice(0,m).map((e,i)=>(0,f.jsx)(tJ,{focusedIndex:t,groupIndex:s,index:i,onSuggestionMouseEnter:l,onSuggestionMouseLeave:n,suggestion:e},e.label))})]})}function tX({focusedIndex:e,groupIndex:t,onSuggestionMouseEnter:s,onSuggestionMouseLeave:a,suggestions:l}){(0,o.useEffect)(()=>{(0,i.A)("SuggestionGroups","/app/www/discover/SearchBox/SuggestionGroups.tsx")},[]);let n=(0,r.A)();return(0,eD.r)({component:13843,view_parameter:103,view_type:2}),(0,f.jsx)(tq,{componentType:13843,focusedIndex:e,groupIndex:t,keyPrefix:"recent_view",onSuggestionMouseEnter:s,onSuggestionMouseLeave:a,seeMoreUrl:"/recently-viewed/",suggestions:l,title:n._('Recently viewed', 'searchBox.recentSavedSuggestions.heading', 'Recently viewed Pins heading in search autocomplete')})}function tQ({groupIndex:e,focusedIndex:t,onSuggestionMouseEnter:s,onSuggestionMouseLeave:l,searchBoxRenderStopwatch:r,suggestions:n}){(0,o.useEffect)(()=>{(0,i.A)("SuggestionGroups","/app/www/discover/SearchBox/SuggestionGroups.tsx")},[]);let{id:c,items:p,story_type:g,title:{format:d}}=n,{handleSuggestionSelect:u,getSuggestionImpressionOptions:h}=(0,j.Z)(),m=p.map(({type:e,id:t})=>e+":"+t).join("|");return(0,f.jsxs)(a.so,{direction:"column",gap:4,children:[(0,f.jsx)(tG,{title:d}),(0,f.jsx)(tb,{impressionTrackerProps:h({additionalAuxData:{content_ids:m,story_id:c,story_type:g},suggestion:p[0],index:e,groupIndex:e,loggingId:c}),children:({impressionTrackerRef:i})=>(0,f.jsx)(a.az,{ref:i,display:"flex",marginBottom:5,wrap:!0,children:p.map((i,o)=>{let n=t===o;return(0,f.jsx)(a.az,{"aria-selected":n?"true":"false","data-test-id":"search-suggestion-today-bubble",id:(0,E.mc)(e,o),marginBottom:2,paddingX:1,role:"option",children:(0,f.jsx)(tV,{bubble:i,component:13525,height:192,isHovered:n,onClick:()=>{u({suggestion:i,index:o})},onMouseEnter:()=>{s(o)},onMouseLeave:()=>{l()},searchBoxRenderStopwatch:r,slotIndex:o,storyId:c,storyType:g,viewParameter:3467,viewType:2,width:192})},`story--${e}-${o}`)})})})]})}function t0({containerWidth:e,focusedIndex:t,groupIndex:s,index:l,onSuggestionMouseEnter:r,onSuggestionMouseLeave:n,searchBoxRenderStopwatch:c,suggestions:p}){(0,o.useEffect)(()=>{(0,i.A)("SuggestionGroups","/app/www/discover/SearchBox/SuggestionGroups.tsx")},[]);let{logContextEvent:g}=(0,v.o)(),{isSyop:d}=(0,j.Z)(),[u,h]=(0,o.useState)(!1),{action:m,id:_,items:b,story_type:y,title:{format:w}}=p,x=b[0]&&"explorearticle"===b[0].type&&b[0].story_category,{anyEnabled:A}=(0,tT.A)({isSyop:d}),k="shopping_spotlight"===y,{handleSuggestionSelect:S,getSuggestionImpressionOptions:P}=(0,j.Z)(),M=b.map(({type:e,id:t})=>e+":"+t).join("|"),I=(0,tL.A)(0),z=async e=>{await (0,eI.A)({url:"/v3/search/recent/",method:"DELETE",data:{query:e}})},C=m&&m.text?{text:m.text,onClick:()=>{p.custom_properties?.recent_searches?.forEach(e=>z(e)),I()},onFocus:()=>{h(!0)},onBlur:()=>{h(!1)}}:void 0;return(0,f.jsxs)(a.so,{dataTestId:"search-story-suggestions-container",direction:"column",gap:4,children:[(0,f.jsx)(tG,{action:C,prototypeSLP:A,title:w}),(0,f.jsx)(tb,{impressionTrackerProps:P({additionalAuxData:{content_ids:M,story_id:_,story_type:y},suggestion:b[0],index:s,groupIndex:s,loggingId:_}),children:({impressionTrackerRef:i})=>(0,f.jsx)(a.az,{ref:i,children:(0,f.jsx)(tH,{containerWidth:e,numItems:b.length,prototypeSLP:A,repType:2===x&&"trending"||"search_tab_nux_topic_articles"===y&&"nux"||"default",children:({width:e,height:i})=>b.map((o,p)=>{let d=l+p;if(k){let{id:e}=o;return(0,f.jsx)(tV,{bubble:o,height:192,onClick:()=>{g({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:e,autocomplete_type:"recommended_article",story_type:y}})},onMouseDown:({event:e})=>e.preventDefault(),slotIndex:d,viewParameter:3467,viewType:2,width:192},`ss-bubble-${e}`)}{let l=u||t===d,{cover_images:g,dominant_colors:h,id:m,story_category:v,title:{format:b},subtitle:w,identifier_icon_type:x}=o,A=(0,E.R7)({suggestion:o,query:"",suggestionStoryId:_});return(0,f.jsx)(a.az,{"aria-selected":l?"true":"false","data-test-id":"search-suggestion",id:(0,E.mc)(s,p),role:"option",children:(0,f.jsx)(tB,{contextLogData:{story_type:y,content_ids:M,grid_index:p,story_id:_},dominantColor:h?.[0]??"",groupIndex:s,height:i,icon:x,images:g,isHovered:l,onClick:()=>{S({suggestion:o,index:d,suggestionStoryId:_})},onMouseEnter:()=>{r(d)},onMouseLeave:()=>{n()},searchBoxRenderStopwatch:c,slotIndex:d,subtitle:w?.format,suggestion:o,title:b,url:A,width:e})},`story-${v??""}-${s}-${m}`)}})})})})]})}var t1=s(508537),t2=s(743858);function t3({inlineSYOP:e,query:t,searchBoxHeight:s,searchBoxRenderStopwatch:l,showSyopHeading:n,suggestionGroups:c,width:p}){let g;(0,o.useEffect)(()=>{(0,i.A)("SuggestionsMenu","/app/www/discover/SearchBox/SuggestionsMenu.tsx")},[]);let d=(0,o.useRef)(null),h=(0,r.A)(),{experiencesMulti:m}=(0,th.A)(1000315),{enabled:v}=(0,D.A)(),{enabled:_}=(0,t2.A)(),b=v||_,{country:y,isAuthenticated:w}=(0,u._8)(),{suggestionsFocusIndex:x,suggestionsMaxHeight:A,setSuggestionsHovered:k,setSuggestionsFocusIndex:S,handleFeaturedBoardSubmit:P,isSyop:M,multimodalPinId:I,isInTypeaheadSession:z}=(0,j.Z)(),{anyEnabled:C}=(0,tT.A)({isSyop:M}),[T,L]=(0,o.useState)(0),B=(0,tu.A)(L,400),R=(0,t1.wt)(w,y),{isRTL:U}=(0,u._8)();function N(){S(void 0)}(0,o.useLayoutEffect)(()=>{if(!d.current)return()=>{};L(d.current.getBoundingClientRect().width);let e=new ResizeObserver(()=>{B(e=>d.current?.getBoundingClientRect().width||e)});return e.observe(d.current),()=>{e.disconnect()}},[B]);let O=!!(0,$.A)()&&!e,F=I&&!O&&z,V=O||e,H=V&&"32px"||F&&"0 0 32px 32px"||b&&`0 0 ${J.Ak}px ${J.Ak}px`||"0 0 16px 16px",G=(g="-24px",O?U?{right:g,bottom:g}:{left:g,bottom:g}:e?U?{right:g,top:g}:{left:g,top:g}:F?U?{right:"-16px"}:{left:"-16px"}:b?v?U?{right:"-16px",left:"-24px",top:s}:{left:"-16px",right:"-24px",top:s}:{left:"-24px",right:"-12px",top:s}:{top:s});return(0,f.jsx)(tv.A,{view:2,viewParameter:103,children:c.length>0||I?(0,f.jsxs)(a.az,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:H,...G,zIndex:V||F?-5:void 0}},id:"SuggestionsMenu",left:!0,overflow:"hidden",position:"absolute",role:"listbox",width:(V||F)&&`calc(100% + ${(V?24:16)*2}px`||p||"100%",children:[(0,f.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),style:{maxHeight:O?738:A,boxSizing:"content-box",overflowY:"auto"},children:(0,f.jsxs)(a.az,{ref:d,color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:H,paddingBottom:O?140:"4px",paddingTop:e&&72||F&&140||C&&"28px"||"32px"}},direction:"column",display:"flex",overflow:"hidden",width:"100%",children:[n&&(0,f.jsx)(a.az,{marginBottom:4,marginStart:8,marginTop:4,children:(0,f.jsx)(a._Y,{size:"600",children:t.length>0?(0,tm.vQ)(h._('Search your Pins for {{ query }}', 'searchBox.suggestionsMenu.searchYourPinsForQueryText', 'Heading for search autocomplete when searching your own Pins for specific query'),{query:t}):h._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})}),I?(0,f.jsx)(a.az,{alignItems:"center",display:"flex",justifyContent:"start",marginBottom:3,marginTop:-2,paddingX:6,children:(0,f.jsx)(a._Y,{color:"subtle",size:"200",children:h._('You can add just about anything to update your search results', 'searchBox.suggestionsMenu.multimodalSearch.youCanAddJustAboutAnythingToUpdateYourSearchResultsText', 'Text for search autocomplete when performing a multimodal search')})}):c.map((e,s)=>e.items.length?(0,f.jsx)(a.az,{marginBottom:C&&!O?9:4,paddingX:8,children:function(e,s,i){let o=(0,E.n6)(c),a=null==x?void 0:x-o[s],r=e=>{S((0,E.n6)(c)[s]+e)};if("story"===e.type&&"shopping_spotlight"===e.story_type&&R)return(0,f.jsx)(tI.A,{handleFeaturedBoardSubmit:P});switch(e.type){case"recent_query":return(0,f.jsx)(tZ,{containerWidth:i,focusedIndex:a,groupIndex:s,onSuggestionMouseEnter:r,onSuggestionMouseLeave:N,searchBoxRenderStopwatch:l,suggestions:e.items});case"recent_save":return(0,f.jsx)(tY,{focusedIndex:a,groupIndex:s,onSuggestionMouseEnter:r,onSuggestionMouseLeave:N,suggestions:e.items});case"recent_view":return(0,f.jsx)(tX,{focusedIndex:a,groupIndex:s,onSuggestionMouseEnter:r,onSuggestionMouseLeave:N,suggestions:e.items});case"story":return"shopping_spotlight"===e.story_type?(0,f.jsx)(tQ,{containerWidth:i,focusedIndex:a,groupIndex:s,index:0,onSuggestionMouseEnter:r,onSuggestionMouseLeave:N,searchBoxRenderStopwatch:l,suggestions:e}):(0,f.jsx)(t0,{containerWidth:i,focusedIndex:a,groupIndex:s,index:0,onSuggestionMouseEnter:r,onSuggestionMouseLeave:N,searchBoxRenderStopwatch:l,suggestions:e});case"blended_autocomplete":return(0,f.jsx)(tM,{experiences:m,focusedIndex:a,onSuggestionMouseEnter:r,onSuggestionMouseLeave:N,query:t,suggestions:e.items})}return null}(e,s,T)},`${t}-${e.type}-${e.title?.format??""}`):null)]})}),O&&!I&&(0,f.jsx)(a.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, var(--sema-color-background-transparent) 0%, var(--sema-color-background-default) 20%)",pointerEvents:"none",transition:"opacity 0.1s"}},height:170,left:!0,position:"absolute",width:"100%"})]}):(0,f.jsx)(a.az,{})})}function t6({inlineSYOP:e,searchBoxHeight:t,suggestionGroups:s,width:a}){(0,o.useEffect)(()=>{(0,i.A)("SuggestionsMenuContainer","/app/www/discover/SearchBox/SuggestionsMenuContainer.tsx")},[]);let l=(0,F.A)({shouldSkipExpActivation:!0}),r=d(),n=(0,tg.A)(),c=p(),{isBot:g}=(0,u._8)(),h=(0,b.A)(),{checkExperiment:m}=(0,R.A)(),{autocompleteRequestSurface:v,enteredScope:_,enteredQuery:y,updateSuggestionGroups:w,isInTypeaheadSession:x,isSyop:A,multimodalPinId:k}=(0,j.Z)();(0,o.useEffect)(()=>{x&&!A&&(y?(c?.isTiming&&c?.abort("pivoted"),c?.start()):r?.isTiming||r?.start(),y?(tp.isActive()&&tp.abort("pivoted"),tp.start()):n.isActive()||n.start())},[x,A,y]);let{data:S}=(0,L.A)(g?null:{name:"SearchTabResource"}),{state:{recentSaves:P,recentViews:M}}=ta(),{items:I,isLoaded:z}=(0,td.HI)({autocompleteRequestSurface:v}),E=(0,td.cl)({query:y,scope:_,autocompleteRequestSurface:v});return((0,o.useEffect)(()=>{h.isAuth&&S&&S.length>0&&z&&I.length<9&&m("dweb_ac_empty_state_new_user_onboarding_exp")},[I,S,h.isAuth,m,z]),(0,o.useEffect)(()=>{let e=S||[],t=h.isAuth?e.filter(e=>"shopping_spotlight"!==e.story_type):e;w(A?[{items:I,type:"recent_query"},{items:M,type:"recent_view"},{items:P,type:"recent_save"}]:y.length?E:[{items:I,type:"recent_query"},...t||[]])},[E,A,w,y,S,I,P,M,_,h]),l)?null:x&&(s.length>0||k)&&(0,f.jsx)(t3,{inlineSYOP:e,query:y,searchBoxHeight:t,searchBoxRenderStopwatch:r,showSyopHeading:A,suggestionGroups:s,width:a})}var t5=s(106301);function t4({children:e}){(0,o.useEffect)(()=>{(0,i.A)("CloseupDelayedSearchBoxWrapper","/app/www/VerticalNav/auth/CloseupDelayedSearchBoxWrapper.tsx")},[]);let t=(0,m.zy)(),s=function(){let{group:e}=(0,$.A)()||{group:""},t=(0,m.zy)();return!!(e&&e.includes("delay"))&&(0,T.dM)(t)}(),[l,r]=(0,o.useState)(!1),n=(0,o.useRef)(0);return((0,o.useEffect)(()=>{s&&(n.current=Date.now());let e=setTimeout(()=>r(!1),0);return()=>clearTimeout(e)},[s,t.pathname]),(0,o.useEffect)(()=>{if(s){let e=()=>{Date.now()-n.current<400||r(!0)},t=setTimeout(()=>{window.scrollY>30&&r(!0)},400),s=setTimeout(()=>r(!0),1e4);return window.addEventListener("scroll",e),()=>{clearTimeout(t),clearTimeout(s),window.removeEventListener("scroll",e)}}return()=>{}},[s,t.pathname]),s&&!l)?(0,f.jsx)(a.az,{"data-test-id":"search-box-container",id:H.rv}):(0,f.jsx)(o.Fragment,{children:e})}function t7(e){let t=e.getBoundingClientRect(),s=window.innerHeight-240;return t.bottom<=s}function t8({children:e}){(0,o.useEffect)(()=>{(0,i.A)("SyopDelayedSearchBoxWrapper","/app/www/VerticalNav/auth/SyopDelayedSearchBoxWrapper.tsx")},[]);let t=(0,m.zy)(),s=(0,T.mi)(t),l=function(){let{group:e}=(0,$.A)()||{group:""},t=(0,m.zy)();return!!(e&&(0,T.mi)(t))}(),[r,n]=(0,o.useState)(!1),c=(0,o.useRef)(n);return((0,o.useEffect)(()=>{c.current=n},[n]),(0,o.useEffect)(()=>{if(!s){let e=setTimeout(()=>n(!1),0);return()=>clearTimeout(e)}},[s]),(0,o.useEffect)(()=>{if(!l)return;let e=document.getElementById(H.C3),t=e=>{let t=()=>{t7(e)&&c.current(!0)};requestAnimationFrame(t);let s=setTimeout(t,150),i=new IntersectionObserver(t=>{void 0!==t[0]&&t7(e)&&c.current(!0)},{rootMargin:"0px 0px -240px 0px",threshold:0});return i.observe(e),()=>{clearTimeout(s),i.disconnect()}};if(null!==e)return t(e);let s=null,i=new MutationObserver(()=>{let e=document.getElementById(H.C3);null!==e&&(i.disconnect(),s=t(e))});return i.observe(document.body,{childList:!0,subtree:!0}),()=>{i.disconnect(),s?.()}},[l,s]),l&&!r)?(0,f.jsx)(a.az,{"data-test-id":"search-box-container",id:H.rv}):(0,f.jsx)(o.Fragment,{children:e})}var t9=s(788446);function se({isPartner:e=!1,widthType:t="md",inlineSYOP:s}){let i=(0,r.A)(),{isRTL:l}=(0,u._8)(),{enabled:n}=(0,Y.A)(),{enabled:p}=(0,D.A)(),d=(0,F.A)({shouldSkipExpActivation:!0}),m=n||d,v=!!s,{group:_}=(0,$.A)()||{group:""},b=!!_&&!v,{pinId:y}=U(),w=(0,t9.A)(),{appUI:{showTypeaheadOverlay:x}}=(0,V.Y)(),{appliedQuery:A,displayedQuery:k,endPadding:S,enteredScope:P,handleClearSearch:M,handleScopeChange:z,handleSearchIconButtonClick:E,hasTypedSinceFocus:C,inputFocused:T,isContentTypeFilterHovered:L,isInTypeaheadSession:B,multimodalPinId:R,searchBoxHovered:N,setContentTypeFilterHovered:G,setSearchBoxHovered:W,showContentTypeFilter:q,showIconOnly:X,suggestionGroups:ee,voiceSearchPlaceholder:et}=(0,j.Z)(),es=!!A,eo=(0,h.A)()(),ea=(0,o.useRef)(null),el=!b&&!v&&!R&&q,er=R&&!b&&B,en=b&&B||er;if(X&&!T&&!es&&!B)return(0,f.jsxs)(a.az,{ref:ea,"data-test-id":"search-box-container",id:H.rv,children:[(0,f.jsx)(a.K0,{accessibilityLabel:i._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'accessibility label for search icon only at narrow screen width'),icon:"magnifying-glass",iconColor:"subtle",onClick:E,size:"lg"}),eo&&(0,f.jsx)(tc,{})]});let ec=t&&Object.keys(H.XO).includes(t)&&"shrink"!==t?H.XO[t]:"auto",ep=(0,f.jsx)(a.az,{ref:ea,dangerouslySetInlineStyle:{__style:en?{boxShadow:"var(--sema-elevation-shadow-floating)"}:{}},"data-test-id":"search-box-container",flex:"grow",id:H.rv,marginEnd:!p||b||v?0:2,marginTop:16*!!er,minWidth:b?void 0:ec,paddingX:p?0:d?4:2,rounding:en?500:void 0,children:(0,f.jsxs)(a.az,{dangerouslySetInlineStyle:v&&{__style:{backgroundColor:"var(--sema-color-background-default)",border:N?"1px solid var(--sema-color-hover-border-interactive)":"1px solid var(--sema-color-border-interactive)",outline:N?"0.5px solid var(--sema-color-hover-border-interactive)":"0"}}||!b&&!er&&{__style:{backgroundColor:N?I.uq:I.kP}}||void 0,display:"flex",height:b||er?116:48,rounding:v&&!B&&400||(m?J.Xr:600),children:[(0,f.jsxs)(a.az,{alignItems:"center",dangerouslySetInlineStyle:b||er?void 0:{__style:{padding:l?`0 16px 0 ${S}`:`0 ${S} 0 16px`,...B?{borderRadius:m?`${J.A4}px`:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{}}},display:"flex",flex:"grow",height:"100%",onMouseEnter:()=>{W(!0)},onMouseLeave:()=>{W(!1)},position:"relative",children:[!(k||T||R)&&(0,f.jsx)(a.az,{dangerouslySetInlineStyle:b?{__style:{position:"absolute",top:"19px",left:"20px"}}:void 0,flex:"none",marginEnd:2,zIndex:b?K.rc:void 0,children:(0,f.jsx)(a.In,{accessibilityLabel:i._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'Search icon in search box'),color:b?"default":void 0,icon:"magnifying-glass",size:b?24:16})}),(0,f.jsx)(O,{inlineSYOP:v,name:"searchBoxInput"}),(0,f.jsx)(e9,{displayedQuery:k,hasAppliedQuery:es,hasTypedSinceFocus:C,isInlineSYOP:v,isInTypeaheadSession:B,onClearSearch:M,searchBoxRef:ea,voiceSearchPlaceholder:et}),!!y&&(0,f.jsx)(ei,{}),(0,f.jsx)(g,{children:(0,f.jsx)(c,{children:(0,f.jsx)(t6,{inlineSYOP:v,searchBoxHeight:52,suggestionGroups:ee,width:"shrink"===t?"80vw":void 0})})}),eo&&(0,f.jsx)(tc,{})]}),el?(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,f.jsx)(Z,{currentlySelectedFilter:P,currentQuery:A,handleContentTypeFilterHover:()=>{e&&G(L)},handleScopeChange:z})]}):null]})});if(b){let e=B&&628||_.includes("large")&&636||380;return!(x&&!B)&&(0,f.jsx)(t4,{children:(0,f.jsx)(t8,{children:(0,f.jsx)(Q,{hideOnScroll:_.includes("hide")||_.includes("employees"),isInTypeaheadSession:B,searchBoxHovered:N,children:t=>{let s=t.isHidden&&!B;return(0,f.jsx)(a.az,{column:10,dangerouslySetInlineStyle:{__style:{bottom:48,left:l?void 0:`calc(50% + ${w/2}px)`,right:l?`calc(50% + ${w/2}px)`:void 0,transform:"translateX(-50%)",backgroundColor:B?"var(--sema-color-background-default)":void 0,boxShadow:"0 3px 12px 0 rgba(0, 0, 0, 0.25), 0 3px 36px var(--sema-elevation-background-blur-weak, 8px) rgba(209, 209, 209, 0.50)",transition:"opacity 200ms linear, width 150ms linear",opacity:s?.5:1}},maxWidth:e,position:"fixed",rounding:500,zIndex:new a.K5([K.rc]),children:ep})}})})})}return v&&B?(0,f.jsx)(a.az,{flex:"grow",height:48,minWidth:ec,children:(0,f.jsx)(a.Wd,{zIndex:new a.K5([K.rc]),children:(0,f.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{left:l?void 0:`calc(50% + ${w/2}px)`,right:l?`calc(50% + ${w/2}px)`:void 0,top:{otherProfile:368,selfProfile:78,syopResultsPage:14}[s??"selfProfile"],transform:"translateX(-50%)"}},position:"fixed",rounding:500,width:`calc(85% - ${w}px)`,children:ep})})}):ep}function st({iconOnly:e=!1,isPartner:t=!1,widthType:s="md",inlineSYOP:a}){return(0,o.useEffect)(()=>{(0,i.A)("SearchBox","/app/www/discover/SearchBox/SearchBox.tsx")},[]),(0,f.jsx)(t5.n,{children:(0,f.jsx)(l.Q,{children:(0,f.jsx)(tl,{children:(0,f.jsx)(j.U,{iconOnly:e,inlineSYOP:!!a,isPartner:t,widthType:s,children:(0,f.jsx)(se,{inlineSYOP:a,isPartner:t,widthType:s})})})})})}},323250(e,t,s){s.d(t,{A:()=>u,m:()=>d});var i=s(61163),o=s(859471),a=s(150880),l=s(538329),r=s(542975),n=s(496952),c=s(998377),p=s(562615);let g=Math.floor(3.5);function d({id:e,children:t,isHovered:s,url:l,onClick:r,onMouseEnter:n,onMouseLeave:c,onFocus:g,onBlur:d,rounding:u}){return(0,o.useEffect)(()=>{(0,i.A)("SuggestionReps","/app/www/discover/SearchBox/SuggestionReps.tsx")},[]),(0,p.jsx)(a.az,{"aria-selected":s?"true":"false","data-test-id":"search-suggestion",id:e,role:"option",children:(0,p.jsx)(a.IM,{active:s,children:(0,p.jsx)(a.$A,{href:l,onBlur:d,onFocus:g,onMouseDown:({event:e})=>e.preventDefault(),onMouseEnter:n,onMouseLeave:c,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.metaKey||e.ctrlKey||(e.preventDefault(),r())},rounding:u,children:t})})})}function u({highlightMatch:e=!1,iconName:t,imageUrl:s,isVerifiedMerchant:d=!1,label:u,onLoad:h,query:m,rounding:v,searchDelightConfig:_,subLabel:b,type:y,verified:f=!1}){(0,o.useEffect)(()=>{(0,i.A)("SuggestionReps","/app/www/discover/SearchBox/SuggestionReps.tsx")},[]);let w=(0,l.A)(),x="recent_pin_searches"===y?"rs-search-suggestion":s||t?"enriched-search-suggestion":"regular-search-suggestion";return(0,p.jsx)(a.az,{"data-test-id":x,display:"flex",paddingY:+!!s,width:"100%",children:(0,p.jsxs)(a.so,{alignItems:"center",gap:{row:2,column:0},children:[s?(0,p.jsx)(a.az,{"data-test-id":"enriched-autocomplete-image",height:40,marginStart:g,overflow:"hidden",rounding:v&&2===v?200:"circle",width:40,children:(0,p.jsx)(a._V,{alt:"",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,onLoad:h,role:"presentation",src:s})}):(0,p.jsx)(a.so,{alignItems:"center",height:40,justifyContent:"center",width:40,children:(0,p.jsx)(a.In,{accessibilityLabel:t?(0,r.vQ)(w._('{{ icon}} icon', 'SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon', 'contextual icon in typeahead (eg shopping tag icon to take users to product search)'),{icon:t}).join():"",color:"default",icon:t||"magnifying-glass",size:12})}),(0,p.jsxs)(a.so,{alignItems:"start",direction:"column",gap:{row:0,column:1},justifyContent:"center",children:[(0,p.jsxs)(a.so,{alignItems:"center",children:[e&&m?(0,p.jsx)(n.A,{query:m,searchDelightConfig:_,text:u||m}):(0,p.jsx)(a.KJ,{weight:"bold",children:u}),(f||d)&&(0,p.jsx)(a.az,{marginStart:1,children:(0,p.jsx)(c.A,{iconOnly:!0,isVerifiedIdentity:f,isVerifiedMerchant:d,size:"xs",surface:"SuggestionReps"})})]}),b&&(0,p.jsx)(a.KJ,{size:"100",children:b})]})]})})}},621556(e,t,s){s.d(t,{HI:()=>m,cl:()=>h});var i=s(859471),o=s(542665),a=s(693154),l=s(353614),r=s(538329),n=s(542975),c=s(601185),p=s(430705),g=s(124674),d=s(224723),u=s(713364);function h({query:e,scope:t,autocompleteRequestSurface:s}){let p,d=(0,r.A)(),u=(0,a.A)(),{checkExperiment:h}=(0,c.A)(),{group:m}=h("web_search_autocomplete_debounce"),v=Number.isFinite(p=Number(m.split("_")[1]))&&p>0?p:0,_=(0,o.A)(e,v),b=(0,g.A)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:t,autocomplete_request_surface:s},value:v>0?_:e});return(0,i.useMemo)(()=>{let e=b?.map(e=>{if("query"===e.type){let{modified_filter_eligibility:t,query:s}=e,i=t?(0,n.vQ)(t?.hair_pattern?.eligible_filters?d._('{{ query }} by hair pattern', 'SearchSuggestion.HairPatternFilterSuggestion', 'Suggested search for a hair pattern filter-eligible query'):d._('{{ query }} by skin tone range', 'SearchSuggestion.SkinToneFilterSuggestion', 'Suggested search for a skin tone filter-eligible query'),{query:s}).join(""):s;return{...e,label:i}}return e});if(u.isAuth)return[{items:e||[],type:"blended_autocomplete"}];let t=(0,l.A)(e||[],e=>e.type);return[{items:["query","user"].flatMap(e=>t[e]).filter(e=>!!e),type:"blended_autocomplete"}]},[b,u,d])}function m(e){let{autocompleteRequestSurface:t}=e||{},{group:s}=(0,u.A)({isSyop:0!==t}),{isLoaded:o,data:l}=function(e){let t=(0,a.A)(),{autocompleteRequestSurface:s}=e||{};return(0,p.A)(t.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:d.cO.PINS,autocomplete_request_surface:s},noCache:!0}:null)}(e);return(0,i.useMemo)(()=>{if(o&&l)return{items:l.items.slice(0,s?.includes("recent_search")?12:5).map((e,t)=>({...e,resultIndex:t})),isLoaded:o};return{items:[],isLoaded:o}},[o,l,s])}},142381(e,t,s){s.d(t,{AJ:()=>r,Dp:()=>a,GZ:()=>v,N6:()=>b,P0:()=>u,Sr:()=>g,TB:()=>p,WA:()=>o,WC:()=>c,bL:()=>h,gU:()=>_,ik:()=>d,kE:()=>y,mP:()=>n,wj:()=>l,yi:()=>m});var i=s(802209);let o=1048576,a=3,l=20,r=3,n=10,c=50,p=10,g=1200,d=375,u=375/i.$G,h=4096,m="#FFFFFF",v={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},_=420,b=325,y=768},672908(e,t,s){s.d(t,{A:()=>i});let i={base_grid_item:["aggregatedpindata.pin_tags","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","pin.access","pin.ad_data","pin.ad_destination_url","pin.ad_match_reason","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.carousel_data()","pin.collection_pin()","pin.created_at","pin.debug_info_html","pin.description","pin.domain","pin.dominant_color","pin.embed","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.images[236x,345x,474x,564x,736x,1200x,orig]","pin.is_downstream_promotion","pin.is_eligible_for_web_closeup","pin.is_prefetch_enabled","pin.is_promoted","pin.is_uploaded","pin.link","pin.link_utm_applicable_and_replaced","pin.promoted_is_removable","pin.promoter()","pin.reaction_counts","pin.rich_summary()","pin.should_open_in_stream","pin.sponsorship","pin.story_pin_data()","pin.story_pin_data_id","pin.title","pin.tracking_params","pin.type","pin.utm_link","pin.videos()","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[236x,345x,474x,564x,736x,1200x,orig]","pincarouselslot.link","pincarouselslot.title","pincarouselslot.videos()","user.ads_only_profile_site","user.full_name","user.image_medium_url","user.image_small_url","user.is_ads_only_profile","user.username","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]","domain.official_user()","pin.grid_attribution","pin.link_domain()","pin.link_user_website()","pin.native_creator()","pin.origin_pinner()","pin.pinner()","userwebsite.official_user()","user.is_primary_website_verified","user.is_verified_merchant","user.verified_identity","pin.is_eligible_for_pdp","pin.is_eligible_for_related_products","pin.is_oos_product","pin.is_stale_product","pin.shopping_flags","pin.product_metadata()","product_metadata.shopping_flags","pin.is_video","pin.video_status","pin.video_status_message","pin.advertiser_id","pin.attribution_source_id","pin.campaign_id","pin.insertion_id","pin.pin_promotion_id"]}},215731(e,t,s){s.d(t,{A:()=>l,p:()=>a});var i=s(859471);let o=(0,i.createContext)();function a(){return(0,i.use)(o)}let l=o}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/19485-cc58e258c2fe4753.mjs.map